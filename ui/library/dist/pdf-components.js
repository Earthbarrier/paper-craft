!function(Q,F){"object"==typeof exports&&"object"==typeof module?module.exports=F(require("react-pdf"),require("react")):"function"==typeof define&&define.amd?define(["react-pdf","react"],F):"object"==typeof exports?exports["@allenai/pdf-components"]=F(require("react-pdf"),require("react")):Q["@allenai/pdf-components"]=F(Q["react-pdf"],Q.React)}(this,((__WEBPACK_EXTERNAL_MODULE__296__,__WEBPACK_EXTERNAL_MODULE__12__)=>(()=>{var __webpack_modules__={12:Q=>{"use strict";Q.exports=__WEBPACK_EXTERNAL_MODULE__12__},296:Q=>{"use strict";Q.exports=__WEBPACK_EXTERNAL_MODULE__296__},337:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  "default": () => (/* binding */ index)\n});\n\n// UNUSED EXPORTS: ArrowFlag, ArrowFlagBase, BoundingBox, ContextProvider, DEFAULT_ZOOM_SCALE, DocumentContext, DocumentWrapper, DownloadButton, HighlightOverlay, IconFlag, Outline, OutlineItem, Overlay, POSITION, PageNumberControl, PageRenderContext, PageWrapper, PercentFormatter, PrintButton, RENDER_TYPE, ScrollContext, SidePanel, Thumbnail, ThumbnailList, TransformContext, UiContext, ZoomInButton, ZoomOutButton, computeBoundingBoxStyle, computePageStyle, generatePageIdFromIndex, getPageHeight, getPageWidth, isSideways, rotateClockwise, rotateCounterClockwise, scaleRawBoundingBox, scrollToId, scrollToPdfPageIndex\n\n// EXTERNAL MODULE: ./node_modules/classnames/index.js\nvar classnames = __webpack_require__(485);\nvar classnames_default = /*#__PURE__*/__webpack_require__.n(classnames);\n// EXTERNAL MODULE: external {"commonjs":"react","commonjs2":"react","amd":"react","root":"React"}\nvar external_commonjs_react_commonjs2_react_amd_react_root_React_ = __webpack_require__(12);\n;// ./src/utils/provider.ts\nfunction logProviderWarning(functionName, providerName) {\n    console.warn(`Unable to call ${functionName}. The ${providerName} Provider may not be set up correctly.`);\n}\n\n;// ./src/utils/rotate.ts\nvar PageRotation;\n(function (PageRotation) {\n    PageRotation[PageRotation["Rotate0"] = 0] = "Rotate0";\n    PageRotation[PageRotation["Rotate90"] = 90] = "Rotate90";\n    PageRotation[PageRotation["Rotate180"] = 180] = "Rotate180";\n    PageRotation[PageRotation["Rotate270"] = 270] = "Rotate270";\n})(PageRotation || (PageRotation = {}));\nfunction rotateClockwise(rotation) {\n    switch (rotation) {\n        case PageRotation.Rotate0:\n            return PageRotation.Rotate90;\n        case PageRotation.Rotate90:\n            return PageRotation.Rotate180;\n        case PageRotation.Rotate180:\n            return PageRotation.Rotate270;\n        default:\n            return PageRotation.Rotate0;\n    }\n}\nfunction rotateCounterClockwise(rotation) {\n    switch (rotation) {\n        case PageRotation.Rotate0:\n            return PageRotation.Rotate270;\n        case PageRotation.Rotate90:\n            return PageRotation.Rotate0;\n        case PageRotation.Rotate180:\n            return PageRotation.Rotate90;\n        default:\n            return PageRotation.Rotate180;\n    }\n}\n/**\n * Tests whether the page is rotated 90 degrees clockwise or counterclockwise from zero,\n * e.g. whether the page "is rotated sideways."\n */\nfunction isSideways(rotation) {\n    return rotation === PageRotation.Rotate90 || rotation === PageRotation.Rotate270;\n}\n\n;// ./src/utils/scroll.ts\n\n// Each page div is ID\'d according to page index\n// e.g. reader_pg_0, reader_pg_1, etc.\nconst PAGE_NAV_TARGET_ID_ROOT = \'reader_pg_\';\nconst PDF_HEIGHT_POINTS = 792;\nconst PDF_WIDTH_POINTS = 612;\nfunction generatePageIdFromIndex(pageIndex) {\n    return `${PAGE_NAV_TARGET_ID_ROOT}${pageIndex}`;\n}\nfunction scrollToId(id) {\n    const element = document.getElementById(id);\n    if (element) {\n        element.scrollIntoView({ behavior: \'smooth\', block: \'start\', inline: \'center\' });\n    }\n    else {\n        console.error(`Could not find scroll target with ID #${id}`);\n    }\n}\nfunction scrollToPdfPageIndex(pageIndex) {\n    scrollToId(generatePageIdFromIndex(pageIndex));\n}\n/**\n * Scroll PDF document to a specific position.\n * @param pageIndex The index of the page where the position locates at\n * @param leftPoints The horizontal distance between the origin and the position (in PDF coordinates)\n * @param bottomPoints The vertical distance between the origin and the position (in PDF coordinates)\n * @param rotation The rotation degree of the document\n */\nfunction scrollToPosition(pageIndex, leftPoints, bottomPoints, rotation = PageRotation.Rotate0) {\n    /*\n      Vertical scroll distance is calculated as\n      = total number of previous pages * page height including top/down margins\n      + the margin top of current page\n      + the distance from the page top to the specified position\n  \n      Notice that the scroll distance is measured in pixels,\n      so leftPoints/bottomPoints has to be transformed from points to pixels first.\n    */\n    const { width, height, marginTop, marginBottom, marginLeft, marginRight } = getPagePropertiesInPixels();\n    const heightWithMargins = height + marginTop + marginBottom;\n    // When a paper is rotated, its height and width would be switched automatically. However, leftPoints and bottomPoints remain the same.\n    let marginTopPixels = marginTop;\n    let bottomPixels = (height * bottomPoints) / PDF_HEIGHT_POINTS;\n    let leftPixels = (width * leftPoints) / PDF_WIDTH_POINTS;\n    if (rotation == PageRotation.Rotate90) {\n        marginTopPixels = marginLeft;\n        bottomPixels = (height * (PDF_WIDTH_POINTS - leftPoints)) / PDF_WIDTH_POINTS;\n        leftPixels = (width * bottomPoints) / PDF_HEIGHT_POINTS;\n    }\n    else if (rotation == PageRotation.Rotate180) {\n        marginTopPixels = marginBottom;\n        bottomPixels = (height * (PDF_HEIGHT_POINTS - bottomPoints)) / PDF_HEIGHT_POINTS;\n        leftPixels = (width * (PDF_WIDTH_POINTS - leftPoints)) / PDF_WIDTH_POINTS;\n    }\n    else if (rotation == PageRotation.Rotate270) {\n        marginTopPixels = marginRight;\n        bottomPixels = (height * leftPoints) / PDF_WIDTH_POINTS;\n        leftPixels = (width * (PDF_HEIGHT_POINTS - bottomPoints)) / PDF_HEIGHT_POINTS;\n    }\n    // Find page element\n    const pageId = generatePageIdFromIndex(pageIndex);\n    const pageIdElement = document.getElementById(pageId);\n    if (!pageIdElement) {\n        return;\n    }\n    // Find first scrollable parent\n    const parentElement = getScrollParent(pageIdElement);\n    if (!parentElement) {\n        return;\n    }\n    // Apply scroll\n    parentElement.scrollTo({\n        top: calculateTopPx({\n            heightWithMarginsInPx: heightWithMargins,\n            pageIndex: pageIndex,\n            marginTopPx: marginTopPixels,\n            heightPx: height,\n            bottomPx: bottomPixels,\n        }),\n        left: Math.floor(leftPixels),\n        behavior: \'smooth\',\n    });\n}\nfunction getScrollParent(node) {\n    const minScrollableHeight = 50; // used to check for a bug where Firefox gives inline containers a small scrollHeight when it shouldnt\n    if (typeof document === \'undefined\') {\n        return null;\n    }\n    if (!node || node.nodeName.toLowerCase() === \'body\') {\n        return document.documentElement;\n    }\n    if (node.scrollHeight - node.clientHeight > minScrollableHeight && !isOverflowIsHidden(node)) {\n        return node;\n    }\n    return getScrollParent(node.parentElement);\n}\nfunction isOverflowIsHidden(node) {\n    const style = getComputedStyle(node);\n    return (style.overflow.includes(\'hidden\') ||\n        style.overflowX.includes(\'hidden\') ||\n        style.overflowY.includes(\'hidden\'));\n}\nfunction calculateTopPx({ heightWithMarginsInPx, pageIndex, marginTopPx, heightPx, bottomPx, }) {\n    return Math.floor(heightWithMarginsInPx * pageIndex + marginTopPx + (heightPx - bottomPx));\n}\n/**\n * Get lengths, widths, and margins of a page.\n * @returns a PageProperties object\n */\nfunction getPagePropertiesInPixels() {\n    const firstPage = document.getElementById(generatePageIdFromIndex(0));\n    if (!firstPage) {\n        console.error(`Cannot get the first page of this document.`);\n        const emptyPageProperties = {\n            width: 0,\n            height: 0,\n            marginTop: 0,\n            marginBottom: 0,\n            marginLeft: 0,\n            marginRight: 0,\n        };\n        return emptyPageProperties;\n    }\n    const style = getComputedStyle(firstPage);\n    const pageProperties = {\n        width: parseInt(style.width),\n        height: parseInt(style.height),\n        marginTop: parseInt(style.marginTop),\n        marginBottom: parseInt(style.marginBottom),\n        marginLeft: parseInt(style.marginLeft),\n        marginRight: parseInt(style.marginRight),\n    };\n    return pageProperties;\n}\nfunction calculateTargetPosition({ scale, leftPoint, bottomPoint, pageDimensions, rotation = PageRotation.Rotate0, }) {\n    switch (rotation) {\n        default:\n        case PageRotation.Rotate0: {\n            const leftPx = (leftPoint / PDF_WIDTH_POINTS) * pageDimensions.width * scale;\n            const topPx = (1 - bottomPoint / PDF_HEIGHT_POINTS) * pageDimensions.height * scale;\n            return { leftPx, topPx };\n        }\n    }\n}\n\n;// ./src/context/DocumentContext.ts\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\nconst DocumentContext = external_commonjs_react_commonjs2_react_amd_react_root_React_.createContext({\n    numPages: 0,\n    numPagesLoaded: 0,\n    outline: [],\n    outlinePositions: null,\n    pageDimensions: { height: 0, width: 0 },\n    pdfDocProxy: undefined,\n    getOutlineTargets: opts => {\n        logProviderWarning(`getOutlineTargets(${JSON.stringify(opts)})`, \'DocumentContext\');\n        return [];\n    },\n    setNumPages: numPages => {\n        logProviderWarning(`setNumPages(${numPages})`, \'DocumentContext\');\n    },\n    setNumPagesLoaded: numPages => {\n        logProviderWarning(`setNumPagesLoaded(${numPages})`, \'DocumentContext\');\n    },\n    setOutline: outline => {\n        logProviderWarning(`setOutline(${outline})`, \'DocumentContext\');\n    },\n    setOutlinePositions: outline => {\n        logProviderWarning(`setOutlinePositions(${outline})`, \'DocumentContext\');\n    },\n    setPageDimensions: pageDimensions => {\n        logProviderWarning(`setPageDimensions(${pageDimensions})`, \'DocumentContext\');\n    },\n    setPdfDocProxy: pdfDocProxy => {\n        logProviderWarning(`setPdfDocProxy(${pdfDocProxy})`, \'DocumentContext\');\n    },\n});\nfunction useDocumentContextProps() {\n    const [numPages, setNumPages] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(0);\n    const [numPagesLoaded, setNumPagesLoaded] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(0);\n    const [outline, setOutline] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(null);\n    const [outlinePositions, setOutlinePositions] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(null);\n    const [pageDimensions, setPageDimensions] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState({\n        height: 0,\n        width: 0,\n    });\n    const [pdfDocProxy, setPdfDocProxy] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState();\n    // Draw outline target into the pdf based on the args\n    const getOutlineTargets = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback(({ pageNumber, pageIndex, scale, rotation, pageDimensions, }) => {\n        if (typeof pageIndex === \'number\') {\n            pageNumber = pageIndex + 1;\n        }\n        if (typeof pageNumber !== \'number\') {\n            return [];\n        }\n        const positions = (outlinePositions === null || outlinePositions === void 0 ? void 0 : outlinePositions.get(pageNumber)) || [];\n        return positions.map(({ dest, leftPoint, bottomPoint }) => {\n            const { leftPx, topPx } = calculateTargetPosition({\n                scale,\n                rotation,\n                leftPoint,\n                bottomPoint,\n                pageDimensions,\n            });\n            return {\n                dest,\n                leftPx,\n                topPx,\n            };\n        });\n    }, [outlinePositions]);\n    return {\n        numPages,\n        numPagesLoaded,\n        outline,\n        outlinePositions,\n        pageDimensions,\n        pdfDocProxy,\n        getOutlineTargets,\n        setNumPages,\n        setNumPagesLoaded,\n        setOutline,\n        setOutlinePositions,\n        setPageDimensions: setPageDimensions,\n        setPdfDocProxy,\n    };\n}\nfunction buildOutlinePositions(pdfDocProxy, outline) {\n    var _a;\n    return __awaiter(this, void 0, void 0, function* () {\n        if (!outline) {\n            outline = yield pdfDocProxy.getOutline();\n        }\n        // Depth first search through outline items\n        const itemQueue = outline.slice();\n        const proms = [];\n        while (itemQueue.length > 0) {\n            const item = itemQueue.pop();\n            if (!item) {\n                continue; // Not able to process\n            }\n            const { dest, items } = item;\n            // Add child items to queue\n            if (Array.isArray(items)) {\n                itemQueue.push(...items);\n            }\n            // Fetch destinations for item\n            if (Array.isArray(dest)) {\n                proms.push(...dest.map(dest => getDestination(pdfDocProxy, dest)));\n            }\n            else if (typeof dest === \'string\') {\n                proms.push(getDestination(pdfDocProxy, dest));\n            }\n        }\n        // Collect results all at once, so we don\'t have to pay for the cost of\n        // queueing messages sent to the worker\n        const results = yield Promise.all(proms);\n        // Split results into pages\n        const map = new Map();\n        for (const result of results) {\n            if (!result) {\n                continue; // Filter out null\n            }\n            const { pageNumber } = result;\n            if (!map.has(pageNumber)) {\n                map.set(pageNumber, []);\n            }\n            (_a = map.get(pageNumber)) === null || _a === void 0 ? void 0 : _a.push(result);\n        }\n        // Freeze objects so consumers cannot mutate\n        for (const pagePos of map.values()) {\n            for (const pos of pagePos) {\n                Object.freeze(pos);\n            }\n            Object.freeze(pagePos);\n        }\n        Object.freeze(map);\n        return map;\n    });\n}\nfunction getDestination(pdfDocProxy, dest) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const result = yield pdfDocProxy.getDestination(dest);\n        if (!result) {\n            return null;\n        }\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        const [ref, _format, leftPoint, bottomPoint] = result;\n        const pageIndex = yield pdfDocProxy.getPageIndex(ref);\n        const pageNumber = pageIndex + 1;\n        return { pageNumber, dest, leftPoint, bottomPoint };\n    });\n}\n\n;// ./src/context/TransformContext.ts\n\n\n\nconst DEFAULT_ZOOM_SCALE = 1.0;\nconst TransformContext = external_commonjs_react_commonjs2_react_amd_react_root_React_.createContext({\n    pixelRatio: (typeof window !== \'undefined\' ? window.devicePixelRatio : null) || 1,\n    rotation: PageRotation.Rotate0,\n    scale: 1,\n    zoomIncrementValue: 0.2,\n    setPixelRatio: pixelRatio => {\n        logProviderWarning(`setPixelRatio(${pixelRatio})`, \'TransformContext\');\n    },\n    setRotation: rotation => {\n        logProviderWarning(`setRotation(${rotation})`, \'TransformContext\');\n    },\n    setScale: scale => {\n        logProviderWarning(`setScale(${scale})`, \'TransformContext\');\n    },\n    setZoomIncrementValue: value => {\n        logProviderWarning(`setZoomIncrementValue(${value})`, \'TransformContext\');\n    },\n});\nfunction useTransformContextProps() {\n    const [pixelRatio, setPixelRatio] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState((typeof window !== \'undefined\' ? window.devicePixelRatio : null) || 1);\n    const [rotation, setRotation] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(PageRotation.Rotate0);\n    const [scale, setScale] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(DEFAULT_ZOOM_SCALE);\n    const [zoomIncrementValue, setZoomIncrementValue] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(0.2);\n    return {\n        pixelRatio,\n        rotation,\n        scale,\n        setPixelRatio,\n        setRotation,\n        setScale,\n        zoomIncrementValue,\n        setZoomIncrementValue,\n    };\n}\n\n;// ./src/utils/style.ts\n\n// Computes the style for a bounding box, accounting for page roation and page scaling/zoom\nfunction computeBoundingBoxStyle(boundingBoxSize, pageDimensions, rotation, scale) {\n    const { top, left, height, width } = boundingBoxSize;\n    switch (rotation) {\n        case PageRotation.Rotate90:\n            return {\n                top: left * scale,\n                left: (pageDimensions.height - height - top) * scale,\n                height: width * scale,\n                width: height * scale,\n            };\n        case PageRotation.Rotate180:\n            return {\n                top: (pageDimensions.height - height - top) * scale,\n                left: (pageDimensions.width - width - left) * scale,\n                height: height * scale,\n                width: width * scale,\n            };\n        case PageRotation.Rotate270:\n            return {\n                top: (pageDimensions.width - width - left) * scale,\n                left: top * scale,\n                height: width * scale,\n                width: height * scale,\n            };\n        default:\n            return {\n                top: top * scale,\n                left: left * scale,\n                height: height * scale,\n                width: width * scale,\n            };\n    }\n}\n// Compute the style for a page, accounting for page rotation and page scaling/zoom\nfunction computePageStyle(pageDimensions, rotation, scale) {\n    return {\n        height: getPageHeight(pageDimensions, rotation) * scale,\n        width: getPageWidth(pageDimensions, rotation) * scale,\n        left: 0,\n        top: 0,\n    };\n}\n// Get page height accounting for page rotation- if the page is rotated on its side, its width becomes its height\nfunction getPageHeight(pageDimensions, rotation) {\n    return isSideways(rotation) ? pageDimensions.width : pageDimensions.height;\n}\n// Get page width accounting for page rotation- if the page is rotated on its side, its height becomes its width\nfunction getPageWidth(pageDimensions, rotation) {\n    return isSideways(rotation) ? pageDimensions.height : pageDimensions.width;\n}\n\n;// ./src/components/BoundingBox.tsx\nvar __rest = (undefined && undefined.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === "function")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n\n\n\n\n\nconst BoundingBox = (_a) => {\n    var { top, left, height, width, className, underlineClassName, id, isHighlighted, onClick, voiceOverLabel } = _a, extraProps = __rest(_a, ["top", "left", "height", "width", "className", "underlineClassName", "id", "isHighlighted", "onClick", "voiceOverLabel"]);\n    const { pageDimensions } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(DocumentContext);\n    const { rotation, scale } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(TransformContext);\n    const boxSize = { top, left, height, width };\n    const componentClassName = classnames_default()(\'pdf-reader__overlay-bounding-box\', isHighlighted === true ? \'pdf-reader__overlay-bounding-box-highlighted\' : \'\', className);\n    const getBoundingBoxStyle = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback(() => {\n        return computeBoundingBoxStyle(boxSize, pageDimensions, rotation, scale);\n    }, [pageDimensions, rotation, scale]);\n    const rotationClassName = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback(() => {\n        return `rotate${rotation}`;\n    }, [rotation]);\n    return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement(external_commonjs_react_commonjs2_react_amd_react_root_React_.Fragment, null,\n        external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("div", { className: `pdf-reader__overlay-bounding-box-underline ${underlineClassName || rotationClassName()}`, style: getBoundingBoxStyle() }),\n        external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("div", Object.assign({ id: id, className: `${componentClassName} ${rotationClassName()}`, style: getBoundingBoxStyle(), onClick: onClick, role: "button", tabIndex: 0, "aria-label": voiceOverLabel }, extraProps))));\n};\n\n// EXTERNAL MODULE: external "react-pdf"\nvar external_react_pdf_ = __webpack_require__(296);\n;// ./src/utils/ScrollDirectionDetector.ts\nvar ScrollDirection;\n(function (ScrollDirection) {\n    ScrollDirection["UP"] = "UP";\n    ScrollDirection["DOWN"] = "DOWN";\n})(ScrollDirection || (ScrollDirection = {}));\nclass ScrollDetector {\n    constructor(el, setScrollDirection, setIsAtTop, setScrollThresholdReachedInDirection, scrollThreshold) {\n        this._onScroll = () => {\n            const currScrollTop = this._el.scrollTop;\n            if (this._isAtTop !== (currScrollTop === 0)) {\n                this._isAtTop = currScrollTop === 0;\n                this._setIsAtTop(currScrollTop === 0);\n            }\n            if (this._lastScrollTop === currScrollTop) {\n                return;\n            }\n            // Determine direction\n            const currScrollDirection = (() => {\n                if (currScrollTop <= 0) {\n                    return ScrollDirection.DOWN;\n                }\n                return this._lastScrollTop < currScrollTop ? ScrollDirection.DOWN : ScrollDirection.UP;\n            })();\n            // Update state, if changed\n            this._lastScrollTop = currScrollTop;\n            if (this._lastScrollDirection !== currScrollDirection) {\n                this._lastScrollDirection = currScrollDirection;\n                this._setScrollDirection(currScrollDirection);\n                this._lastScrollTopBeforeDirectionChange = currScrollTop;\n                this._isScrollThresholdReachedInDirection = null;\n                if (this._setScrollThresholdReachedInDirection && !this._isAtTop) {\n                    this._setScrollThresholdReachedInDirection(null);\n                }\n            }\n            else {\n                if (this._scrollThreshold && this._setScrollThresholdReachedInDirection) {\n                    const scrolledAmount = Math.abs(this._lastScrollTopBeforeDirectionChange - currScrollTop);\n                    if (scrolledAmount >= this._scrollThreshold) {\n                        this._isScrollThresholdReachedInDirection = this._lastScrollDirection;\n                        this._setScrollThresholdReachedInDirection(this._lastScrollDirection);\n                    }\n                }\n            }\n        };\n        this._el = el;\n        this._lastScrollTop = this._el.scrollTop;\n        this._lastScrollDirection = null;\n        this._setScrollDirection = setScrollDirection;\n        this._isAtTop = null;\n        this._setIsAtTop = setIsAtTop;\n        this._lastScrollTopBeforeDirectionChange = this._el.scrollTop;\n        this._scrollThreshold = scrollThreshold;\n        this._isScrollThresholdReachedInDirection = null;\n        this._setScrollThresholdReachedInDirection = setScrollThresholdReachedInDirection;\n    }\n    attachScrollListener() {\n        var _a, _b;\n        if (((_b = (_a = this._el) === null || _a === void 0 ? void 0 : _a.tagName) === null || _b === void 0 ? void 0 : _b.toLowerCase()) === \'html\') {\n            window.addEventListener(\'scroll\', this._onScroll, false);\n            return;\n        }\n        this._el.addEventListener(\'scroll\', this._onScroll, false);\n    }\n    detachScrollListener() {\n        var _a, _b;\n        if (((_b = (_a = this._el) === null || _a === void 0 ? void 0 : _a.tagName) === null || _b === void 0 ? void 0 : _b.toLowerCase()) === \'html\') {\n            window.removeEventListener(\'scroll\', this._onScroll, false);\n            return;\n        }\n        this._el.removeEventListener(\'scroll\', this._onScroll, false);\n    }\n}\n\n;// ./src/utils/VisibleEntriesDetector.ts\nconst DEFAULT_ROOT_MARGIN = \'50px\';\nconst DEFAULT_THRESHOLD = Array.from({ length: 101 }).map((_, i) => i / 100);\nclass VisibleEntriesDetector {\n    constructor({ root, thresHold, setVisibleEntries, onVisibleEntriesChange, }) {\n        var _a;\n        this._root = root;\n        this._lastVisibleEntries = new Map();\n        this._setVisibleEntries = setVisibleEntries;\n        this._onVisibleEntriesChange = onVisibleEntriesChange;\n        this._observer = new IntersectionObserver(entries => {\n            // Collect visible and hidden elements\n            const visibleEntries = entries.filter(entry => entry.isIntersecting);\n            const hiddenEntries = entries.filter(entry => !entry.isIntersecting);\n            // Determine what needs saved\n            const newVisibleEntries = this._onVisibleEntriesChange({\n                visibleEntries,\n                hiddenEntries,\n                lastEntries: this._lastVisibleEntries,\n            });\n            const frozenEntries = new Map(newVisibleEntries);\n            Object.freeze(frozenEntries);\n            this._lastVisibleEntries = frozenEntries;\n            this._setVisibleEntries(frozenEntries);\n        }, \n        // Default setting for intersection observer\n        {\n            root: ((_a = this._root.tagName) === null || _a === void 0 ? void 0 : _a.toLowerCase()) === \'html\' ? null : this._root,\n            rootMargin: DEFAULT_ROOT_MARGIN,\n            threshold: thresHold ? thresHold : DEFAULT_THRESHOLD,\n        });\n    }\n    observeNodes(selector) {\n        for (const node of this._root.querySelectorAll(selector)) {\n            this._observer.observe(node);\n        }\n    }\n    destroy() {\n        this._observer.disconnect();\n    }\n}\n\n;// ./src/context/ScrollContext.ts\n\n\n\n\n\nconst OUTLINE_ATTRIBUTE = \'data-outline-target-dest\';\nconst OUTLINE_SELECTOR = \'.pdf-reader__page__outline-target\';\nconst PAGE_NUMBER_ATTRIBUTE = \'data-page-number\';\nconst PAGE_NUMBER_SELECTOR = `.pdf-reader__page[${PAGE_NUMBER_ATTRIBUTE}]`;\nconst DEFAULT_PAGE_SCROLLED_INTO_VIEW_THRESHOLD = 0.1;\nconst EMPTY_NUMBER_TO_VISIBLE_ENTRY_DETAIL_MAP = Object.freeze(new Map());\nconst DEFAULT_CONTEXT = {\n    scrollDirection: null,\n    visibleOutlineTargets: new Map(),\n    visiblePageRatios: new Map(),\n    isOutlineTargetVisible: opts => {\n        logProviderWarning(`isOutlineTargetVisible(${JSON.stringify(opts)})`, \'ScrollContext\');\n        return false;\n    },\n    isPageVisible: opts => {\n        logProviderWarning(`isPageVisible(${JSON.stringify(opts)})`, \'ScrollContext\');\n        return false;\n    },\n    resetScrollObservers: () => {\n        logProviderWarning(`resetScrollObservers()`, \'ScrollContext\');\n    },\n    scrollRoot: {},\n    setScrollRoot: (_el) => {\n        logProviderWarning(`setScrollRoot(...)`, \'ScrollContext\');\n    },\n    scrollToOutlineTarget: dest => {\n        logProviderWarning(`scrollToOutlineTarget(${dest})`, \'ScrollContext\');\n    },\n    setScrollThreshold: (scrollThreshold) => {\n        logProviderWarning(`setScrollThreshold(${scrollThreshold})`, \'ScrollContext\');\n    },\n    scrollToPage: opts => {\n        logProviderWarning(`scrollToPage(${JSON.stringify(opts)})`, \'ScrollContext\');\n    },\n    updateScrollPosition: zoomMultiplier => {\n        logProviderWarning(`updateScrollPosition(${JSON.stringify(zoomMultiplier)})`, \'ScrollContext\');\n    },\n    setIsOutlineClicked: opts => {\n        logProviderWarning(`setIsOutlineGetClicked(${JSON.stringify(opts)})`, \'ScrollContext\');\n    },\n    scrollThresholdReachedInDirection: null,\n    isAtTop: null,\n    isOutlineClicked: null,\n    pagesScrolledIntoView: new Map(),\n    setPageScrolledIntoViewThreshold: (threshold) => {\n        logProviderWarning(`pagesScrolledIntoView(${threshold})`, \'ScrollContext\');\n    },\n};\nconst ScrollContext = external_commonjs_react_commonjs2_react_amd_react_root_React_.createContext(DEFAULT_CONTEXT);\nfunction useScrollContextProps() {\n    // Node used for observing the scroll position\n    const [scrollRoot, setScrollRoot] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(null);\n    // Determine scroll direction\n    const [scrollDirection, setScrollDirection] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(null);\n    const [scrollThreshold, setScrollThreshold] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(null);\n    const [scrollThresholdReachedInDirection, setScrollThresholdReachedInDirection] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(null);\n    const [isAtTop, setIsAtTop] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(null);\n    const [isOutlineClicked, setIsOutlineClicked] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(null);\n    const [pageScrolledIntoViewThreshold, setPageScrolledIntoViewThreshold] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(DEFAULT_PAGE_SCROLLED_INTO_VIEW_THRESHOLD);\n    const [pagesScrolledIntoView, setPagesScrolledIntoView] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(() => EMPTY_NUMBER_TO_VISIBLE_ENTRY_DETAIL_MAP);\n    external_commonjs_react_commonjs2_react_amd_react_root_React_.useEffect(() => {\n        const scrollElem = scrollRoot || document.documentElement;\n        if (!scrollElem) {\n            return;\n        }\n        let scrollDirectionDetector;\n        if (!scrollThreshold) {\n            // scroll threshold is optional\n            scrollDirectionDetector = new ScrollDetector(scrollElem, setScrollDirection, setIsAtTop);\n        }\n        else {\n            scrollDirectionDetector = new ScrollDetector(scrollElem, setScrollDirection, setIsAtTop, setScrollThresholdReachedInDirection, scrollThreshold);\n        }\n        scrollDirectionDetector.attachScrollListener();\n        return () => {\n            scrollDirectionDetector.detachScrollListener();\n        };\n    }, [scrollRoot, scrollThreshold]);\n    // Causes the IntersectionObservers to disconnect and be recreated (useful when DOM changes)\n    const [observerIndex, setObserverIndex] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(0);\n    const resetScrollObservers = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback(() => {\n        setObserverIndex(observerIndex + 1);\n    }, [observerIndex]);\n    const [visibleOutlineTargets, setVisibleOutlineNodes] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(() => {\n        const map = new Map();\n        Object.freeze(map);\n        return map;\n    });\n    const [visiblePageRatios, setVisiblePageRatios] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(() => EMPTY_NUMBER_TO_VISIBLE_ENTRY_DETAIL_MAP);\n    const isOutlineTargetVisible = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback((dest) => {\n        return visibleOutlineTargets.has(dest);\n    }, [visibleOutlineTargets]);\n    const scrollToOutlineTarget = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback((dest) => {\n        var _a;\n        setIsOutlineClicked(true);\n        (_a = document\n            .querySelector(`[data-outline-target-dest="${dest}"]`)) === null || _a === void 0 ? void 0 : _a.scrollIntoView({ behavior: \'smooth\' });\n    }, []);\n    const isPageVisible = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback(({ pageNumber, pageIndex }) => {\n        if (typeof pageIndex === \'number\') {\n            pageNumber = pageIndex + 1;\n        }\n        if (typeof pageNumber !== \'number\') {\n            return false;\n        }\n        return visiblePageRatios.has(pageNumber);\n    }, [visiblePageRatios]);\n    const scrollToPage = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback(({ pageNumber, pageIndex }) => {\n        var _a;\n        if (typeof pageNumber === \'number\') {\n            pageIndex = pageNumber - 1;\n        }\n        if (typeof pageIndex !== \'number\') {\n            return;\n        }\n        (_a = document\n            .getElementById(generatePageIdFromIndex(pageIndex))) === null || _a === void 0 ? void 0 : _a.scrollIntoView({ behavior: \'smooth\' });\n    }, []);\n    // Watch outline nodes\n    external_commonjs_react_commonjs2_react_amd_react_root_React_.useEffect(() => {\n        const root = scrollRoot || document.documentElement;\n        const detector = new VisibleEntriesDetector({\n            root: root,\n            setVisibleEntries: setVisibleOutlineNodes,\n            onVisibleEntriesChange: ({ visibleEntries, hiddenEntries, lastEntries }) => {\n                hiddenEntries.map(entry => lastEntries.delete(entry.target.getAttribute(OUTLINE_ATTRIBUTE)));\n                const newEntries = new Map(lastEntries);\n                visibleEntries.map(entry => newEntries.set(entry.target.getAttribute(OUTLINE_ATTRIBUTE), {\n                    ratio: entry.intersectionRatio,\n                    timestamp: entry.time,\n                }));\n                return newEntries;\n            },\n        });\n        detector.observeNodes(OUTLINE_SELECTOR);\n        return () => {\n            detector.destroy();\n        };\n    }, [scrollRoot, observerIndex]);\n    // Watch pages\n    external_commonjs_react_commonjs2_react_amd_react_root_React_.useEffect(() => {\n        const root = scrollRoot || document.documentElement;\n        const detector = new VisibleEntriesDetector({\n            root: root,\n            setVisibleEntries: setVisiblePageRatios,\n            onVisibleEntriesChange: ({ visibleEntries, hiddenEntries, lastEntries }) => {\n                if (hiddenEntries.length) {\n                    const maxTime = Math.max(...hiddenEntries.map(e => e.time));\n                    const hiddenPageNums = hiddenEntries.map(e => { var _a; return ((_a = e.target) === null || _a === void 0 ? void 0 : _a.getAttribute(PAGE_NUMBER_ATTRIBUTE)) || \'\'; });\n                    // due to upper limit on how fast the Intersection Observer API can sample and how fast browsers can render (happens when users scroll fast)\n                    // sometimes entries will not be signaled as hidden, meaning they should be removed from lastEntries but weren\'t\n                    // so if an entry has a timestamp thats older then an entry we are currently removing, we can assume its "stale" and delete\n                    // more details about this issue here: https://stackoverflow.com/questions/61951380/intersection-observer-fails-sometimes-when-i-scroll-fast\n                    for (const [key, value] of lastEntries.entries()) {\n                        if (value.timestamp <= maxTime || hiddenPageNums.includes(String(key))) {\n                            lastEntries.delete(key);\n                        }\n                    }\n                }\n                const newEntries = new Map(lastEntries);\n                visibleEntries.map(entry => {\n                    var _a;\n                    newEntries.set(parseInt(((_a = entry.target) === null || _a === void 0 ? void 0 : _a.getAttribute(PAGE_NUMBER_ATTRIBUTE)) || \'\', 10), {\n                        ratio: entry.intersectionRatio,\n                        timestamp: entry.time,\n                    });\n                });\n                return newEntries;\n            },\n        });\n        detector.observeNodes(PAGE_NUMBER_SELECTOR);\n        return () => {\n            detector.destroy();\n        };\n    }, [scrollRoot, observerIndex]);\n    // map of pages at the moment they are scrolled into view, useful for tracking analytics such as page impressions\n    // different than the visiblePageRatios in that it only saves the ~initial~ point of when a page comes into view\n    // it doesn\'t track the live change in ratios as the page remains in view when scrolled\n    external_commonjs_react_commonjs2_react_amd_react_root_React_.useEffect(() => {\n        const root = scrollRoot || document.documentElement;\n        const detector = new VisibleEntriesDetector({\n            root: root,\n            thresHold: pageScrolledIntoViewThreshold,\n            setVisibleEntries: setPagesScrolledIntoView,\n            onVisibleEntriesChange: ({ visibleEntries }) => {\n                const newEntries = new Map();\n                visibleEntries.map(entry => {\n                    var _a;\n                    newEntries.set(parseInt(((_a = entry.target) === null || _a === void 0 ? void 0 : _a.getAttribute(PAGE_NUMBER_ATTRIBUTE)) || \'\', 10), entry.intersectionRatio);\n                });\n                return newEntries;\n            },\n        });\n        detector.observeNodes(PAGE_NUMBER_SELECTOR);\n        return () => {\n            detector.destroy();\n        };\n    }, [scrollRoot, observerIndex]);\n    // calculates a new scroll position after zooming in/out so user doesnt lose their position\n    const updateScrollPosition = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback((zoomMultiplier) => {\n        const root = scrollRoot || document.documentElement;\n        if (!root) {\n            return;\n        }\n        const newScrollTop = Math.floor(root.scrollTop * zoomMultiplier);\n        setTimeout(() => {\n            root.scrollTop = newScrollTop;\n        }, 0);\n    }, [scrollRoot]);\n    return {\n        isOutlineTargetVisible,\n        isPageVisible,\n        scrollDirection,\n        visibleOutlineTargets,\n        visiblePageRatios,\n        resetScrollObservers,\n        scrollRoot,\n        setScrollRoot,\n        scrollToOutlineTarget,\n        setScrollThreshold,\n        scrollToPage,\n        updateScrollPosition,\n        setIsOutlineClicked,\n        scrollThresholdReachedInDirection,\n        isAtTop,\n        isOutlineClicked,\n        pagesScrolledIntoView,\n        setPageScrolledIntoViewThreshold,\n    };\n}\n\n;// ./src/context/UiContext.ts\n\n\nconst UiContext = external_commonjs_react_commonjs2_react_amd_react_root_React_.createContext({\n    errorMessage: null,\n    isLoading: false,\n    isShowingHighlightOverlay: false,\n    isShowingOutline: false,\n    isShowingTextHighlight: false,\n    isShowingThumbnail: false,\n    setErrorMessage: errorMessage => {\n        logProviderWarning(`setErrorMessage(${errorMessage})`, \'UiContext\');\n    },\n    setIsShowingOutline: isShowingOutline => {\n        logProviderWarning(`setIsShowingOutline(${isShowingOutline})`, \'UiContext\');\n    },\n    setIsLoading: isLoading => {\n        logProviderWarning(`setIsLoading(${isLoading})`, \'UiContext\');\n    },\n    setIsShowingHighlightOverlay: isShowingHighlightOverlay => {\n        logProviderWarning(`setIsShowingHighlightOverlay(${isShowingHighlightOverlay})`, \'UiContext\');\n    },\n    setIsShowingTextHighlight: isShowingTextHighlight => {\n        logProviderWarning(`setIsShowingTextHighlight(${isShowingTextHighlight})`, \'UiContext\');\n    },\n    setIsShowingThumbnail: isShowingThumbnail => {\n        logProviderWarning(`setIsShowingThumbnail(${isShowingThumbnail})`, \'UiContext\');\n    },\n});\nfunction useUiContextProps() {\n    const [errorMessage, setErrorMessage] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(null);\n    const [isLoading, setIsLoading] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(true);\n    const [isShowingHighlightOverlay, setIsShowingHighlightOverlay] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(false);\n    const [isShowingOutline, setIsShowingOutline] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(false);\n    const [isShowingTextHighlight, setIsShowingTextHighlight] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(false);\n    const [isShowingThumbnail, setIsShowingThumbnail] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(false);\n    return {\n        errorMessage,\n        isLoading,\n        isShowingHighlightOverlay,\n        isShowingOutline,\n        isShowingTextHighlight,\n        isShowingThumbnail,\n        setErrorMessage,\n        setIsLoading,\n        setIsShowingHighlightOverlay,\n        setIsShowingOutline,\n        setIsShowingTextHighlight,\n        setIsShowingThumbnail,\n    };\n}\n\n;// ./src/utils/errorMessage.ts\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction getErrorMessage(error) {\n    if (!error) {\n        return \'Unknown error\';\n    }\n    if (typeof error === \'string\') {\n        return error;\n    }\n    if (error instanceof Error) {\n        return error.message;\n    }\n    if (typeof error.error === \'string\') {\n        return error.error;\n    }\n    return error.toString();\n}\n\n;// ./src/utils/pdfWorker.ts\n\n// Set PDFjs worker source or else PDF will not load when this library is imported as a package.\nfunction initPdfWorker() {\n    external_react_pdf_.pdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${external_react_pdf_.pdfjs.version}/pdf.worker.min.js`;\n}\n\n;// ./src/utils/reader-utils.ts\nconst RENDER_TYPE = {\n    MULTI_CANVAS: \'multi-canvas\',\n    SINGLE_CANVAS: \'single-canvas\',\n};\nfunction getRenderMode(renderType) {\n    switch (renderType) {\n        case RENDER_TYPE.SINGLE_CANVAS:\n            return \'none\';\n        default:\n            return \'canvas\';\n    }\n}\nfunction getClassNameSuffixFromRenderType(renderType) {\n    switch (renderType) {\n        case RENDER_TYPE.SINGLE_CANVAS:\n            return \'single-canvas\';\n        default:\n            return \'multi-canvas\';\n    }\n}\n\n;// ./src/utils/scale.ts\n// We assume 96 DPI for display\n// TODO: There are more accurate ways to do this, but this is what ScholarPhi does now\nconst DPI = 96;\n// PDF units are in 1/72nds of an inch\nconst USER_UNIT_DENOMINATOR = 72;\n/**\n * Given a PDFPageProxy, calculates the screen pixel size of the PDF page at 100% scale\n * @param page The PDFPageProxy to calculate size for\n * @returns Pixel size of a page at 100% scale assuming 96DPI display\n */\nfunction computePageDimensions(page) {\n    const [leftPx, topPx, rightPx, bottomPx] = page.view;\n    const PPI = (page.userUnit / USER_UNIT_DENOMINATOR) * DPI;\n    return {\n        height: (bottomPx - topPx) * PPI,\n        width: (rightPx - leftPx) * PPI,\n    };\n}\n\n;// ./src/components/types/destination.ts\n/**\n * This class is the definition of the first item when Destination is returned as an array.\n * It is created based on the same class in \'react-pdf\' library:\n * https://github.com/wojtekmaj/react-pdf/blob/ca4453f123af51e2faed39a8a62800901030459a/src/Ref.js\n */\nclass Ref {\n    constructor({ num, gen }) {\n        this.num = num;\n        this.gen = gen;\n    }\n    toString() {\n        return this.gen !== 0 ? `${this.num}R${this.gen}` : `${this.num}R`;\n    }\n}\n\n;// ./src/components/DocumentWrapper.tsx\nvar DocumentWrapper_rest = (undefined && undefined.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === "function")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n\n\n\n\n\n\n\n\n\n\n\n\nconst DocumentWrapper = (_a) => {\n    var { children, renderType } = _a, extraProps = DocumentWrapper_rest(_a, ["children", "renderType"]);\n    initPdfWorker();\n    const { pdfDocProxy, setNumPages, setNumPagesLoaded, setPageDimensions, setPdfDocProxy } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(DocumentContext);\n    const { resetScrollObservers, updateScrollPosition } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(ScrollContext);\n    const { rotation, scale } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(TransformContext);\n    const { setErrorMessage, setIsLoading } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(UiContext);\n    const [lastScale, setLastScale] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(1); // assuming the scale defaults to 100%\n    function getFirstPage(pdfDoc) {\n        // getPage uses 1-indexed pageNumber, not 0-indexed pageIndex\n        return pdfDoc.getPage(1);\n    }\n    external_commonjs_react_commonjs2_react_amd_react_root_React_.useEffect(() => {\n        resetScrollObservers();\n    }, []);\n    // after scale changes, update scroll position so the user stays looking at the same position of the paper\n    external_commonjs_react_commonjs2_react_amd_react_root_React_.useEffect(() => {\n        if (scale === lastScale) {\n            return;\n        }\n        const zoomMultiplier = scale / lastScale;\n        updateScrollPosition(zoomMultiplier);\n        setLastScale(scale);\n    }, [scale, updateScrollPosition]);\n    const onPdfLoadSuccess = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback((pdfDoc) => {\n        setNumPagesLoaded(0);\n        setNumPages(pdfDoc.numPages);\n        getFirstPage(pdfDoc)\n            .then(page => {\n            setPageDimensions(computePageDimensions(page));\n            setErrorMessage(null);\n        })\n            .catch(error => {\n            setErrorMessage(getErrorMessage(error));\n        })\n            .finally(() => {\n            setIsLoading(false);\n        });\n        if (!pdfDocProxy) {\n            setPdfDocProxy(pdfDoc);\n        }\n    }, []);\n    const onSourceError = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback((error) => {\n        setErrorMessage(getErrorMessage(error));\n        setIsLoading(false);\n    }, []);\n    const onPdfLoadError = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback((error) => {\n        setErrorMessage(getErrorMessage(error));\n        setIsLoading(false);\n    }, []);\n    const onItemClicked = (param) => {\n        if (!pdfDocProxy) {\n            return;\n        }\n        // Scroll to the destination of the item\n        pdfDocProxy.getDestination(param.dest).then(destArray => {\n            if (!destArray) {\n                return;\n            }\n            const [ref, , , bottomPoints] = destArray;\n            pdfDocProxy.getPageIndex(new Ref(ref)).then(refInfo => {\n                scrollToPosition(parseInt(refInfo.toString()), 0, bottomPoints, rotation);\n            });\n        });\n    };\n    return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement(external_react_pdf_.Document, Object.assign({ options: { cMapUrl: \'cmaps/\', cMapPacked: true }, onSourceError: onSourceError, onLoadError: onPdfLoadError, onLoadSuccess: onPdfLoadSuccess, externalLinkTarget: "_blank", renderMode: getRenderMode(renderType), \n        // @ts-ignore: the arguments should be { dest, pageIndex, pageNumber }\n        // @types/react-pdf hasn\'t updated the function signature\n        // https://github.com/DefinitelyTyped/DefinitelyTyped/blob/d73eb652e0ba8f89395a0ef2ba69cf1e640ce5be/types/react-pdf/dist/Document.d.ts#L72\n        onItemClick: onItemClicked }, extraProps), children));\n};\n\n;// ./src/components/DownloadButton.tsx\nvar DownloadButton_rest = (undefined && undefined.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === "function")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n\n/**\n * HTML anchor tag allows you to download a file from the same origin.\n * This is a workaround to download a file served from a different origin\n */\nconst DownloadButton = (_a) => {\n    var { pdfUrl, children, className } = _a, extraProps = DownloadButton_rest(_a, ["pdfUrl", "children", "className"]);\n    const [fetching, setFetching] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(false);\n    const download = () => {\n        setFetching(true);\n        fetch(pdfUrl)\n            .then(response => response.blob())\n            .then(blob => {\n            setFetching(false);\n            const blobURL = URL.createObjectURL(blob);\n            const a = document.createElement(\'a\');\n            a.href = blobURL;\n            a.download = pdfUrl.split(\'/\').pop() || pdfUrl;\n            document.body.appendChild(a);\n            a.click();\n        });\n    };\n    return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("button", Object.assign({ disabled: fetching, onClick: () => download(), "aria-label": "Download PDF", className: `pdf-reader__download-btn ${className}` }, extraProps), children ? children : \'Download\'));\n};\n\n;// ./src/components/HighlightOverlay.tsx\nvar HighlightOverlay_rest = (undefined && undefined.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === "function")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n\n\n\n\nconst HighlightOverlay = (_a) => {\n    var { children, pageIndex } = _a, extraProps = HighlightOverlay_rest(_a, ["children", "pageIndex"]);\n    const { pageDimensions } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(DocumentContext);\n    const { rotation, scale } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(TransformContext);\n    const maskId = `highlight-overlay-mask-${pageIndex}`;\n    const getPageStyle = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback(() => {\n        return computePageStyle(pageDimensions, rotation, scale);\n    }, [pageDimensions, rotation, scale]);\n    const getUnmaskedArea = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback((boundingBoxes) => {\n        const boxes = Array.isArray(boundingBoxes) ? boundingBoxes : [boundingBoxes];\n        return boxes.map((box, i) => {\n            const boxStyle = computeBoundingBoxStyle(box.props, pageDimensions, rotation, scale);\n            return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("rect", { style: boxStyle, x: boxStyle.left, y: boxStyle.top, key: i, fill: "black" }));\n        });\n    }, [pageDimensions, rotation, scale]);\n    return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("div", Object.assign({ className: "pdf-reader__page-highlight-overlay", style: getPageStyle() }, extraProps),\n        external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("svg", { className: "page-mask", style: getPageStyle() },\n            external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("mask", { id: maskId },\n                external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("rect", { style: getPageStyle(), fill: "white" }),\n                children && getUnmaskedArea(children)),\n            external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("rect", { style: getPageStyle(), fill: "white", opacity: "0.6", mask: `url(#${maskId})` }))));\n};\n\n;// ./src/components/marker/ArrowFlagBase.tsx\nvar ArrowFlagBase_rest = (undefined && undefined.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === "function")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n\n\n\n\n\n\nconst POSITION = {\n    LEFT: \'LEFT\',\n    RIGHT: \'RIGHT\',\n};\nconst DEFAULT_ORIGIN_TOP_PX = 0;\nconst DEFAULT_FLAG_WIDTH_PX = 62;\nconst DEFAULT_FLAG_HEIGHT_PX = 20;\nconst DEFAULT_TAIL_LENGTH_PX = 40;\nconst DEFAULT_TAIL_WIDTH_PX = 7;\nconst ArrowFlagBase = (_a) => {\n    var { className, label, flagWidth, originTop, position = POSITION.LEFT, tailLength, tailWidgth } = _a, extraProps = ArrowFlagBase_rest(_a, ["className", "label", "flagWidth", "originTop", "position", "tailLength", "tailWidgth"]);\n    const { pageDimensions } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(DocumentContext);\n    const { rotation, scale } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(TransformContext);\n    // function for scaling bounding boxes based on current document states\n    const computeSize = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback((box) => computeBoundingBoxStyle(box, pageDimensions, rotation, scale), [pageDimensions, rotation, scale, originTop]);\n    // bounding box of the flag\n    const flagSize = {\n        top: originTop || DEFAULT_ORIGIN_TOP_PX,\n        left: 0,\n        height: DEFAULT_FLAG_HEIGHT_PX,\n        width: flagWidth || DEFAULT_FLAG_WIDTH_PX,\n    };\n    // bounding box of the tail\n    const tailSize = {\n        top: originTop || DEFAULT_ORIGIN_TOP_PX,\n        left: 0,\n        height: tailLength || DEFAULT_TAIL_LENGTH_PX,\n        width: tailWidgth || DEFAULT_TAIL_WIDTH_PX,\n    };\n    const computedFlagSize = computeSize(flagSize);\n    const computedTailSize = computeSize(tailSize);\n    const tailPosition = {\n        top: computedTailSize.top,\n        left: position === POSITION.LEFT ? -computedTailSize.width : pageDimensions.width * scale,\n        height: computedTailSize.height,\n        width: computedTailSize.width,\n    };\n    const renderFlag = () => {\n        const { top, width, height } = computedFlagSize;\n        const flagPosition = {\n            top,\n            height,\n            width,\n            left: position === POSITION.LEFT\n                ? -computedTailSize.width\n                : tailPosition.left + tailPosition.width - width + 1,\n        };\n        const labelPosition = position === POSITION.LEFT ? \'47%\' : \'53%\';\n        return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("div", { className: "pdf-reader__arrow-flag-base__flag", style: flagPosition },\n            external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement(IconFlag, { className: "pdf-reader__arrow-flag-base__flag-icon", headerPosition: position },\n                external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("text", { x: labelPosition, y: "54%", dominantBaseline: "middle", textAnchor: "middle", className: "pdf-reader__arrow-flag-base__flag-label" }, label))));\n    };\n    return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("div", Object.assign({ className: classnames_default()(\'pdf-reader__arrow-flag-base\', className) }, extraProps),\n        external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("div", { className: "pdf-reader__arrow-flag-base__tail", style: tailPosition }),\n        label && renderFlag()));\n};\n\n;// ./src/components/icon/IconFlag.tsx\n\n\nconst IconFlag = ({ children, className, headerPosition = POSITION.LEFT, }) => {\n    if (headerPosition == POSITION.LEFT) {\n        return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("svg", { viewBox: "0 0 62 22", className: className },\n            external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("path", { d: "M52.0108 20.8315L52.0105 20.8318C51.5525 21.2525 50.9527 21.491 50.3265 21.5H3.02828C2.35623 21.5 1.71264 21.2355 1.23885 20.7661C0.76522 20.2969 0.5 19.6615 0.5 19V3C0.5 2.33848 0.765221 1.70309 1.23885 1.23389C1.71264 0.764519 2.35623 0.5 3.02828 0.5H50.2457C50.8719 0.50902 51.4718 0.747466 51.9298 1.16821L51.93 1.16846L60.6515 9.16846L60.6514 9.16852L60.658 9.17439C60.9175 9.40408 61.126 9.68412 61.2707 9.99679C61.4154 10.3095 61.4933 10.6482 61.4996 10.9917C61.5059 11.3353 61.4405 11.6765 61.3074 11.9941C61.1749 12.3104 60.9779 12.5966 60.7286 12.8348L52.0108 20.8315Z" }),\n            children));\n    }\n    return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("svg", { viewBox: "0 0 62 22", className: className },\n        external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("path", { d: "M9.98922 1.16846L9.9895 1.16821C10.4475 0.747472 11.0473 0.509029 11.6735 0.499999L58.9717 0.500004C59.6438 0.500004 60.2874 0.764522 60.7611 1.23389C61.2348 1.7031 61.5 2.33848 61.5 3L61.5 19C61.5 19.6615 61.2348 20.2969 60.7611 20.7661C60.2874 21.2355 59.6438 21.5 58.9717 21.5L11.7543 21.5C11.1281 21.491 10.5282 21.2525 10.0702 20.8318L10.07 20.8315L1.34854 12.8315L1.3486 12.8315L1.34196 12.8256C1.08248 12.5959 0.87399 12.3159 0.729283 12.0032C0.584584 11.6905 0.506719 11.3518 0.500417 11.0083C0.494111 10.6647 0.559495 10.3235 0.692605 10.0059C0.825143 9.68961 1.02206 9.40341 1.27136 9.16519L9.98922 1.16846Z" }),\n        children));\n};\n\n;// ./src/components/types/boundingBox.ts\n// Calculate a bounding box\'s pixel coordinates from the raw bounding box\'s coorditate ratios scaled to the page size\nfunction scaleRawBoundingBox(boundingBoxRaw, pageHeight, pageWidth) {\n    const boxScaled = {\n        page: boundingBoxRaw.page,\n        top: boundingBoxRaw.top * pageHeight,\n        left: boundingBoxRaw.left * pageWidth,\n        height: boundingBoxRaw.height * pageHeight,\n        width: boundingBoxRaw.width * pageWidth,\n    };\n    return boxScaled;\n}\n\n;// ./src/components/marker/ArrowFlag.tsx\nvar ArrowFlag_rest = (undefined && undefined.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === "function")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n\n\n\n\n\nconst CENTER_LINE = 0.5;\nconst LINE_HEIGHT_MULTIPLIER = 1.5;\nconst ArrowFlag = (_a) => {\n    var { boundingBoxes, className, label } = _a, extraProps = ArrowFlag_rest(_a, ["boundingBoxes", "className", "label"]);\n    const { pageDimensions } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(DocumentContext);\n    const convertRatioToPx = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback((rawBoundingBox) => scaleRawBoundingBox(rawBoundingBox, pageDimensions.height, pageDimensions.width), [pageDimensions]);\n    if (boundingBoxes.length == 0)\n        return null;\n    // If any bounding boxes span over the center line, we know that either the paper is\n    // single-column or a mix of single-column and two-column. In such case, bounding\n    // boxes will not be divided so as to guarantee only 1 flag is rendered on the left side.\n    const hasWideBox = boundingBoxes.some(({ left, width }) => left < CENTER_LINE && left + width >= CENTER_LINE);\n    let leftBoundingBoxes = boundingBoxes, rightBoundingBoxes = [];\n    if (!hasWideBox) {\n        leftBoundingBoxes = boundingBoxes.filter(({ left }) => left < CENTER_LINE);\n        rightBoundingBoxes = boundingBoxes.filter(({ left }) => left >= CENTER_LINE);\n    }\n    // To handle a special case where the previous bounding box is on the right while\n    // the later is on the left. In such case, there are only 2 bounding boxes.\n    // The vertical distance between the two boxes is used to differentiate whether this case\n    // happens on a single-column paper or a two-column paper. If it\'s the previous, then\n    // the whole flag should appear on the left. Both bounding boxes will be categorized\n    // as leftBoundingBoxes. Otherwise, the tail wrapping still applies.\n    if (leftBoundingBoxes.length === 1 && rightBoundingBoxes.length === 1) {\n        // If the vertical difference between the two boxes is smaller then 1.5 times line height,\n        // the paper is categorized as single-column. Both bounding boxes are set to leftBoundingBoxes.\n        // ArrowFlag will appear on the left\n        if (Math.abs(rightBoundingBoxes[0].top - leftBoundingBoxes[0].top) <\n            LINE_HEIGHT_MULTIPLIER * rightBoundingBoxes[0].height) {\n            leftBoundingBoxes = boundingBoxes;\n            rightBoundingBoxes = [];\n        }\n    }\n    // Sort bounding boxes by their top positions\n    leftBoundingBoxes.sort((first, second) => first.top - second.top);\n    rightBoundingBoxes.sort((first, second) => first.top - second.top);\n    const renderArrowFlagBase = (boxes, position, showLabel) => {\n        if (boxes.length == 0)\n            return null;\n        const firstBox = convertRatioToPx(boxes[0]), lastBox = convertRatioToPx(boxes[boxes.length - 1]);\n        const props = {\n            label: showLabel ? label : undefined,\n            tailLength: lastBox.top + lastBox.height - firstBox.top,\n            originTop: firstBox.top,\n            position,\n        };\n        return external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement(ArrowFlagBase, Object.assign({}, props));\n    };\n    const hasLeftFlag = leftBoundingBoxes.length > 0;\n    return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("div", Object.assign({ className: classnames_default()(\'pdf-reader__arrow-flag\', className) }, extraProps),\n        renderArrowFlagBase(leftBoundingBoxes, POSITION.LEFT, hasLeftFlag),\n        renderArrowFlagBase(rightBoundingBoxes, POSITION.RIGHT, !hasLeftFlag)));\n};\n\n;// ./src/components/outline/OutlineItem.tsx\n\n\n\nconst OutlineItem = ({ items, onClick }) => {\n    const { isOutlineTargetVisible } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(ScrollContext);\n    if (!items || !items.length) {\n        return null;\n    }\n    function renderItem(item) {\n        var _a;\n        const clickHandler = (event) => {\n            event.preventDefault();\n            if (onClick) {\n                onClick(item.dest);\n            }\n        };\n        // If an item has sub titles, render <OutlineItem />\n        return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("li", { key: ((_a = item.dest) === null || _a === void 0 ? void 0 : _a.toString()) || item.title, className: classnames_default()(\'reader__outline-item\', {\n                \'reader__outline-item--target-visible\': isOutlineTargetVisible(item.dest),\n            }) },\n            external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("a", { href: "#", onClick: clickHandler, "data-test-id": "reader-outline-item" }, item.title),\n            external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement(OutlineItem, { items: item.items, onClick: onClick })));\n    }\n    return external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("ul", { className: "reader__outline-items" }, items.map(item => renderItem(item)));\n};\n\n;// ./src/components/outline/Outline.tsx\nvar Outline_rest = (undefined && undefined.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === "function")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n\n\n\n\nconst Outline = (_a) => {\n    var extraProps = Outline_rest(_a, []);\n    const { outline, pdfDocProxy, setOutline, setOutlinePositions } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(DocumentContext);\n    const { scrollToOutlineTarget, resetScrollObservers } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(ScrollContext);\n    external_commonjs_react_commonjs2_react_amd_react_root_React_.useEffect(() => {\n        if (outline) {\n            return;\n        }\n        if (!pdfDocProxy) {\n            return;\n        }\n        pdfDocProxy\n            .getOutline()\n            .then((outlineArray) => {\n            setOutline(outlineArray);\n            return buildOutlinePositions(pdfDocProxy, outlineArray);\n        })\n            .then(outlinePositions => {\n            setOutlinePositions(outlinePositions);\n        })\n            .then(() => {\n            resetScrollObservers();\n        });\n    }, [outline]);\n    const clickHandler = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback((dest) => {\n        if (!dest) {\n            return;\n        }\n        scrollToOutlineTarget(dest);\n        return;\n    }, []);\n    if (!pdfDocProxy) {\n        return null;\n    }\n    return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("div", Object.assign({ className: "reader__outline" }, extraProps), !!outline && external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement(OutlineItem, { items: outline, onClick: clickHandler })));\n};\n\n;// ./src/components/Overlay.tsx\nvar Overlay_rest = (undefined && undefined.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === "function")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n\n\n\n\nconst Overlay = (_a) => {\n    var { children } = _a, extraProps = Overlay_rest(_a, ["children"]);\n    const { pageDimensions } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(DocumentContext);\n    const { rotation, scale } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(TransformContext);\n    const getOverlayStyle = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback(() => {\n        return computePageStyle(pageDimensions, rotation, scale);\n    }, [pageDimensions, rotation, scale]);\n    return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("div", Object.assign({ className: "pdf-reader__overlay", style: getOverlayStyle() }, extraProps), children));\n};\n\n;// ./src/utils/MaxVisibleElement.ts\nfunction getMaxVisibleElement(visibleElements) {\n    let maxVisibleKey = null;\n    let maxRatio = 0;\n    for (const [visibleKey, { ratio }] of visibleElements) {\n        if (maxRatio < ratio) {\n            maxVisibleKey = visibleKey;\n            maxRatio = ratio;\n        }\n    }\n    return maxVisibleKey;\n}\n\n;// ./src/components/PageNumberControl.tsx\n\n\n\n\n\nconst DELAY_SCROLL_TIME_OUT_MS = 1000;\nconst PageNumberControl = ({ className }) => {\n    const delayTimerRef = external_commonjs_react_commonjs2_react_amd_react_root_React_.useRef();\n    const { numPages } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(DocumentContext);\n    const { scrollToPage, visiblePageRatios } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(ScrollContext);\n    const [minPage, setMinPage] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(0);\n    const [userInput, setUserInput] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(\'0\');\n    // Initialize page control element\n    external_commonjs_react_commonjs2_react_amd_react_root_React_.useEffect(() => {\n        if (numPages != 0) {\n            setMinPage(1);\n        }\n    }, [numPages]);\n    // Everytime we scroll through the page this useEffect\n    // will trigger and set current page based on our current\n    // scroll position\n    external_commonjs_react_commonjs2_react_amd_react_root_React_.useEffect(() => {\n        if (visiblePageRatios.size !== 0) {\n            const maxVisiblePageNumber = getMaxVisibleElement(visiblePageRatios);\n            if (maxVisiblePageNumber) {\n                setUserInput(maxVisiblePageNumber.toString());\n            }\n        }\n    }, [visiblePageRatios]);\n    const onPageNumberChange = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback((event) => {\n        const { value } = event.currentTarget;\n        // Decimal case\n        if (!Number.isInteger(value)) {\n            setUserInput(parseInt(value, 10).toString());\n        }\n        setUserInput(value);\n        if (delayTimerRef.current) {\n            clearTimeout(delayTimerRef.current);\n        }\n        // After user input the page that they want to scroll to\n        // our ref will start setting a delay around 1s before scroll\n        // to the position that user desire\n        const newPageNumber = parseInt(value, 10);\n        if (newPageNumber >= minPage && newPageNumber <= numPages) {\n            delayTimerRef.current = setTimeout(() => {\n                scrollToPage({ pageNumber: newPageNumber });\n            }, DELAY_SCROLL_TIME_OUT_MS);\n        }\n    }, [minPage, numPages, scrollToPage]);\n    const handleBlur = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback(() => {\n        if (delayTimerRef.current) {\n            clearTimeout(delayTimerRef.current);\n        }\n        const pageNumber = parseInt(userInput, 10);\n        if (Number.isNaN(pageNumber)) {\n            return;\n        }\n        delayTimerRef.current = setTimeout(() => {\n            scrollToPage({ pageNumber: pageNumber });\n        }, DELAY_SCROLL_TIME_OUT_MS);\n    }, [userInput, scrollToPage]);\n    return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("div", { className: classnames_default()(\'pdf-reader__page-number-control\', className) },\n        external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("input", { "aria-label": "Current Page", className: "pdf-reader__page-number-control__current-page", type: "number", name: "currentPage", value: userInput, onChange: onPageNumberChange, onBlur: handleBlur }),\n        external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("span", { className: "pdf-reader__page-number-control__separator " }, "/"),\n        external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("span", { "aria-label": "Total Pages", className: "pdf-reader__page-number-control__total-pages" }, numPages)));\n};\n\n;// ./src/context/PageRenderContext.ts\nvar PageRenderContext_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\nconst PageRenderContext = external_commonjs_react_commonjs2_react_amd_react_root_React_.createContext({\n    pageRenderStates: new Map(),\n    getObjectURLForPage: args => {\n        logProviderWarning(`getObjectURLForPage(${JSON.stringify(args)})`, \'PageRenderContext\');\n        return null;\n    },\n    isBuildingObjectURLForPage: args => {\n        logProviderWarning(`isBuildingObjectURLForPage(${JSON.stringify(args)})`, \'PageRenderContext\');\n        return false;\n    },\n    isFinishedBuildingAllPagesObjectURLs: () => {\n        logProviderWarning(`isFinishedBuildingAllPagesObjectURLs()`, \'PageRenderContext\');\n        return false;\n    },\n    buildObjectURLForPage: args => {\n        logProviderWarning(`buildObjectURLForPage(${JSON.stringify(args)})`, \'PageRenderContext\');\n        return Promise.resolve(\'\');\n    },\n});\nfunction usePageRenderContextProps({ pdfDocProxy, pixelRatio, scale, visiblePageRatios, }) {\n    const [pageRenderStates, _setPageRenderStates] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(() => {\n        const map = new Map();\n        Object.freeze(map);\n        return map;\n    });\n    // Because rendering a page is async, we will lose the current pageRenderStates\n    // This ref trick allows the latest to be accessible when the objectURL is ready\n    const pageRenderStatesRef = external_commonjs_react_commonjs2_react_amd_react_root_React_.useRef(pageRenderStates);\n    const setPageRenderStates = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback((pageRenderStates) => {\n        pageRenderStatesRef.current = pageRenderStates;\n        _setPageRenderStates(pageRenderStates);\n    }, [pageRenderStatesRef]);\n    const isBuildingObjectURLForPage = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback(({ pageNumber, pageIndex }) => {\n        if (typeof pageIndex === \'number\') {\n            pageNumber = pageIndex + 1;\n        }\n        if (typeof pageNumber !== \'number\') {\n            return false;\n        }\n        const state = pageRenderStates.get(pageNumber);\n        if (!state) {\n            return false;\n        }\n        return !state.objectURL;\n    }, [pageRenderStates]);\n    const isFinishedBuildingAllPagesObjectURLs = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback(() => {\n        var _a;\n        if (!pdfDocProxy)\n            return false;\n        for (let pageNumber = 1; pageNumber <= pdfDocProxy.numPages; pageNumber++) {\n            if (!((_a = pageRenderStates.get(pageNumber)) === null || _a === void 0 ? void 0 : _a.objectURL)) {\n                return false;\n            }\n        }\n        return true;\n    }, [pdfDocProxy, pageRenderStates]);\n    const getObjectURLForPage = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback(({ pageNumber, pageIndex }) => {\n        var _a;\n        if (typeof pageIndex === \'number\') {\n            pageNumber = pageIndex + 1;\n        }\n        if (typeof pageNumber !== \'number\') {\n            return null;\n        }\n        return ((_a = pageRenderStates.get(pageNumber)) === null || _a === void 0 ? void 0 : _a.objectURL) || null;\n    }, [pageRenderStates]);\n    const buildObjectURLForPage = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback(({ pageNumber, pageIndex }) => {\n        var _a;\n        if (typeof pageIndex === \'number\') {\n            pageNumber = pageIndex + 1;\n        }\n        if (typeof pageNumber !== \'number\') {\n            throw new Error(\'prop "pageNumber" is not a number\');\n        }\n        if (!pdfDocProxy) {\n            throw new Error(\'cannot build a page until a "pdfDocProxy" is set on DocumentContext\');\n        }\n        // Don\'t need to start another task if already rendered\n        const existingPromise = (_a = pageRenderStates.get(pageNumber)) === null || _a === void 0 ? void 0 : _a.promise;\n        if (existingPromise) {\n            return existingPromise;\n        }\n        const promise = buildPageObjectURL({\n            pageNumber,\n            pdfDocProxy,\n            pixelRatio,\n            scale,\n            promiseTimestamp: flushTimestamp,\n        });\n        const renderState = {\n            promise,\n            objectURL: null,\n        };\n        promise.then(objectURL => {\n            if (!objectURL)\n                return;\n            renderState.objectURL = objectURL;\n            const newPageRenderStates = new Map(pageRenderStatesRef.current);\n            Object.freeze(newPageRenderStates);\n            setPageRenderStates(newPageRenderStates);\n        });\n        const newPageRenderStates = new Map(pageRenderStatesRef.current);\n        newPageRenderStates.set(pageNumber, renderState);\n        Object.freeze(newPageRenderStates);\n        setPageRenderStates(newPageRenderStates);\n        return promise;\n    }, [pageRenderStates, pdfDocProxy, scale]);\n    external_commonjs_react_commonjs2_react_amd_react_root_React_.useEffect(() => {\n        const visiblePages = [...visiblePageRatios.keys()];\n        if (!pdfDocProxy || [...pageRenderStates.keys()].length === pdfDocProxy.numPages) {\n            return;\n        }\n        const priorityQueue = getPriorityQueue(visiblePages, pdfDocProxy.numPages);\n        for (const pageNumber of priorityQueue) {\n            buildObjectURLForPage({ pageNumber });\n        }\n    }, [pageRenderStates, pdfDocProxy, visiblePageRatios]);\n    // Flush page render states when scale changes\n    external_commonjs_react_commonjs2_react_amd_react_root_React_.useEffect(() => {\n        // Clean memory of old generated images\n        for (const [, renderState] of pageRenderStatesRef.current) {\n            if (renderState.objectURL) {\n                URL.revokeObjectURL(renderState.objectURL);\n            }\n        }\n        // if current async promises dont have this timestamp, then we flush them\n        flushTimestamp = new Date().getTime();\n        // Clear all page render states, so pages can rebuild images\n        const newPageRenderStates = new Map();\n        Object.freeze(newPageRenderStates);\n        setPageRenderStates(newPageRenderStates);\n    }, [scale, pixelRatio]);\n    return {\n        pageRenderStates,\n        getObjectURLForPage,\n        isBuildingObjectURLForPage,\n        isFinishedBuildingAllPagesObjectURLs,\n        buildObjectURLForPage,\n    };\n}\nfunction getNeighboringPages(pages, numTotalPages) {\n    return pages.length === 0\n        ? []\n        : [Math.max(1, pages[0] - 1), Math.min(numTotalPages, pages[pages.length - 1] + 1)];\n}\nfunction getPriorityQueue(visiblePages, numPages) {\n    const visiblePagesNeighbors = getNeighboringPages(visiblePages, numPages);\n    const allPages = Array.from({ length: numPages }, (_, i) => i + 1);\n    const priorityQueue = new Set([...visiblePages, ...visiblePagesNeighbors, ...allPages]); // put into set to remove duplicats\n    return Array.from(priorityQueue); // convert set to array\n}\n// This boost causes the rendered image to be scaled up by this amount\nconst SCALE_BOOST = 2;\n// Generate an object url for a given page, rendered in a shared canvas\nfunction buildPageObjectURL({ pageNumber, pdfDocProxy, pixelRatio = (typeof window !== \'undefined\' ? window.devicePixelRatio : null) || 0, scale = 1, imageType = \'image/png\', imageQuality = 1.0, promiseTimestamp, }) {\n    return PageRenderContext_awaiter(this, void 0, void 0, function* () {\n        const pageProxy = yield pdfDocProxy.getPage(pageNumber);\n        const blob = yield useRenderCanvas((canvas) => PageRenderContext_awaiter(this, void 0, void 0, function* () {\n            if (promiseTimestamp !== flushTimestamp) {\n                return promiseTimestamp; // flush stale promise\n            }\n            // Render page in a canvas\n            const viewport = pageProxy.getViewport({ scale: scale * pixelRatio * SCALE_BOOST });\n            canvas.height = viewport.height;\n            canvas.width = viewport.width;\n            const canvasContext = canvas.getContext(\'2d\');\n            if (!canvasContext) {\n                throw new Error(\'canvas was unable to get a context\');\n            }\n            const renderTask = pageProxy.render({\n                canvasContext,\n                viewport,\n                intent: \'print\', // immediately render pages on inactive pages\n            });\n            yield renderTask.promise;\n            yield new Promise(resolve => setTimeout(resolve, 16));\n            // Fetch a blob for an image of the canvas\n            return new Promise((resolve, reject) => {\n                try {\n                    canvas.toBlob(blob => resolve(blob), imageType, imageQuality);\n                }\n                catch (error) {\n                    reject(error);\n                }\n            });\n        }));\n        if (typeof blob === \'number\') {\n            return \'\';\n        }\n        // Convert blob image to object url\n        if (!blob) {\n            throw new Error(\'unable to create image from page\');\n        }\n        return URL.createObjectURL(blob);\n    });\n}\nlet renderCanvas = null;\n// Get or create a shared canvas for rendering pages in\nfunction getRenderCanvas() {\n    if (!renderCanvas) {\n        renderCanvas = document.createElement(\'canvas\');\n    }\n    return renderCanvas;\n}\nlet flushTimestamp = new Date().getTime();\nlet nextCanvasUse = Promise.resolve();\n// Use the shared canvas to render a page, using promises to create a queue\nfunction useRenderCanvas(callback) {\n    return PageRenderContext_awaiter(this, void 0, void 0, function* () {\n        // eslint-disable-next-line @typescript-eslint/no-empty-function\n        let resolve = (_value) => { };\n        // eslint-disable-next-line @typescript-eslint/no-empty-function\n        let reject = (_reason) => { };\n        const prom = new Promise((_resolve, _reject) => {\n            resolve = _resolve;\n            reject = _reject;\n        });\n        nextCanvasUse = nextCanvasUse.then(() => callback(getRenderCanvas()).then(resolve, reject));\n        const result = yield prom;\n        yield new Promise(res => setTimeout(res, 16)); // Give some time between renders\n        return result;\n    });\n}\n\n;// ./src/components/PageWrapper.tsx\nvar PageWrapper_rest = (undefined && undefined.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === "function")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n\n\n\n\n\n\n\n\n\n\nconst PageWrapper = (_a) => {\n    var { children, error, loading, loadingContentForBuildingImage, noData, pageIndex, renderType } = _a, extraProps = PageWrapper_rest(_a, ["children", "error", "loading", "loadingContentForBuildingImage", "noData", "pageIndex", "renderType"]);\n    const { rotation, scale } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(TransformContext);\n    const { pageDimensions, getOutlineTargets, setNumPagesLoaded } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(DocumentContext);\n    const { getObjectURLForPage, isBuildingObjectURLForPage } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(PageRenderContext);\n    const { isLoading } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(UiContext);\n    const objectURLForPage = getObjectURLForPage({ pageIndex });\n    const isBuildingPageImage = isBuildingObjectURLForPage({ pageIndex });\n    // Don\'t display until we have page size data\n    // TODO: Handle this nicer so we display either the loading or error treatment\n    if (!pageDimensions) {\n        return null;\n    }\n    const getPageStyle = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback(() => {\n        const styles = computePageStyle(pageDimensions, rotation, scale);\n        if (objectURLForPage) {\n            styles.backgroundImage = `url(${objectURLForPage})`;\n        }\n        return styles;\n    }, [pageDimensions, rotation, scale, objectURLForPage]);\n    const getWidth = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback(() => {\n        return getPageWidth(pageDimensions, rotation);\n    }, [pageDimensions, rotation]);\n    const outlineTargets = getOutlineTargets({\n        pageIndex,\n        scale,\n        rotation,\n        pageDimensions,\n    });\n    const markPageAsLoaded = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback(() => {\n        setNumPagesLoaded(prevNumPagesLoaded => prevNumPagesLoaded + 1);\n    }, []);\n    // Width needs to be set to prevent the outermost Page div from extending to fit the parent,\n    // and mis-aligning the text layer.\n    // TODO: Can we CSS this to auto-shrink?\n    return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("div", Object.assign({ id: generatePageIdFromIndex(pageIndex), className: classnames_default()(\'pdf-reader__page\', { \'pdf-reader__page--has-page-image\': objectURLForPage }, { \'pdf-reader__page--no-page-image\': !objectURLForPage }, `pdf-reader__page--render-type-${getClassNameSuffixFromRenderType(renderType)}`, { \'pdf-reader__is-building-page-image\': isBuildingPageImage }), "data-page-number": pageIndex + 1, style: getPageStyle() }, extraProps),\n        children,\n        isBuildingPageImage && !isLoading && (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("div", { className: classnames_default()(\'pdf-reader__page\', {\n                \'pdf-reader__page--is-loading-image\': isBuildingPageImage,\n            }) }, loadingContentForBuildingImage)),\n        external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement(external_react_pdf_.Page, { width: getWidth(), error: error, loading: loading, noData: noData, pageIndex: pageIndex, scale: scale, rotate: rotation, renderAnnotationLayer: true, onGetTextSuccess: markPageAsLoaded }),\n        external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("div", { className: "pdf-reader__page__outline-targets" }, outlineTargets.map(({ dest, leftPx, topPx }) => (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("span", { key: dest, className: "pdf-reader__page__outline-target", "data-outline-target-dest": dest, "data-test-id": "pdf-reader__page__outline-target", style: { left: leftPx + \'px\', top: topPx + \'px\' } }))))));\n};\n\n;// ./src/components/PrintButton.tsx\nvar PrintButton_rest = (undefined && undefined.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === "function")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n\n/**\n * HTML anchor tag allows you to download a file from the same origin.\n * This is a workaround to download a file served from a different origin\n */\nconst PrintButton = (_a) => {\n    var { children, className } = _a, extraProps = PrintButton_rest(_a, ["children", "className"]);\n    return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("button", Object.assign({ onClick: () => onClickPrint(), "aria-label": "Print PDF", className: `pdf-reader__print-btn ${className}` }, extraProps), children ? children : \'Print\'));\n};\nfunction onClickPrint() {\n    window.print();\n}\n\n;// ./src/utils/util.ts\n// This function returns min or max if value exceeds the range, otherwise\n// the original value is returned\nconst bandPassFilter = (value, min, max) => {\n    return Math.min(Math.max(value, min), max);\n};\n\n;// ./src/components/SidePanel.tsx\nvar SidePanel_rest = (undefined && undefined.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === "function")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n\n\n\nconst DEFAULT_MIN_WIDTH_PX = 300;\nconst DEFAULT_MAX_WIDTH_PX = 700;\nconst SidePanel = (_a) => {\n    var { minWidthPx = DEFAULT_MIN_WIDTH_PX, maxWidthPx = DEFAULT_MAX_WIDTH_PX, className, children, header, content, footer, dragHandlePosition, closeButton, isVisible = true, onClose } = _a, extraProps = SidePanel_rest(_a, ["minWidthPx", "maxWidthPx", "className", "children", "header", "content", "footer", "dragHandlePosition", "closeButton", "isVisible", "onClose"]);\n    // The overlay is used to catch mouse up events over iframe contents\n    // so the mouseup events will not be missed if the click is released over\n    // the iframe and the event listeners will fail to be removed\n    const [isOverlayVisible, setIsOverlayVisible] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(false);\n    const [panelWidth, setPanelWidth] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(minWidthPx);\n    const sidePanelRef = external_commonjs_react_commonjs2_react_amd_react_root_React_.useRef(null);\n    const dragHandleRef = external_commonjs_react_commonjs2_react_amd_react_root_React_.useRef(null);\n    const renderCloseButton = () => {\n        if (typeof closeButton === \'boolean\') {\n            return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("button", { className: "pdf-reader__side-panel-close-button", onClick: onClose }, "x"));\n        }\n        return closeButton;\n    };\n    const renderDragHandle = () => {\n        const isDragHandleOnLeft = dragHandlePosition === \'left\';\n        const isDragHandleOnRight = dragHandlePosition === \'right\';\n        if (!isDragHandleOnLeft && !isDragHandleOnRight) {\n            return null;\n        }\n        const onMouseMove = (mouseMoveEvent) => {\n            if (!sidePanelRef || !sidePanelRef.current) {\n                return;\n            }\n            const newWidth = dragHandlePosition === \'left\'\n                ? sidePanelRef.current.getBoundingClientRect().right - mouseMoveEvent.pageX\n                : mouseMoveEvent.pageX - sidePanelRef.current.getBoundingClientRect().left;\n            setPanelWidth(bandPassFilter(newWidth, minWidthPx, maxWidthPx));\n        };\n        const onMouseUp = () => {\n            // drop opacity styling on drag handle\n            if (dragHandleRef && dragHandleRef.current) {\n                dragHandleRef.current.removeAttribute(\'style\');\n            }\n            setIsOverlayVisible(false);\n            document.body.removeEventListener(\'mousemove\', onMouseMove);\n        };\n        const onDraggingHandle = () => {\n            // prevent flashing when the mouse hovers outside the resize zone\n            if (dragHandleRef && dragHandleRef.current) {\n                dragHandleRef.current.style.opacity = \'1\';\n            }\n            setIsOverlayVisible(true);\n            document.body.addEventListener(\'mousemove\', onMouseMove);\n            document.body.addEventListener(\'mouseup\', onMouseUp, { once: true });\n        };\n        const onChangePanelWidth = (event) => {\n            const newWidth = parseInt(event.currentTarget.value);\n            setPanelWidth(bandPassFilter(newWidth, minWidthPx, maxWidthPx));\n        };\n        return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("div", { className: classnames_default()(\'pdf-reader__resize-zone\', {\n                \'pdf-reader__resize-zone--left\': isDragHandleOnLeft,\n                \'pdf-reader__resize-zone--right\': isDragHandleOnRight,\n            }) },\n            external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("input", { className: "pdf-reader__drag-handle__assistive-input", type: "range", min: minWidthPx, max: maxWidthPx, step: "5", value: panelWidth, onChange: onChangePanelWidth }),\n            external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("div", { ref: dragHandleRef, role: "slider", "aria-valuenow": panelWidth, tabIndex: -1, onMouseDown: onDraggingHandle, className: "pdf-reader__drag-handle" },\n                external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("div", { className: "pdf-reader__drag-handle__inner" }))));\n    };\n    return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("div", Object.assign({ ref: sidePanelRef, style: { width: panelWidth }, className: classnames_default()(\'pdf-reader__side-panel\', { \'pdf-reader__side-panel--hidden\': !isVisible }, className) }, extraProps),\n        renderDragHandle(),\n        closeButton && renderCloseButton(),\n        header && external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("h2", { className: "pdf-reader__side-panel-title" }, header),\n        content && external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("div", { className: "pdf-reader__side-panel-content" }, content),\n        footer && external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("div", { className: "pdf-reader__side-panel-footer" }, footer),\n        children,\n        isOverlayVisible && external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("div", { className: "pdf-reader__side-panel-overlay" })));\n};\n\n;// ./src/components/thumbnails/Thumbnail.tsx\n\n\n\n\n\nconst Thumbnail = ({ pageNumber }) => {\n    const { getObjectURLForPage } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(PageRenderContext);\n    const { isPageVisible, scrollToPage, visiblePageRatios } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(ScrollContext);\n    const [maxVisiblePageNumber, setMaxVisiblePageNumber] = external_commonjs_react_commonjs2_react_amd_react_root_React_.useState(null);\n    const objectURL = getObjectURLForPage({ pageNumber });\n    external_commonjs_react_commonjs2_react_amd_react_root_React_.useEffect(() => {\n        if (visiblePageRatios.size !== 0) {\n            const max = getMaxVisibleElement(visiblePageRatios);\n            if (max) {\n                setMaxVisiblePageNumber(max.toString());\n            }\n        }\n    }, [visiblePageRatios]);\n    const isThumbnailVisible = maxVisiblePageNumber &&\n        parseInt(maxVisiblePageNumber) === pageNumber &&\n        isPageVisible({ pageNumber });\n    const onClick = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback(event => {\n        event.preventDefault();\n        scrollToPage({ pageNumber });\n    }, [pageNumber, scrollToPage]);\n    return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("a", { "aria-label": `scroll to page ${pageNumber}`, href: `#${pageNumber}`, onClick: onClick, className: classnames_default()(\'pdf-reader__thumbnail\', { \'pdf-reader__thumbnail--no-image\': !objectURL }, { \'pdf-reader__thumbnail--is-visible\': isThumbnailVisible }), "data-page-number": pageNumber, "data-test-id": "thumbnail-link" }, !!objectURL && external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("img", { className: "pdf-reader__thumbnail-image", src: objectURL })));\n};\n\n;// ./src/components/thumbnails/ThumbnailList.tsx\n\n\n\nconst ThumbnailList = () => {\n    const { numPages } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(DocumentContext);\n    return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("div", { className: "pdf-reader__thumbnail-list-wrapper" },\n        external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("ul", { className: "pdf-reader__thumbnail-list" }, Array.from({ length: numPages }).map((_, pageIndex) => (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("li", { key: pageIndex + 1, className: "pdf-reader__thumbnail-list__item" },\n            external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement(Thumbnail, { pageNumber: pageIndex + 1 })))))));\n};\n\n;// ./src/utils/format.ts\nconst PercentFormatter = new Intl.NumberFormat(\'en-US\', {\n    style: \'percent\',\n    maximumSignificantDigits: 3,\n});\n\n;// ./src/components/ZoomInButton.tsx\nvar ZoomInButton_rest = (undefined && undefined.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === "function")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n\n\n\nconst MAX_ZOOM_IN_SCALE = 500;\nconst ZoomInButton = (_a) => {\n    var { className, children, onZoom } = _a, extraProps = ZoomInButton_rest(_a, ["className", "children", "onZoom"]);\n    const { scale, setScale, zoomIncrementValue } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(TransformContext);\n    const handleZoomIn = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback((event) => {\n        event.preventDefault();\n        event.stopPropagation();\n        const newScaleValue = scale + zoomIncrementValue;\n        const zoomScale = Number(PercentFormatter.format(newScaleValue).replace(\'%\', \'\'));\n        if (zoomScale <= MAX_ZOOM_IN_SCALE) {\n            if (onZoom) {\n                onZoom(newScaleValue);\n            }\n            setScale(newScaleValue);\n        }\n    }, [scale]);\n    return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("button", Object.assign({ className: `reader__zoom-btn zoom-in ${className}`, onClick: handleZoomIn }, extraProps), children ? children : \'+\'));\n};\n\n;// ./src/components/ZoomOutButton.tsx\nvar ZoomOutButton_rest = (undefined && undefined.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === "function")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n\n\n\nconst MIN_ZOOM_OUT_SCALE = 20;\nconst ZoomOutButton = (_a) => {\n    var { className, children, onZoom } = _a, extraProps = ZoomOutButton_rest(_a, ["className", "children", "onZoom"]);\n    const { scale, setScale, zoomIncrementValue } = external_commonjs_react_commonjs2_react_amd_react_root_React_.useContext(TransformContext);\n    const handleZoomOut = external_commonjs_react_commonjs2_react_amd_react_root_React_.useCallback((event) => {\n        event.preventDefault();\n        event.stopPropagation();\n        const newScaleValue = scale - zoomIncrementValue;\n        const zoomScale = Number(PercentFormatter.format(newScaleValue).replace(\'%\', \'\'));\n        if (zoomScale >= MIN_ZOOM_OUT_SCALE) {\n            if (onZoom) {\n                onZoom(newScaleValue);\n            }\n            setScale(newScaleValue);\n        }\n    }, [scale]);\n    return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement("button", Object.assign({ className: `reader__zoom-btn zoom-out ${className}`, onClick: handleZoomOut }, extraProps), children ? children : \'-\'));\n};\n\n;// ./src/context/ContextProvider.tsx\n\n\n\n\n\n\nconst ContextProvider = ({ children }) => {\n    const documentProps = useDocumentContextProps();\n    const transformProps = useTransformContextProps();\n    const uiProps = useUiContextProps();\n    const scrollProps = useScrollContextProps();\n    const pageRenderProps = usePageRenderContextProps({\n        pdfDocProxy: documentProps.pdfDocProxy,\n        pixelRatio: transformProps.pixelRatio,\n        scale: transformProps.scale,\n        visiblePageRatios: scrollProps.visiblePageRatios,\n    });\n    return (external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement(DocumentContext.Provider, { value: documentProps },\n        external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement(TransformContext.Provider, { value: transformProps },\n            external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement(UiContext.Provider, { value: uiProps },\n                external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement(ScrollContext.Provider, { value: scrollProps },\n                    external_commonjs_react_commonjs2_react_amd_react_root_React_.createElement(PageRenderContext.Provider, { value: pageRenderProps }, children))))));\n};\n\n;// ./index.ts\n/*\n * PDF Component Library exports\n */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* harmony default export */ const index = ({\n    BoundingBox: BoundingBox,\n    computeBoundingBoxStyle: computeBoundingBoxStyle,\n    computePageStyle: computePageStyle,\n    ContextProvider: ContextProvider,\n    DEFAULT_ZOOM_SCALE: DEFAULT_ZOOM_SCALE,\n    DocumentContext: DocumentContext,\n    DocumentWrapper: DocumentWrapper,\n    DownloadButton: DownloadButton,\n    ArrowFlag: ArrowFlag,\n    ArrowFlagBase: ArrowFlagBase,\n    PrintButton: PrintButton,\n    generatePageIdFromIndex: generatePageIdFromIndex,\n    getPageHeight: getPageHeight,\n    getPageWidth: getPageWidth,\n    HighlightOverlay: HighlightOverlay,\n    IconFlag: IconFlag,\n    isSideways: isSideways,\n    Outline: Outline,\n    OutlineItem: OutlineItem,\n    Overlay: Overlay,\n    PageNumberControl: PageNumberControl,\n    PageRenderContext: PageRenderContext,\n    PageRotation: PageRotation,\n    PageWrapper: PageWrapper,\n    POSITION: POSITION,\n    SidePanel: SidePanel,\n    PercentFormatter: PercentFormatter,\n    RENDER_TYPE: RENDER_TYPE,\n    rotateClockwise: rotateClockwise,\n    rotateCounterClockwise: rotateCounterClockwise,\n    scaleRawBoundingBox: scaleRawBoundingBox,\n    scrollToId: scrollToId,\n    scrollToPdfPageIndex: scrollToPdfPageIndex,\n    Thumbnail: Thumbnail,\n    ThumbnailList: ThumbnailList,\n    ScrollContext: ScrollContext,\n    TransformContext: TransformContext,\n    UiContext: UiContext,\n    ZoomInButton: ZoomInButton,\n    ZoomOutButton: ZoomOutButton,\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL0BhbGxlbmFpL3BkZi1jb21wb25lbnRzLy4vc3JjL3V0aWxzL3Byb3ZpZGVyLnRzPzg1YWEiLCJ3ZWJwYWNrOi8vQGFsbGVuYWkvcGRmLWNvbXBvbmVudHMvLi9zcmMvdXRpbHMvcm90YXRlLnRzP2NkYmIiLCJ3ZWJwYWNrOi8vQGFsbGVuYWkvcGRmLWNvbXBvbmVudHMvLi9zcmMvdXRpbHMvc2Nyb2xsLnRzPzdiMDUiLCJ3ZWJwYWNrOi8vQGFsbGVuYWkvcGRmLWNvbXBvbmVudHMvLi9zcmMvY29udGV4dC9Eb2N1bWVudENvbnRleHQudHM/MmYwMyIsIndlYnBhY2s6Ly9AYWxsZW5haS9wZGYtY29tcG9uZW50cy8uL3NyYy9jb250ZXh0L1RyYW5zZm9ybUNvbnRleHQudHM/YmU2NCIsIndlYnBhY2s6Ly9AYWxsZW5haS9wZGYtY29tcG9uZW50cy8uL3NyYy91dGlscy9zdHlsZS50cz9lMzFiIiwid2VicGFjazovL0BhbGxlbmFpL3BkZi1jb21wb25lbnRzLy4vc3JjL2NvbXBvbmVudHMvQm91bmRpbmdCb3gudHN4PzU2Y2YiLCJ3ZWJwYWNrOi8vQGFsbGVuYWkvcGRmLWNvbXBvbmVudHMvLi9zcmMvdXRpbHMvU2Nyb2xsRGlyZWN0aW9uRGV0ZWN0b3IudHM/YWNlNiIsIndlYnBhY2s6Ly9AYWxsZW5haS9wZGYtY29tcG9uZW50cy8uL3NyYy91dGlscy9WaXNpYmxlRW50cmllc0RldGVjdG9yLnRzP2ZmNmIiLCJ3ZWJwYWNrOi8vQGFsbGVuYWkvcGRmLWNvbXBvbmVudHMvLi9zcmMvY29udGV4dC9TY3JvbGxDb250ZXh0LnRzP2NmOTEiLCJ3ZWJwYWNrOi8vQGFsbGVuYWkvcGRmLWNvbXBvbmVudHMvLi9zcmMvY29udGV4dC9VaUNvbnRleHQudHM/NmJiMyIsIndlYnBhY2s6Ly9AYWxsZW5haS9wZGYtY29tcG9uZW50cy8uL3NyYy91dGlscy9lcnJvck1lc3NhZ2UudHM/MzBhNSIsIndlYnBhY2s6Ly9AYWxsZW5haS9wZGYtY29tcG9uZW50cy8uL3NyYy91dGlscy9wZGZXb3JrZXIudHM/YTVkZSIsIndlYnBhY2s6Ly9AYWxsZW5haS9wZGYtY29tcG9uZW50cy8uL3NyYy91dGlscy9yZWFkZXItdXRpbHMudHM/MGU0OSIsIndlYnBhY2s6Ly9AYWxsZW5haS9wZGYtY29tcG9uZW50cy8uL3NyYy91dGlscy9zY2FsZS50cz9hMDA1Iiwid2VicGFjazovL0BhbGxlbmFpL3BkZi1jb21wb25lbnRzLy4vc3JjL2NvbXBvbmVudHMvdHlwZXMvZGVzdGluYXRpb24udHM/YjFhMyIsIndlYnBhY2s6Ly9AYWxsZW5haS9wZGYtY29tcG9uZW50cy8uL3NyYy9jb21wb25lbnRzL0RvY3VtZW50V3JhcHBlci50c3g/NTIwNCIsIndlYnBhY2s6Ly9AYWxsZW5haS9wZGYtY29tcG9uZW50cy8uL3NyYy9jb21wb25lbnRzL0Rvd25sb2FkQnV0dG9uLnRzeD9lMjM1Iiwid2VicGFjazovL0BhbGxlbmFpL3BkZi1jb21wb25lbnRzLy4vc3JjL2NvbXBvbmVudHMvSGlnaGxpZ2h0T3ZlcmxheS50c3g/MjIxYSIsIndlYnBhY2s6Ly9AYWxsZW5haS9wZGYtY29tcG9uZW50cy8uL3NyYy9jb21wb25lbnRzL21hcmtlci9BcnJvd0ZsYWdCYXNlLnRzeD81OWFjIiwid2VicGFjazovL0BhbGxlbmFpL3BkZi1jb21wb25lbnRzLy4vc3JjL2NvbXBvbmVudHMvaWNvbi9JY29uRmxhZy50c3g/ZGJkZCIsIndlYnBhY2s6Ly9AYWxsZW5haS9wZGYtY29tcG9uZW50cy8uL3NyYy9jb21wb25lbnRzL3R5cGVzL2JvdW5kaW5nQm94LnRzPzg2MTAiLCJ3ZWJwYWNrOi8vQGFsbGVuYWkvcGRmLWNvbXBvbmVudHMvLi9zcmMvY29tcG9uZW50cy9tYXJrZXIvQXJyb3dGbGFnLnRzeD9iNmVhIiwid2VicGFjazovL0BhbGxlbmFpL3BkZi1jb21wb25lbnRzLy4vc3JjL2NvbXBvbmVudHMvb3V0bGluZS9PdXRsaW5lSXRlbS50c3g/NmE3MyIsIndlYnBhY2s6Ly9AYWxsZW5haS9wZGYtY29tcG9uZW50cy8uL3NyYy9jb21wb25lbnRzL291dGxpbmUvT3V0bGluZS50c3g/MzNjYSIsIndlYnBhY2s6Ly9AYWxsZW5haS9wZGYtY29tcG9uZW50cy8uL3NyYy9jb21wb25lbnRzL092ZXJsYXkudHN4P2U5ZjMiLCJ3ZWJwYWNrOi8vQGFsbGVuYWkvcGRmLWNvbXBvbmVudHMvLi9zcmMvdXRpbHMvTWF4VmlzaWJsZUVsZW1lbnQudHM/MzljOSIsIndlYnBhY2s6Ly9AYWxsZW5haS9wZGYtY29tcG9uZW50cy8uL3NyYy9jb21wb25lbnRzL1BhZ2VOdW1iZXJDb250cm9sLnRzeD83OTBjIiwid2VicGFjazovL0BhbGxlbmFpL3BkZi1jb21wb25lbnRzLy4vc3JjL2NvbnRleHQvUGFnZVJlbmRlckNvbnRleHQudHM/ZjA3YyIsIndlYnBhY2s6Ly9AYWxsZW5haS9wZGYtY29tcG9uZW50cy8uL3NyYy9jb21wb25lbnRzL1BhZ2VXcmFwcGVyLnRzeD9jOWM1Iiwid2VicGFjazovL0BhbGxlbmFpL3BkZi1jb21wb25lbnRzLy4vc3JjL2NvbXBvbmVudHMvUHJpbnRCdXR0b24udHN4PzE3MzkiLCJ3ZWJwYWNrOi8vQGFsbGVuYWkvcGRmLWNvbXBvbmVudHMvLi9zcmMvdXRpbHMvdXRpbC50cz82ZGRiIiwid2VicGFjazovL0BhbGxlbmFpL3BkZi1jb21wb25lbnRzLy4vc3JjL2NvbXBvbmVudHMvU2lkZVBhbmVsLnRzeD9iZTY4Iiwid2VicGFjazovL0BhbGxlbmFpL3BkZi1jb21wb25lbnRzLy4vc3JjL2NvbXBvbmVudHMvdGh1bWJuYWlscy9UaHVtYm5haWwudHN4PzkyMDciLCJ3ZWJwYWNrOi8vQGFsbGVuYWkvcGRmLWNvbXBvbmVudHMvLi9zcmMvY29tcG9uZW50cy90aHVtYm5haWxzL1RodW1ibmFpbExpc3QudHN4PzVjZjAiLCJ3ZWJwYWNrOi8vQGFsbGVuYWkvcGRmLWNvbXBvbmVudHMvLi9zcmMvdXRpbHMvZm9ybWF0LnRzPzJkOGMiLCJ3ZWJwYWNrOi8vQGFsbGVuYWkvcGRmLWNvbXBvbmVudHMvLi9zcmMvY29tcG9uZW50cy9ab29tSW5CdXR0b24udHN4Pzg2YjkiLCJ3ZWJwYWNrOi8vQGFsbGVuYWkvcGRmLWNvbXBvbmVudHMvLi9zcmMvY29tcG9uZW50cy9ab29tT3V0QnV0dG9uLnRzeD82YmYzIiwid2VicGFjazovL0BhbGxlbmFpL3BkZi1jb21wb25lbnRzLy4vc3JjL2NvbnRleHQvQ29udGV4dFByb3ZpZGVyLnRzeD9iYzhiIiwid2VicGFjazovL0BhbGxlbmFpL3BkZi1jb21wb25lbnRzLy4vaW5kZXgudHM/YTk1OSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gbG9nUHJvdmlkZXJXYXJuaW5nKGZ1bmN0aW9uTmFtZTogc3RyaW5nLCBwcm92aWRlck5hbWU6IHN0cmluZyk6IHZvaWQge1xuICBjb25zb2xlLndhcm4oXG4gICAgYFVuYWJsZSB0byBjYWxsICR7ZnVuY3Rpb25OYW1lfS4gVGhlICR7cHJvdmlkZXJOYW1lfSBQcm92aWRlciBtYXkgbm90IGJlIHNldCB1cCBjb3JyZWN0bHkuYFxuICApO1xufVxuIiwiZXhwb3J0IGVudW0gUGFnZVJvdGF0aW9uIHtcbiAgUm90YXRlMCA9IDAsXG4gIFJvdGF0ZTkwID0gOTAsXG4gIFJvdGF0ZTE4MCA9IDE4MCxcbiAgUm90YXRlMjcwID0gMjcwLFxufVxuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlQ2xvY2t3aXNlKHJvdGF0aW9uOiBQYWdlUm90YXRpb24pOiBQYWdlUm90YXRpb24ge1xuICBzd2l0Y2ggKHJvdGF0aW9uKSB7XG4gICAgY2FzZSBQYWdlUm90YXRpb24uUm90YXRlMDpcbiAgICAgIHJldHVybiBQYWdlUm90YXRpb24uUm90YXRlOTA7XG4gICAgY2FzZSBQYWdlUm90YXRpb24uUm90YXRlOTA6XG4gICAgICByZXR1cm4gUGFnZVJvdGF0aW9uLlJvdGF0ZTE4MDtcbiAgICBjYXNlIFBhZ2VSb3RhdGlvbi5Sb3RhdGUxODA6XG4gICAgICByZXR1cm4gUGFnZVJvdGF0aW9uLlJvdGF0ZTI3MDtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIFBhZ2VSb3RhdGlvbi5Sb3RhdGUwO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVDb3VudGVyQ2xvY2t3aXNlKHJvdGF0aW9uOiBQYWdlUm90YXRpb24pOiBQYWdlUm90YXRpb24ge1xuICBzd2l0Y2ggKHJvdGF0aW9uKSB7XG4gICAgY2FzZSBQYWdlUm90YXRpb24uUm90YXRlMDpcbiAgICAgIHJldHVybiBQYWdlUm90YXRpb24uUm90YXRlMjcwO1xuICAgIGNhc2UgUGFnZVJvdGF0aW9uLlJvdGF0ZTkwOlxuICAgICAgcmV0dXJuIFBhZ2VSb3RhdGlvbi5Sb3RhdGUwO1xuICAgIGNhc2UgUGFnZVJvdGF0aW9uLlJvdGF0ZTE4MDpcbiAgICAgIHJldHVybiBQYWdlUm90YXRpb24uUm90YXRlOTA7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBQYWdlUm90YXRpb24uUm90YXRlMTgwO1xuICB9XG59XG5cbi8qKlxuICogVGVzdHMgd2hldGhlciB0aGUgcGFnZSBpcyByb3RhdGVkIDkwIGRlZ3JlZXMgY2xvY2t3aXNlIG9yIGNvdW50ZXJjbG9ja3dpc2UgZnJvbSB6ZXJvLFxuICogZS5nLiB3aGV0aGVyIHRoZSBwYWdlIFwiaXMgcm90YXRlZCBzaWRld2F5cy5cIlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNTaWRld2F5cyhyb3RhdGlvbjogUGFnZVJvdGF0aW9uKTogYm9vbGVhbiB7XG4gIHJldHVybiByb3RhdGlvbiA9PT0gUGFnZVJvdGF0aW9uLlJvdGF0ZTkwIHx8IHJvdGF0aW9uID09PSBQYWdlUm90YXRpb24uUm90YXRlMjcwO1xufVxuIiwiaW1wb3J0IHsgRGltZW5zaW9ucyB9IGZyb20gJy4uL2NvbXBvbmVudHMvdHlwZXMvYm91bmRpbmdCb3gnO1xuaW1wb3J0IHsgUGFnZVByb3BlcnRpZXMgfSBmcm9tICcuLi9jb21wb25lbnRzL3R5cGVzL3BhZ2UnO1xuaW1wb3J0IHsgTnVsbGFibGUgfSBmcm9tICcuLi9jb21wb25lbnRzL3R5cGVzL3V0aWxzJztcbmltcG9ydCB7IFBhZ2VSb3RhdGlvbiB9IGZyb20gJy4uL3V0aWxzL3JvdGF0ZSc7XG5cbi8vIEVhY2ggcGFnZSBkaXYgaXMgSUQnZCBhY2NvcmRpbmcgdG8gcGFnZSBpbmRleFxuLy8gZS5nLiByZWFkZXJfcGdfMCwgcmVhZGVyX3BnXzEsIGV0Yy5cbmV4cG9ydCBjb25zdCBQQUdFX05BVl9UQVJHRVRfSURfUk9PVCA9ICdyZWFkZXJfcGdfJztcblxuY29uc3QgUERGX0hFSUdIVF9QT0lOVFMgPSA3OTI7XG5jb25zdCBQREZfV0lEVEhfUE9JTlRTID0gNjEyO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVQYWdlSWRGcm9tSW5kZXgocGFnZUluZGV4OiBudW1iZXIgfCBzdHJpbmcpOiBzdHJpbmcge1xuICByZXR1cm4gYCR7UEFHRV9OQVZfVEFSR0VUX0lEX1JPT1R9JHtwYWdlSW5kZXh9YDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNjcm9sbFRvSWQoaWQ6IHN0cmluZyk6IHZvaWQge1xuICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xuICBpZiAoZWxlbWVudCkge1xuICAgIGVsZW1lbnQuc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogJ3Ntb290aCcsIGJsb2NrOiAnc3RhcnQnLCBpbmxpbmU6ICdjZW50ZXInIH0pO1xuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUuZXJyb3IoYENvdWxkIG5vdCBmaW5kIHNjcm9sbCB0YXJnZXQgd2l0aCBJRCAjJHtpZH1gKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2Nyb2xsVG9QZGZQYWdlSW5kZXgocGFnZUluZGV4OiBudW1iZXIgfCBzdHJpbmcpOiB2b2lkIHtcbiAgc2Nyb2xsVG9JZChnZW5lcmF0ZVBhZ2VJZEZyb21JbmRleChwYWdlSW5kZXgpKTtcbn1cblxuLyoqXG4gKiBTY3JvbGwgUERGIGRvY3VtZW50IHRvIGEgc3BlY2lmaWMgcG9zaXRpb24uXG4gKiBAcGFyYW0gcGFnZUluZGV4IFRoZSBpbmRleCBvZiB0aGUgcGFnZSB3aGVyZSB0aGUgcG9zaXRpb24gbG9jYXRlcyBhdFxuICogQHBhcmFtIGxlZnRQb2ludHMgVGhlIGhvcml6b250YWwgZGlzdGFuY2UgYmV0d2VlbiB0aGUgb3JpZ2luIGFuZCB0aGUgcG9zaXRpb24gKGluIFBERiBjb29yZGluYXRlcylcbiAqIEBwYXJhbSBib3R0b21Qb2ludHMgVGhlIHZlcnRpY2FsIGRpc3RhbmNlIGJldHdlZW4gdGhlIG9yaWdpbiBhbmQgdGhlIHBvc2l0aW9uIChpbiBQREYgY29vcmRpbmF0ZXMpXG4gKiBAcGFyYW0gcm90YXRpb24gVGhlIHJvdGF0aW9uIGRlZ3JlZSBvZiB0aGUgZG9jdW1lbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNjcm9sbFRvUG9zaXRpb24oXG4gIHBhZ2VJbmRleDogbnVtYmVyLFxuICBsZWZ0UG9pbnRzOiBudW1iZXIsXG4gIGJvdHRvbVBvaW50czogbnVtYmVyLFxuICByb3RhdGlvbjogUGFnZVJvdGF0aW9uID0gUGFnZVJvdGF0aW9uLlJvdGF0ZTBcbik6IHZvaWQge1xuICAvKlxuICAgIFZlcnRpY2FsIHNjcm9sbCBkaXN0YW5jZSBpcyBjYWxjdWxhdGVkIGFzXG4gICAgPSB0b3RhbCBudW1iZXIgb2YgcHJldmlvdXMgcGFnZXMgKiBwYWdlIGhlaWdodCBpbmNsdWRpbmcgdG9wL2Rvd24gbWFyZ2luc1xuICAgICsgdGhlIG1hcmdpbiB0b3Agb2YgY3VycmVudCBwYWdlXG4gICAgKyB0aGUgZGlzdGFuY2UgZnJvbSB0aGUgcGFnZSB0b3AgdG8gdGhlIHNwZWNpZmllZCBwb3NpdGlvblxuXG4gICAgTm90aWNlIHRoYXQgdGhlIHNjcm9sbCBkaXN0YW5jZSBpcyBtZWFzdXJlZCBpbiBwaXhlbHMsXG4gICAgc28gbGVmdFBvaW50cy9ib3R0b21Qb2ludHMgaGFzIHRvIGJlIHRyYW5zZm9ybWVkIGZyb20gcG9pbnRzIHRvIHBpeGVscyBmaXJzdC5cbiAgKi9cblxuICBjb25zdCB7IHdpZHRoLCBoZWlnaHQsIG1hcmdpblRvcCwgbWFyZ2luQm90dG9tLCBtYXJnaW5MZWZ0LCBtYXJnaW5SaWdodCB9ID1cbiAgICBnZXRQYWdlUHJvcGVydGllc0luUGl4ZWxzKCk7XG4gIGNvbnN0IGhlaWdodFdpdGhNYXJnaW5zID0gaGVpZ2h0ICsgbWFyZ2luVG9wICsgbWFyZ2luQm90dG9tO1xuXG4gIC8vIFdoZW4gYSBwYXBlciBpcyByb3RhdGVkLCBpdHMgaGVpZ2h0IGFuZCB3aWR0aCB3b3VsZCBiZSBzd2l0Y2hlZCBhdXRvbWF0aWNhbGx5LiBIb3dldmVyLCBsZWZ0UG9pbnRzIGFuZCBib3R0b21Qb2ludHMgcmVtYWluIHRoZSBzYW1lLlxuICBsZXQgbWFyZ2luVG9wUGl4ZWxzID0gbWFyZ2luVG9wO1xuICBsZXQgYm90dG9tUGl4ZWxzID0gKGhlaWdodCAqIGJvdHRvbVBvaW50cykgLyBQREZfSEVJR0hUX1BPSU5UUztcbiAgbGV0IGxlZnRQaXhlbHMgPSAod2lkdGggKiBsZWZ0UG9pbnRzKSAvIFBERl9XSURUSF9QT0lOVFM7XG5cbiAgaWYgKHJvdGF0aW9uID09IFBhZ2VSb3RhdGlvbi5Sb3RhdGU5MCkge1xuICAgIG1hcmdpblRvcFBpeGVscyA9IG1hcmdpbkxlZnQ7XG4gICAgYm90dG9tUGl4ZWxzID0gKGhlaWdodCAqIChQREZfV0lEVEhfUE9JTlRTIC0gbGVmdFBvaW50cykpIC8gUERGX1dJRFRIX1BPSU5UUztcbiAgICBsZWZ0UGl4ZWxzID0gKHdpZHRoICogYm90dG9tUG9pbnRzKSAvIFBERl9IRUlHSFRfUE9JTlRTO1xuICB9IGVsc2UgaWYgKHJvdGF0aW9uID09IFBhZ2VSb3RhdGlvbi5Sb3RhdGUxODApIHtcbiAgICBtYXJnaW5Ub3BQaXhlbHMgPSBtYXJnaW5Cb3R0b207XG4gICAgYm90dG9tUGl4ZWxzID0gKGhlaWdodCAqIChQREZfSEVJR0hUX1BPSU5UUyAtIGJvdHRvbVBvaW50cykpIC8gUERGX0hFSUdIVF9QT0lOVFM7XG4gICAgbGVmdFBpeGVscyA9ICh3aWR0aCAqIChQREZfV0lEVEhfUE9JTlRTIC0gbGVmdFBvaW50cykpIC8gUERGX1dJRFRIX1BPSU5UUztcbiAgfSBlbHNlIGlmIChyb3RhdGlvbiA9PSBQYWdlUm90YXRpb24uUm90YXRlMjcwKSB7XG4gICAgbWFyZ2luVG9wUGl4ZWxzID0gbWFyZ2luUmlnaHQ7XG4gICAgYm90dG9tUGl4ZWxzID0gKGhlaWdodCAqIGxlZnRQb2ludHMpIC8gUERGX1dJRFRIX1BPSU5UUztcbiAgICBsZWZ0UGl4ZWxzID0gKHdpZHRoICogKFBERl9IRUlHSFRfUE9JTlRTIC0gYm90dG9tUG9pbnRzKSkgLyBQREZfSEVJR0hUX1BPSU5UUztcbiAgfVxuXG4gIC8vIEZpbmQgcGFnZSBlbGVtZW50XG4gIGNvbnN0IHBhZ2VJZCA9IGdlbmVyYXRlUGFnZUlkRnJvbUluZGV4KHBhZ2VJbmRleCk7XG4gIGNvbnN0IHBhZ2VJZEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwYWdlSWQpO1xuICBpZiAoIXBhZ2VJZEVsZW1lbnQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBGaW5kIGZpcnN0IHNjcm9sbGFibGUgcGFyZW50XG4gIGNvbnN0IHBhcmVudEVsZW1lbnQgPSBnZXRTY3JvbGxQYXJlbnQocGFnZUlkRWxlbWVudCk7XG4gIGlmICghcGFyZW50RWxlbWVudCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIEFwcGx5IHNjcm9sbFxuICBwYXJlbnRFbGVtZW50LnNjcm9sbFRvKHtcbiAgICB0b3A6IGNhbGN1bGF0ZVRvcFB4KHtcbiAgICAgIGhlaWdodFdpdGhNYXJnaW5zSW5QeDogaGVpZ2h0V2l0aE1hcmdpbnMsXG4gICAgICBwYWdlSW5kZXg6IHBhZ2VJbmRleCxcbiAgICAgIG1hcmdpblRvcFB4OiBtYXJnaW5Ub3BQaXhlbHMsXG4gICAgICBoZWlnaHRQeDogaGVpZ2h0LFxuICAgICAgYm90dG9tUHg6IGJvdHRvbVBpeGVscyxcbiAgICB9KSxcbiAgICBsZWZ0OiBNYXRoLmZsb29yKGxlZnRQaXhlbHMpLFxuICAgIGJlaGF2aW9yOiAnc21vb3RoJyxcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTY3JvbGxQYXJlbnQobm9kZTogSFRNTEVsZW1lbnQpOiBOdWxsYWJsZTxIVE1MRWxlbWVudD4ge1xuICBjb25zdCBtaW5TY3JvbGxhYmxlSGVpZ2h0ID0gNTA7IC8vIHVzZWQgdG8gY2hlY2sgZm9yIGEgYnVnIHdoZXJlIEZpcmVmb3ggZ2l2ZXMgaW5saW5lIGNvbnRhaW5lcnMgYSBzbWFsbCBzY3JvbGxIZWlnaHQgd2hlbiBpdCBzaG91bGRudFxuICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGlmICghbm9kZSB8fCBub2RlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdib2R5Jykge1xuICAgIHJldHVybiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gIH1cbiAgaWYgKG5vZGUuc2Nyb2xsSGVpZ2h0IC0gbm9kZS5jbGllbnRIZWlnaHQgPiBtaW5TY3JvbGxhYmxlSGVpZ2h0ICYmICFpc092ZXJmbG93SXNIaWRkZW4obm9kZSkpIHtcbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuICByZXR1cm4gZ2V0U2Nyb2xsUGFyZW50KG5vZGUucGFyZW50RWxlbWVudCBhcyBIVE1MRWxlbWVudCk7XG59XG5cbmZ1bmN0aW9uIGlzT3ZlcmZsb3dJc0hpZGRlbihub2RlOiBIVE1MRWxlbWVudCk6IGJvb2xlYW4ge1xuICBjb25zdCBzdHlsZSA9IGdldENvbXB1dGVkU3R5bGUobm9kZSk7XG4gIHJldHVybiAoXG4gICAgc3R5bGUub3ZlcmZsb3cuaW5jbHVkZXMoJ2hpZGRlbicpIHx8XG4gICAgc3R5bGUub3ZlcmZsb3dYLmluY2x1ZGVzKCdoaWRkZW4nKSB8fFxuICAgIHN0eWxlLm92ZXJmbG93WS5pbmNsdWRlcygnaGlkZGVuJylcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZVRvcFB4KHtcbiAgaGVpZ2h0V2l0aE1hcmdpbnNJblB4LFxuICBwYWdlSW5kZXgsXG4gIG1hcmdpblRvcFB4LFxuICBoZWlnaHRQeCxcbiAgYm90dG9tUHgsXG59OiB7XG4gIGhlaWdodFdpdGhNYXJnaW5zSW5QeDogbnVtYmVyO1xuICBwYWdlSW5kZXg6IG51bWJlcjtcbiAgbWFyZ2luVG9wUHg6IG51bWJlcjtcbiAgaGVpZ2h0UHg6IG51bWJlcjtcbiAgYm90dG9tUHg6IG51bWJlcjtcbn0pOiBudW1iZXIge1xuICByZXR1cm4gTWF0aC5mbG9vcihoZWlnaHRXaXRoTWFyZ2luc0luUHggKiBwYWdlSW5kZXggKyBtYXJnaW5Ub3BQeCArIChoZWlnaHRQeCAtIGJvdHRvbVB4KSk7XG59XG5cbi8qKlxuICogR2V0IGxlbmd0aHMsIHdpZHRocywgYW5kIG1hcmdpbnMgb2YgYSBwYWdlLlxuICogQHJldHVybnMgYSBQYWdlUHJvcGVydGllcyBvYmplY3RcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFBhZ2VQcm9wZXJ0aWVzSW5QaXhlbHMoKTogUGFnZVByb3BlcnRpZXMge1xuICBjb25zdCBmaXJzdFBhZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChnZW5lcmF0ZVBhZ2VJZEZyb21JbmRleCgwKSk7XG4gIGlmICghZmlyc3RQYWdlKSB7XG4gICAgY29uc29sZS5lcnJvcihgQ2Fubm90IGdldCB0aGUgZmlyc3QgcGFnZSBvZiB0aGlzIGRvY3VtZW50LmApO1xuICAgIGNvbnN0IGVtcHR5UGFnZVByb3BlcnRpZXM6IFBhZ2VQcm9wZXJ0aWVzID0ge1xuICAgICAgd2lkdGg6IDAsXG4gICAgICBoZWlnaHQ6IDAsXG4gICAgICBtYXJnaW5Ub3A6IDAsXG4gICAgICBtYXJnaW5Cb3R0b206IDAsXG4gICAgICBtYXJnaW5MZWZ0OiAwLFxuICAgICAgbWFyZ2luUmlnaHQ6IDAsXG4gICAgfTtcbiAgICByZXR1cm4gZW1wdHlQYWdlUHJvcGVydGllcztcbiAgfVxuXG4gIGNvbnN0IHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShmaXJzdFBhZ2UgYXMgRWxlbWVudCk7XG4gIGNvbnN0IHBhZ2VQcm9wZXJ0aWVzOiBQYWdlUHJvcGVydGllcyA9IHtcbiAgICB3aWR0aDogcGFyc2VJbnQoc3R5bGUud2lkdGgpLFxuICAgIGhlaWdodDogcGFyc2VJbnQoc3R5bGUuaGVpZ2h0KSxcbiAgICBtYXJnaW5Ub3A6IHBhcnNlSW50KHN0eWxlLm1hcmdpblRvcCksXG4gICAgbWFyZ2luQm90dG9tOiBwYXJzZUludChzdHlsZS5tYXJnaW5Cb3R0b20pLFxuICAgIG1hcmdpbkxlZnQ6IHBhcnNlSW50KHN0eWxlLm1hcmdpbkxlZnQpLFxuICAgIG1hcmdpblJpZ2h0OiBwYXJzZUludChzdHlsZS5tYXJnaW5SaWdodCksXG4gIH07XG5cbiAgcmV0dXJuIHBhZ2VQcm9wZXJ0aWVzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlVGFyZ2V0UG9zaXRpb24oe1xuICBzY2FsZSxcbiAgbGVmdFBvaW50LFxuICBib3R0b21Qb2ludCxcbiAgcGFnZURpbWVuc2lvbnMsXG4gIHJvdGF0aW9uID0gUGFnZVJvdGF0aW9uLlJvdGF0ZTAsXG59OiB7XG4gIHNjYWxlOiBudW1iZXI7XG4gIGxlZnRQb2ludDogbnVtYmVyO1xuICBib3R0b21Qb2ludDogbnVtYmVyO1xuICBwYWdlRGltZW5zaW9uczogRGltZW5zaW9ucztcbiAgcm90YXRpb246IFBhZ2VSb3RhdGlvbjtcbn0pOiB7IGxlZnRQeDogbnVtYmVyOyB0b3BQeDogbnVtYmVyIH0ge1xuICBzd2l0Y2ggKHJvdGF0aW9uKSB7XG4gICAgZGVmYXVsdDpcbiAgICBjYXNlIFBhZ2VSb3RhdGlvbi5Sb3RhdGUwOiB7XG4gICAgICBjb25zdCBsZWZ0UHggPSAobGVmdFBvaW50IC8gUERGX1dJRFRIX1BPSU5UUykgKiBwYWdlRGltZW5zaW9ucy53aWR0aCAqIHNjYWxlO1xuICAgICAgY29uc3QgdG9wUHggPSAoMSAtIGJvdHRvbVBvaW50IC8gUERGX0hFSUdIVF9QT0lOVFMpICogcGFnZURpbWVuc2lvbnMuaGVpZ2h0ICogc2NhbGU7XG4gICAgICByZXR1cm4geyBsZWZ0UHgsIHRvcFB4IH07XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBwZGZqcyB9IGZyb20gJ3JlYWN0LXBkZic7XG5cbmltcG9ydCB7IERpbWVuc2lvbnMgfSBmcm9tICcuLi9jb21wb25lbnRzL3R5cGVzL2JvdW5kaW5nQm94JztcbmltcG9ydCB7XG4gIE91dGxpbmVOb2RlLFxuICBPdXRsaW5lUG9zaXRpb24sXG4gIE91dGxpbmVQb3NpdGlvbnNCeVBhZ2VOdW1iZXJNYXAsXG4gIE91dGxpbmVUYXJnZXQsXG4gIE91dGxpbmVUYXJnZXRBcmdzLFxufSBmcm9tICcuLi9jb21wb25lbnRzL3R5cGVzL291dGxpbmUnO1xuaW1wb3J0IHsgTnVsbGFibGUgfSBmcm9tICcuLi9jb21wb25lbnRzL3R5cGVzL3V0aWxzJztcbmltcG9ydCB7IGxvZ1Byb3ZpZGVyV2FybmluZyB9IGZyb20gJy4uL3V0aWxzL3Byb3ZpZGVyJztcbmltcG9ydCB7IGNhbGN1bGF0ZVRhcmdldFBvc2l0aW9uIH0gZnJvbSAnLi4vdXRpbHMvc2Nyb2xsJztcblxuZXhwb3J0IGludGVyZmFjZSBJRG9jdW1lbnRDb250ZXh0IHtcbiAgbnVtUGFnZXM6IG51bWJlcjtcbiAgbnVtUGFnZXNMb2FkZWQ6IG51bWJlcjtcbiAgb3V0bGluZTogTnVsbGFibGU8QXJyYXk8T3V0bGluZU5vZGU+PjtcbiAgb3V0bGluZVBvc2l0aW9uczogTnVsbGFibGU8T3V0bGluZVBvc2l0aW9uc0J5UGFnZU51bWJlck1hcD47XG4gIHBhZ2VEaW1lbnNpb25zOiBEaW1lbnNpb25zOyAvLyBTY2FsZWQgYXQgMTAwJVxuICBwZGZEb2NQcm94eT86IHBkZmpzLlBERkRvY3VtZW50UHJveHk7XG4gIGdldE91dGxpbmVUYXJnZXRzOiAob3B0czogT3V0bGluZVRhcmdldEFyZ3MpID0+IE91dGxpbmVUYXJnZXRbXTtcbiAgc2V0TnVtUGFnZXM6IChudW1QYWdlczogbnVtYmVyKSA9PiB2b2lkO1xuICBzZXROdW1QYWdlc0xvYWRlZDogKG51bVBhZ2VzTG9hZGVkOiBudW1iZXIgfCAoKHByZXZOdW1QYWdlc0xvYWRlZDogbnVtYmVyKSA9PiBudW1iZXIpKSA9PiB2b2lkO1xuICBzZXRPdXRsaW5lOiAob3V0bGluZTogTnVsbGFibGU8QXJyYXk8T3V0bGluZU5vZGU+PikgPT4gdm9pZDtcbiAgc2V0T3V0bGluZVBvc2l0aW9uczogKG91dGxpbmVQb3NpdGlvbnM6IE51bGxhYmxlPE91dGxpbmVQb3NpdGlvbnNCeVBhZ2VOdW1iZXJNYXA+KSA9PiB2b2lkO1xuICBzZXRQYWdlRGltZW5zaW9uczogKHBhZ2VEaW1lbnNpb25zOiBEaW1lbnNpb25zKSA9PiB2b2lkO1xuICBzZXRQZGZEb2NQcm94eTogKHBkZkRvY1Byb3h5OiBwZGZqcy5QREZEb2N1bWVudFByb3h5KSA9PiB2b2lkO1xufVxuXG5leHBvcnQgY29uc3QgRG9jdW1lbnRDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dDxJRG9jdW1lbnRDb250ZXh0Pih7XG4gIG51bVBhZ2VzOiAwLFxuICBudW1QYWdlc0xvYWRlZDogMCxcbiAgb3V0bGluZTogW10sXG4gIG91dGxpbmVQb3NpdGlvbnM6IG51bGwsXG4gIHBhZ2VEaW1lbnNpb25zOiB7IGhlaWdodDogMCwgd2lkdGg6IDAgfSxcbiAgcGRmRG9jUHJveHk6IHVuZGVmaW5lZCxcbiAgZ2V0T3V0bGluZVRhcmdldHM6IG9wdHMgPT4ge1xuICAgIGxvZ1Byb3ZpZGVyV2FybmluZyhgZ2V0T3V0bGluZVRhcmdldHMoJHtKU09OLnN0cmluZ2lmeShvcHRzKX0pYCwgJ0RvY3VtZW50Q29udGV4dCcpO1xuICAgIHJldHVybiBbXTtcbiAgfSxcbiAgc2V0TnVtUGFnZXM6IG51bVBhZ2VzID0+IHtcbiAgICBsb2dQcm92aWRlcldhcm5pbmcoYHNldE51bVBhZ2VzKCR7bnVtUGFnZXN9KWAsICdEb2N1bWVudENvbnRleHQnKTtcbiAgfSxcbiAgc2V0TnVtUGFnZXNMb2FkZWQ6IG51bVBhZ2VzID0+IHtcbiAgICBsb2dQcm92aWRlcldhcm5pbmcoYHNldE51bVBhZ2VzTG9hZGVkKCR7bnVtUGFnZXN9KWAsICdEb2N1bWVudENvbnRleHQnKTtcbiAgfSxcbiAgc2V0T3V0bGluZTogb3V0bGluZSA9PiB7XG4gICAgbG9nUHJvdmlkZXJXYXJuaW5nKGBzZXRPdXRsaW5lKCR7b3V0bGluZX0pYCwgJ0RvY3VtZW50Q29udGV4dCcpO1xuICB9LFxuICBzZXRPdXRsaW5lUG9zaXRpb25zOiBvdXRsaW5lID0+IHtcbiAgICBsb2dQcm92aWRlcldhcm5pbmcoYHNldE91dGxpbmVQb3NpdGlvbnMoJHtvdXRsaW5lfSlgLCAnRG9jdW1lbnRDb250ZXh0Jyk7XG4gIH0sXG4gIHNldFBhZ2VEaW1lbnNpb25zOiBwYWdlRGltZW5zaW9ucyA9PiB7XG4gICAgbG9nUHJvdmlkZXJXYXJuaW5nKGBzZXRQYWdlRGltZW5zaW9ucygke3BhZ2VEaW1lbnNpb25zfSlgLCAnRG9jdW1lbnRDb250ZXh0Jyk7XG4gIH0sXG4gIHNldFBkZkRvY1Byb3h5OiBwZGZEb2NQcm94eSA9PiB7XG4gICAgbG9nUHJvdmlkZXJXYXJuaW5nKGBzZXRQZGZEb2NQcm94eSgke3BkZkRvY1Byb3h5fSlgLCAnRG9jdW1lbnRDb250ZXh0Jyk7XG4gIH0sXG59KTtcblxuZXhwb3J0IGZ1bmN0aW9uIHVzZURvY3VtZW50Q29udGV4dFByb3BzKCk6IElEb2N1bWVudENvbnRleHQge1xuICBjb25zdCBbbnVtUGFnZXMsIHNldE51bVBhZ2VzXSA9IFJlYWN0LnVzZVN0YXRlPG51bWJlcj4oMCk7XG4gIGNvbnN0IFtudW1QYWdlc0xvYWRlZCwgc2V0TnVtUGFnZXNMb2FkZWRdID0gUmVhY3QudXNlU3RhdGU8bnVtYmVyPigwKTtcbiAgY29uc3QgW291dGxpbmUsIHNldE91dGxpbmVdID0gUmVhY3QudXNlU3RhdGU8TnVsbGFibGU8QXJyYXk8T3V0bGluZU5vZGU+Pj4obnVsbCk7XG4gIGNvbnN0IFtvdXRsaW5lUG9zaXRpb25zLCBzZXRPdXRsaW5lUG9zaXRpb25zXSA9XG4gICAgUmVhY3QudXNlU3RhdGU8TnVsbGFibGU8T3V0bGluZVBvc2l0aW9uc0J5UGFnZU51bWJlck1hcD4+KG51bGwpO1xuICBjb25zdCBbcGFnZURpbWVuc2lvbnMsIHNldFBhZ2VEaW1lbnNpb25zXSA9IFJlYWN0LnVzZVN0YXRlPERpbWVuc2lvbnM+KHtcbiAgICBoZWlnaHQ6IDAsXG4gICAgd2lkdGg6IDAsXG4gIH0pO1xuICBjb25zdCBbcGRmRG9jUHJveHksIHNldFBkZkRvY1Byb3h5XSA9IFJlYWN0LnVzZVN0YXRlPHBkZmpzLlBERkRvY3VtZW50UHJveHk+KCk7XG5cbiAgLy8gRHJhdyBvdXRsaW5lIHRhcmdldCBpbnRvIHRoZSBwZGYgYmFzZWQgb24gdGhlIGFyZ3NcbiAgY29uc3QgZ2V0T3V0bGluZVRhcmdldHMgPSBSZWFjdC51c2VDYWxsYmFjayhcbiAgICAoe1xuICAgICAgcGFnZU51bWJlcixcbiAgICAgIHBhZ2VJbmRleCxcbiAgICAgIHNjYWxlLFxuICAgICAgcm90YXRpb24sXG4gICAgICBwYWdlRGltZW5zaW9ucyxcbiAgICB9OiBPdXRsaW5lVGFyZ2V0QXJncyk6IE91dGxpbmVUYXJnZXRbXSA9PiB7XG4gICAgICBpZiAodHlwZW9mIHBhZ2VJbmRleCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgcGFnZU51bWJlciA9IHBhZ2VJbmRleCArIDE7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHBhZ2VOdW1iZXIgIT09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBvc2l0aW9ucyA9IG91dGxpbmVQb3NpdGlvbnM/LmdldChwYWdlTnVtYmVyKSB8fCBbXTtcbiAgICAgIHJldHVybiBwb3NpdGlvbnMubWFwKCh7IGRlc3QsIGxlZnRQb2ludCwgYm90dG9tUG9pbnQgfSkgPT4ge1xuICAgICAgICBjb25zdCB7IGxlZnRQeCwgdG9wUHggfSA9IGNhbGN1bGF0ZVRhcmdldFBvc2l0aW9uKHtcbiAgICAgICAgICBzY2FsZSxcbiAgICAgICAgICByb3RhdGlvbixcbiAgICAgICAgICBsZWZ0UG9pbnQsXG4gICAgICAgICAgYm90dG9tUG9pbnQsXG4gICAgICAgICAgcGFnZURpbWVuc2lvbnMsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGRlc3QsXG4gICAgICAgICAgbGVmdFB4LFxuICAgICAgICAgIHRvcFB4LFxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBbb3V0bGluZVBvc2l0aW9uc11cbiAgKTtcblxuICByZXR1cm4ge1xuICAgIG51bVBhZ2VzLFxuICAgIG51bVBhZ2VzTG9hZGVkLFxuICAgIG91dGxpbmUsXG4gICAgb3V0bGluZVBvc2l0aW9ucyxcbiAgICBwYWdlRGltZW5zaW9ucyxcbiAgICBwZGZEb2NQcm94eSxcbiAgICBnZXRPdXRsaW5lVGFyZ2V0cyxcbiAgICBzZXROdW1QYWdlcyxcbiAgICBzZXROdW1QYWdlc0xvYWRlZCxcbiAgICBzZXRPdXRsaW5lLFxuICAgIHNldE91dGxpbmVQb3NpdGlvbnMsXG4gICAgc2V0UGFnZURpbWVuc2lvbnM6IHNldFBhZ2VEaW1lbnNpb25zLFxuICAgIHNldFBkZkRvY1Byb3h5LFxuICB9O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYnVpbGRPdXRsaW5lUG9zaXRpb25zKFxuICBwZGZEb2NQcm94eTogcGRmanMuUERGRG9jdW1lbnRQcm94eSxcbiAgb3V0bGluZT86IE91dGxpbmVOb2RlW11cbik6IFByb21pc2U8T3V0bGluZVBvc2l0aW9uc0J5UGFnZU51bWJlck1hcD4ge1xuICBpZiAoIW91dGxpbmUpIHtcbiAgICBvdXRsaW5lID0gYXdhaXQgcGRmRG9jUHJveHkuZ2V0T3V0bGluZSgpO1xuICB9XG5cbiAgLy8gRGVwdGggZmlyc3Qgc2VhcmNoIHRocm91Z2ggb3V0bGluZSBpdGVtc1xuICBjb25zdCBpdGVtUXVldWUgPSBvdXRsaW5lLnNsaWNlKCk7XG4gIGNvbnN0IHByb21zOiBQcm9taXNlPE51bGxhYmxlPE91dGxpbmVQb3NpdGlvbj4+W10gPSBbXTtcbiAgd2hpbGUgKGl0ZW1RdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgY29uc3QgaXRlbSA9IGl0ZW1RdWV1ZS5wb3AoKTtcbiAgICBpZiAoIWl0ZW0pIHtcbiAgICAgIGNvbnRpbnVlOyAvLyBOb3QgYWJsZSB0byBwcm9jZXNzXG4gICAgfVxuICAgIGNvbnN0IHsgZGVzdCwgaXRlbXMgfSA9IGl0ZW07XG5cbiAgICAvLyBBZGQgY2hpbGQgaXRlbXMgdG8gcXVldWVcbiAgICBpZiAoQXJyYXkuaXNBcnJheShpdGVtcykpIHtcbiAgICAgIGl0ZW1RdWV1ZS5wdXNoKC4uLml0ZW1zKTtcbiAgICB9XG5cbiAgICAvLyBGZXRjaCBkZXN0aW5hdGlvbnMgZm9yIGl0ZW1cbiAgICBpZiAoQXJyYXkuaXNBcnJheShkZXN0KSkge1xuICAgICAgcHJvbXMucHVzaCguLi5kZXN0Lm1hcChkZXN0ID0+IGdldERlc3RpbmF0aW9uKHBkZkRvY1Byb3h5LCBkZXN0KSkpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGRlc3QgPT09ICdzdHJpbmcnKSB7XG4gICAgICBwcm9tcy5wdXNoKGdldERlc3RpbmF0aW9uKHBkZkRvY1Byb3h5LCBkZXN0KSk7XG4gICAgfVxuICB9XG5cbiAgLy8gQ29sbGVjdCByZXN1bHRzIGFsbCBhdCBvbmNlLCBzbyB3ZSBkb24ndCBoYXZlIHRvIHBheSBmb3IgdGhlIGNvc3Qgb2ZcbiAgLy8gcXVldWVpbmcgbWVzc2FnZXMgc2VudCB0byB0aGUgd29ya2VyXG4gIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbChwcm9tcyk7XG5cbiAgLy8gU3BsaXQgcmVzdWx0cyBpbnRvIHBhZ2VzXG4gIGNvbnN0IG1hcCA9IG5ldyBNYXA8bnVtYmVyLCBPdXRsaW5lUG9zaXRpb25bXT4oKTtcbiAgZm9yIChjb25zdCByZXN1bHQgb2YgcmVzdWx0cykge1xuICAgIGlmICghcmVzdWx0KSB7XG4gICAgICBjb250aW51ZTsgLy8gRmlsdGVyIG91dCBudWxsXG4gICAgfVxuICAgIGNvbnN0IHsgcGFnZU51bWJlciB9ID0gcmVzdWx0O1xuICAgIGlmICghbWFwLmhhcyhwYWdlTnVtYmVyKSkge1xuICAgICAgbWFwLnNldChwYWdlTnVtYmVyLCBbXSk7XG4gICAgfVxuICAgIG1hcC5nZXQocGFnZU51bWJlcik/LnB1c2gocmVzdWx0KTtcbiAgfVxuXG4gIC8vIEZyZWV6ZSBvYmplY3RzIHNvIGNvbnN1bWVycyBjYW5ub3QgbXV0YXRlXG4gIGZvciAoY29uc3QgcGFnZVBvcyBvZiBtYXAudmFsdWVzKCkpIHtcbiAgICBmb3IgKGNvbnN0IHBvcyBvZiBwYWdlUG9zKSB7XG4gICAgICBPYmplY3QuZnJlZXplKHBvcyk7XG4gICAgfVxuICAgIE9iamVjdC5mcmVlemUocGFnZVBvcyk7XG4gIH1cbiAgT2JqZWN0LmZyZWV6ZShtYXApO1xuXG4gIHJldHVybiBtYXA7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGdldERlc3RpbmF0aW9uKFxuICBwZGZEb2NQcm94eTogcGRmanMuUERGRG9jdW1lbnRQcm94eSxcbiAgZGVzdDogc3RyaW5nXG4pOiBQcm9taXNlPE51bGxhYmxlPE91dGxpbmVQb3NpdGlvbj4+IHtcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcGRmRG9jUHJveHkuZ2V0RGVzdGluYXRpb24oZGVzdCk7XG4gIGlmICghcmVzdWx0KSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG4gIGNvbnN0IFtyZWYsIF9mb3JtYXQsIGxlZnRQb2ludCwgYm90dG9tUG9pbnRdID0gcmVzdWx0O1xuICBjb25zdCBwYWdlSW5kZXggPSBhd2FpdCBwZGZEb2NQcm94eS5nZXRQYWdlSW5kZXgocmVmKTtcbiAgY29uc3QgcGFnZU51bWJlciA9IHBhZ2VJbmRleCArIDE7XG4gIHJldHVybiB7IHBhZ2VOdW1iZXIsIGRlc3QsIGxlZnRQb2ludCwgYm90dG9tUG9pbnQgfTtcbn1cbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHsgbG9nUHJvdmlkZXJXYXJuaW5nIH0gZnJvbSAnLi4vdXRpbHMvcHJvdmlkZXInO1xuaW1wb3J0IHsgUGFnZVJvdGF0aW9uIH0gZnJvbSAnLi4vdXRpbHMvcm90YXRlJztcblxuZXhwb3J0IGNvbnN0IERFRkFVTFRfWk9PTV9TQ0FMRSA9IDEuMDtcbmV4cG9ydCBpbnRlcmZhY2UgSVRyYW5zZm9ybUNvbnRleHQge1xuICBwaXhlbFJhdGlvOiBudW1iZXI7XG4gIHJvdGF0aW9uOiBQYWdlUm90YXRpb247XG4gIHNjYWxlOiBudW1iZXI7XG4gIHpvb21JbmNyZW1lbnRWYWx1ZTogbnVtYmVyO1xuICBzZXRQaXhlbFJhdGlvOiAoZGV2aWNlUGl4ZWxSYXRpbzogbnVtYmVyKSA9PiB2b2lkO1xuICBzZXRSb3RhdGlvbjogKHJvdGF0aW9uOiBQYWdlUm90YXRpb24pID0+IHZvaWQ7XG4gIHNldFNjYWxlOiAoc2NhbGU6IG51bWJlcikgPT4gdm9pZDtcbiAgc2V0Wm9vbUluY3JlbWVudFZhbHVlOiAodmFsdWU6IG51bWJlcikgPT4gdm9pZDtcbn1cblxuZXhwb3J0IGNvbnN0IFRyYW5zZm9ybUNvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0PElUcmFuc2Zvcm1Db250ZXh0Pih7XG4gIHBpeGVsUmF0aW86ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIDogbnVsbCkgfHwgMSxcbiAgcm90YXRpb246IFBhZ2VSb3RhdGlvbi5Sb3RhdGUwLFxuICBzY2FsZTogMSxcbiAgem9vbUluY3JlbWVudFZhbHVlOiAwLjIsXG4gIHNldFBpeGVsUmF0aW86IHBpeGVsUmF0aW8gPT4ge1xuICAgIGxvZ1Byb3ZpZGVyV2FybmluZyhgc2V0UGl4ZWxSYXRpbygke3BpeGVsUmF0aW99KWAsICdUcmFuc2Zvcm1Db250ZXh0Jyk7XG4gIH0sXG4gIHNldFJvdGF0aW9uOiByb3RhdGlvbiA9PiB7XG4gICAgbG9nUHJvdmlkZXJXYXJuaW5nKGBzZXRSb3RhdGlvbigke3JvdGF0aW9ufSlgLCAnVHJhbnNmb3JtQ29udGV4dCcpO1xuICB9LFxuICBzZXRTY2FsZTogc2NhbGUgPT4ge1xuICAgIGxvZ1Byb3ZpZGVyV2FybmluZyhgc2V0U2NhbGUoJHtzY2FsZX0pYCwgJ1RyYW5zZm9ybUNvbnRleHQnKTtcbiAgfSxcbiAgc2V0Wm9vbUluY3JlbWVudFZhbHVlOiB2YWx1ZSA9PiB7XG4gICAgbG9nUHJvdmlkZXJXYXJuaW5nKGBzZXRab29tSW5jcmVtZW50VmFsdWUoJHt2YWx1ZX0pYCwgJ1RyYW5zZm9ybUNvbnRleHQnKTtcbiAgfSxcbn0pO1xuXG5leHBvcnQgZnVuY3Rpb24gdXNlVHJhbnNmb3JtQ29udGV4dFByb3BzKCk6IElUcmFuc2Zvcm1Db250ZXh0IHtcbiAgY29uc3QgW3BpeGVsUmF0aW8sIHNldFBpeGVsUmF0aW9dID0gUmVhY3QudXNlU3RhdGU8bnVtYmVyPihcbiAgICAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyA6IG51bGwpIHx8IDFcbiAgKTtcbiAgY29uc3QgW3JvdGF0aW9uLCBzZXRSb3RhdGlvbl0gPSBSZWFjdC51c2VTdGF0ZTxQYWdlUm90YXRpb24+KFBhZ2VSb3RhdGlvbi5Sb3RhdGUwKTtcbiAgY29uc3QgW3NjYWxlLCBzZXRTY2FsZV0gPSBSZWFjdC51c2VTdGF0ZTxudW1iZXI+KERFRkFVTFRfWk9PTV9TQ0FMRSk7XG4gIGNvbnN0IFt6b29tSW5jcmVtZW50VmFsdWUsIHNldFpvb21JbmNyZW1lbnRWYWx1ZV0gPSBSZWFjdC51c2VTdGF0ZTxudW1iZXI+KDAuMik7XG5cbiAgcmV0dXJuIHtcbiAgICBwaXhlbFJhdGlvLFxuICAgIHJvdGF0aW9uLFxuICAgIHNjYWxlLFxuICAgIHNldFBpeGVsUmF0aW8sXG4gICAgc2V0Um90YXRpb24sXG4gICAgc2V0U2NhbGUsXG4gICAgem9vbUluY3JlbWVudFZhbHVlLFxuICAgIHNldFpvb21JbmNyZW1lbnRWYWx1ZSxcbiAgfTtcbn1cbiIsImltcG9ydCB7IERpbWVuc2lvbnMsIFNpemUgfSBmcm9tICcuLi9jb21wb25lbnRzL3R5cGVzL2JvdW5kaW5nQm94JztcbmltcG9ydCB7IGlzU2lkZXdheXMsIFBhZ2VSb3RhdGlvbiB9IGZyb20gJy4vcm90YXRlJztcblxuLy8gQ29tcHV0ZXMgdGhlIHN0eWxlIGZvciBhIGJvdW5kaW5nIGJveCwgYWNjb3VudGluZyBmb3IgcGFnZSByb2F0aW9uIGFuZCBwYWdlIHNjYWxpbmcvem9vbVxuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVCb3VuZGluZ0JveFN0eWxlKFxuICBib3VuZGluZ0JveFNpemU6IFNpemUsXG4gIHBhZ2VEaW1lbnNpb25zOiBEaW1lbnNpb25zLFxuICByb3RhdGlvbjogUGFnZVJvdGF0aW9uLFxuICBzY2FsZTogbnVtYmVyXG4pOiBTaXplIHtcbiAgY29uc3QgeyB0b3AsIGxlZnQsIGhlaWdodCwgd2lkdGggfSA9IGJvdW5kaW5nQm94U2l6ZTtcblxuICBzd2l0Y2ggKHJvdGF0aW9uKSB7XG4gICAgY2FzZSBQYWdlUm90YXRpb24uUm90YXRlOTA6XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0b3A6IGxlZnQgKiBzY2FsZSxcbiAgICAgICAgbGVmdDogKHBhZ2VEaW1lbnNpb25zLmhlaWdodCAtIGhlaWdodCAtIHRvcCkgKiBzY2FsZSxcbiAgICAgICAgaGVpZ2h0OiB3aWR0aCAqIHNjYWxlLFxuICAgICAgICB3aWR0aDogaGVpZ2h0ICogc2NhbGUsXG4gICAgICB9O1xuICAgIGNhc2UgUGFnZVJvdGF0aW9uLlJvdGF0ZTE4MDpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRvcDogKHBhZ2VEaW1lbnNpb25zLmhlaWdodCAtIGhlaWdodCAtIHRvcCkgKiBzY2FsZSxcbiAgICAgICAgbGVmdDogKHBhZ2VEaW1lbnNpb25zLndpZHRoIC0gd2lkdGggLSBsZWZ0KSAqIHNjYWxlLFxuICAgICAgICBoZWlnaHQ6IGhlaWdodCAqIHNjYWxlLFxuICAgICAgICB3aWR0aDogd2lkdGggKiBzY2FsZSxcbiAgICAgIH07XG4gICAgY2FzZSBQYWdlUm90YXRpb24uUm90YXRlMjcwOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdG9wOiAocGFnZURpbWVuc2lvbnMud2lkdGggLSB3aWR0aCAtIGxlZnQpICogc2NhbGUsXG4gICAgICAgIGxlZnQ6IHRvcCAqIHNjYWxlLFxuICAgICAgICBoZWlnaHQ6IHdpZHRoICogc2NhbGUsXG4gICAgICAgIHdpZHRoOiBoZWlnaHQgKiBzY2FsZSxcbiAgICAgIH07XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRvcDogdG9wICogc2NhbGUsXG4gICAgICAgIGxlZnQ6IGxlZnQgKiBzY2FsZSxcbiAgICAgICAgaGVpZ2h0OiBoZWlnaHQgKiBzY2FsZSxcbiAgICAgICAgd2lkdGg6IHdpZHRoICogc2NhbGUsXG4gICAgICB9O1xuICB9XG59XG5cbi8vIENvbXB1dGUgdGhlIHN0eWxlIGZvciBhIHBhZ2UsIGFjY291bnRpbmcgZm9yIHBhZ2Ugcm90YXRpb24gYW5kIHBhZ2Ugc2NhbGluZy96b29tXG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZVBhZ2VTdHlsZShcbiAgcGFnZURpbWVuc2lvbnM6IERpbWVuc2lvbnMsXG4gIHJvdGF0aW9uOiBQYWdlUm90YXRpb24sXG4gIHNjYWxlOiBudW1iZXJcbik6IFNpemUge1xuICByZXR1cm4ge1xuICAgIGhlaWdodDogZ2V0UGFnZUhlaWdodChwYWdlRGltZW5zaW9ucywgcm90YXRpb24pICogc2NhbGUsXG4gICAgd2lkdGg6IGdldFBhZ2VXaWR0aChwYWdlRGltZW5zaW9ucywgcm90YXRpb24pICogc2NhbGUsXG4gICAgbGVmdDogMCxcbiAgICB0b3A6IDAsXG4gIH07XG59XG5cbi8vIEdldCBwYWdlIGhlaWdodCBhY2NvdW50aW5nIGZvciBwYWdlIHJvdGF0aW9uLSBpZiB0aGUgcGFnZSBpcyByb3RhdGVkIG9uIGl0cyBzaWRlLCBpdHMgd2lkdGggYmVjb21lcyBpdHMgaGVpZ2h0XG5leHBvcnQgZnVuY3Rpb24gZ2V0UGFnZUhlaWdodChwYWdlRGltZW5zaW9uczogRGltZW5zaW9ucywgcm90YXRpb246IFBhZ2VSb3RhdGlvbik6IG51bWJlciB7XG4gIHJldHVybiBpc1NpZGV3YXlzKHJvdGF0aW9uKSA/IHBhZ2VEaW1lbnNpb25zLndpZHRoIDogcGFnZURpbWVuc2lvbnMuaGVpZ2h0O1xufVxuXG4vLyBHZXQgcGFnZSB3aWR0aCBhY2NvdW50aW5nIGZvciBwYWdlIHJvdGF0aW9uLSBpZiB0aGUgcGFnZSBpcyByb3RhdGVkIG9uIGl0cyBzaWRlLCBpdHMgaGVpZ2h0IGJlY29tZXMgaXRzIHdpZHRoXG5leHBvcnQgZnVuY3Rpb24gZ2V0UGFnZVdpZHRoKHBhZ2VEaW1lbnNpb25zOiBEaW1lbnNpb25zLCByb3RhdGlvbjogUGFnZVJvdGF0aW9uKTogbnVtYmVyIHtcbiAgcmV0dXJuIGlzU2lkZXdheXMocm90YXRpb24pID8gcGFnZURpbWVuc2lvbnMuaGVpZ2h0IDogcGFnZURpbWVuc2lvbnMud2lkdGg7XG59XG4iLCJpbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHsgRG9jdW1lbnRDb250ZXh0IH0gZnJvbSAnLi4vY29udGV4dC9Eb2N1bWVudENvbnRleHQnO1xuaW1wb3J0IHsgVHJhbnNmb3JtQ29udGV4dCB9IGZyb20gJy4uL2NvbnRleHQvVHJhbnNmb3JtQ29udGV4dCc7XG5pbXBvcnQgeyBjb21wdXRlQm91bmRpbmdCb3hTdHlsZSB9IGZyb20gJy4uL3V0aWxzL3N0eWxlJztcbmltcG9ydCB7IEJvdW5kaW5nQm94IGFzIEJvdW5kaW5nQm94VHlwZSB9IGZyb20gJy4vdHlwZXMvYm91bmRpbmdCb3gnO1xuXG5leHBvcnQgdHlwZSBQcm9wcyA9IHtcbiAgY2xhc3NOYW1lPzogc3RyaW5nO1xuICB1bmRlcmxpbmVDbGFzc05hbWU/OiBzdHJpbmc7XG4gIGlkPzogc3RyaW5nO1xuICBpc0hpZ2hsaWdodGVkPzogYm9vbGVhbjtcbiAgb25DbGljaz86ICgpID0+IHZvaWQ7XG4gIHZvaWNlT3ZlckxhYmVsPzogc3RyaW5nO1xufSAmIEJvdW5kaW5nQm94VHlwZTtcblxuZXhwb3J0IGNvbnN0IEJvdW5kaW5nQm94OiBSZWFjdC5GdW5jdGlvbkNvbXBvbmVudDxQcm9wcz4gPSAoe1xuICB0b3AsXG4gIGxlZnQsXG4gIGhlaWdodCxcbiAgd2lkdGgsXG4gIGNsYXNzTmFtZSxcbiAgdW5kZXJsaW5lQ2xhc3NOYW1lLFxuICBpZCxcbiAgaXNIaWdobGlnaHRlZCxcbiAgb25DbGljayxcbiAgdm9pY2VPdmVyTGFiZWwsXG4gIC4uLmV4dHJhUHJvcHNcbn06IFByb3BzKSA9PiB7XG4gIGNvbnN0IHsgcGFnZURpbWVuc2lvbnMgfSA9IFJlYWN0LnVzZUNvbnRleHQoRG9jdW1lbnRDb250ZXh0KTtcbiAgY29uc3QgeyByb3RhdGlvbiwgc2NhbGUgfSA9IFJlYWN0LnVzZUNvbnRleHQoVHJhbnNmb3JtQ29udGV4dCk7XG4gIGNvbnN0IGJveFNpemUgPSB7IHRvcCwgbGVmdCwgaGVpZ2h0LCB3aWR0aCB9O1xuICBjb25zdCBjb21wb25lbnRDbGFzc05hbWUgPSBjbGFzc05hbWVzKFxuICAgICdwZGYtcmVhZGVyX19vdmVybGF5LWJvdW5kaW5nLWJveCcsXG4gICAgaXNIaWdobGlnaHRlZCA9PT0gdHJ1ZSA/ICdwZGYtcmVhZGVyX19vdmVybGF5LWJvdW5kaW5nLWJveC1oaWdobGlnaHRlZCcgOiAnJyxcbiAgICBjbGFzc05hbWVcbiAgKTtcblxuICBjb25zdCBnZXRCb3VuZGluZ0JveFN0eWxlID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHJldHVybiBjb21wdXRlQm91bmRpbmdCb3hTdHlsZShib3hTaXplLCBwYWdlRGltZW5zaW9ucywgcm90YXRpb24sIHNjYWxlKTtcbiAgfSwgW3BhZ2VEaW1lbnNpb25zLCByb3RhdGlvbiwgc2NhbGVdKTtcblxuICBjb25zdCByb3RhdGlvbkNsYXNzTmFtZSA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICByZXR1cm4gYHJvdGF0ZSR7cm90YXRpb259YDtcbiAgfSwgW3JvdGF0aW9uXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8UmVhY3QuRnJhZ21lbnQ+XG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzTmFtZT17YHBkZi1yZWFkZXJfX292ZXJsYXktYm91bmRpbmctYm94LXVuZGVybGluZSAke1xuICAgICAgICAgIHVuZGVybGluZUNsYXNzTmFtZSB8fCByb3RhdGlvbkNsYXNzTmFtZSgpXG4gICAgICAgIH1gfVxuICAgICAgICBzdHlsZT17Z2V0Qm91bmRpbmdCb3hTdHlsZSgpfVxuICAgICAgLz5cbiAgICAgIDxkaXZcbiAgICAgICAgaWQ9e2lkfVxuICAgICAgICBjbGFzc05hbWU9e2Ake2NvbXBvbmVudENsYXNzTmFtZX0gJHtyb3RhdGlvbkNsYXNzTmFtZSgpfWB9XG4gICAgICAgIHN0eWxlPXtnZXRCb3VuZGluZ0JveFN0eWxlKCl9XG4gICAgICAgIG9uQ2xpY2s9e29uQ2xpY2t9XG4gICAgICAgIHJvbGU9XCJidXR0b25cIlxuICAgICAgICB0YWJJbmRleD17MH1cbiAgICAgICAgYXJpYS1sYWJlbD17dm9pY2VPdmVyTGFiZWx9XG4gICAgICAgIHsuLi5leHRyYVByb3BzfVxuICAgICAgLz5cbiAgICA8L1JlYWN0LkZyYWdtZW50PlxuICApO1xufTtcbiIsImltcG9ydCB7IE51bGxhYmxlIH0gZnJvbSAnLi4vY29tcG9uZW50cy90eXBlcy91dGlscyc7XG5cbmV4cG9ydCBlbnVtIFNjcm9sbERpcmVjdGlvbiB7XG4gIFVQID0gJ1VQJyxcbiAgRE9XTiA9ICdET1dOJyxcbn1cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNjcm9sbERldGVjdG9yIHtcbiAgX2xhc3RTY3JvbGxUb3A6IG51bWJlcjtcbiAgX2xhc3RTY3JvbGxEaXJlY3Rpb246IE51bGxhYmxlPFNjcm9sbERpcmVjdGlvbj47XG4gIF9lbDogRWxlbWVudDtcbiAgX3NldFNjcm9sbERpcmVjdGlvbjogKHNjcm9sbERpcmVjdGlvbjogU2Nyb2xsRGlyZWN0aW9uKSA9PiBhbnk7XG4gIF9sYXN0U2Nyb2xsVG9wQmVmb3JlRGlyZWN0aW9uQ2hhbmdlOiBudW1iZXI7XG4gIF9zY3JvbGxUaHJlc2hvbGQ/OiBudW1iZXI7XG4gIF9pc1Njcm9sbFRocmVzaG9sZFJlYWNoZWRJbkRpcmVjdGlvbjogTnVsbGFibGU8U2Nyb2xsRGlyZWN0aW9uPjtcbiAgX3NldFNjcm9sbFRocmVzaG9sZFJlYWNoZWRJbkRpcmVjdGlvbj86IChzY3JvbGxEaXJlY3Rpb246IE51bGxhYmxlPFNjcm9sbERpcmVjdGlvbj4pID0+IGFueTtcbiAgX2lzQXRUb3A6IE51bGxhYmxlPGJvb2xlYW4+O1xuICBfc2V0SXNBdFRvcDogKGlzQXRUb3A6IGJvb2xlYW4pID0+IGFueTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBlbDogRWxlbWVudCxcbiAgICBzZXRTY3JvbGxEaXJlY3Rpb246IChzY3JvbGxEaXJlY3Rpb246IFNjcm9sbERpcmVjdGlvbikgPT4gYW55LFxuICAgIHNldElzQXRUb3A6IChpc0F0VG9wOiBib29sZWFuKSA9PiBhbnksXG4gICAgc2V0U2Nyb2xsVGhyZXNob2xkUmVhY2hlZEluRGlyZWN0aW9uPzogKHNjcm9sbERpcmVjdGlvbjogTnVsbGFibGU8U2Nyb2xsRGlyZWN0aW9uPikgPT4gYW55LFxuICAgIHNjcm9sbFRocmVzaG9sZD86IG51bWJlclxuICApIHtcbiAgICB0aGlzLl9lbCA9IGVsO1xuICAgIHRoaXMuX2xhc3RTY3JvbGxUb3AgPSB0aGlzLl9lbC5zY3JvbGxUb3A7XG4gICAgdGhpcy5fbGFzdFNjcm9sbERpcmVjdGlvbiA9IG51bGw7XG4gICAgdGhpcy5fc2V0U2Nyb2xsRGlyZWN0aW9uID0gc2V0U2Nyb2xsRGlyZWN0aW9uO1xuICAgIHRoaXMuX2lzQXRUb3AgPSBudWxsO1xuICAgIHRoaXMuX3NldElzQXRUb3AgPSBzZXRJc0F0VG9wO1xuICAgIHRoaXMuX2xhc3RTY3JvbGxUb3BCZWZvcmVEaXJlY3Rpb25DaGFuZ2UgPSB0aGlzLl9lbC5zY3JvbGxUb3A7XG4gICAgdGhpcy5fc2Nyb2xsVGhyZXNob2xkID0gc2Nyb2xsVGhyZXNob2xkO1xuXG4gICAgdGhpcy5faXNTY3JvbGxUaHJlc2hvbGRSZWFjaGVkSW5EaXJlY3Rpb24gPSBudWxsO1xuICAgIHRoaXMuX3NldFNjcm9sbFRocmVzaG9sZFJlYWNoZWRJbkRpcmVjdGlvbiA9IHNldFNjcm9sbFRocmVzaG9sZFJlYWNoZWRJbkRpcmVjdGlvbjtcbiAgfVxuXG4gIGF0dGFjaFNjcm9sbExpc3RlbmVyKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLl9lbD8udGFnTmFtZT8udG9Mb3dlckNhc2UoKSA9PT0gJ2h0bWwnKSB7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5fb25TY3JvbGwsIGZhbHNlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fZWwuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5fb25TY3JvbGwsIGZhbHNlKTtcbiAgfVxuXG4gIGRldGFjaFNjcm9sbExpc3RlbmVyKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLl9lbD8udGFnTmFtZT8udG9Mb3dlckNhc2UoKSA9PT0gJ2h0bWwnKSB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5fb25TY3JvbGwsIGZhbHNlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5fb25TY3JvbGwsIGZhbHNlKTtcbiAgfVxuXG4gIF9vblNjcm9sbCA9ICgpOiB2b2lkID0+IHtcbiAgICBjb25zdCBjdXJyU2Nyb2xsVG9wID0gdGhpcy5fZWwuc2Nyb2xsVG9wO1xuICAgIGlmICh0aGlzLl9pc0F0VG9wICE9PSAoY3VyclNjcm9sbFRvcCA9PT0gMCkpIHtcbiAgICAgIHRoaXMuX2lzQXRUb3AgPSBjdXJyU2Nyb2xsVG9wID09PSAwO1xuICAgICAgdGhpcy5fc2V0SXNBdFRvcChjdXJyU2Nyb2xsVG9wID09PSAwKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuX2xhc3RTY3JvbGxUb3AgPT09IGN1cnJTY3JvbGxUb3ApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBEZXRlcm1pbmUgZGlyZWN0aW9uXG4gICAgY29uc3QgY3VyclNjcm9sbERpcmVjdGlvbiA9ICgoKSA9PiB7XG4gICAgICBpZiAoY3VyclNjcm9sbFRvcCA8PSAwKSB7XG4gICAgICAgIHJldHVybiBTY3JvbGxEaXJlY3Rpb24uRE9XTjtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLl9sYXN0U2Nyb2xsVG9wIDwgY3VyclNjcm9sbFRvcCA/IFNjcm9sbERpcmVjdGlvbi5ET1dOIDogU2Nyb2xsRGlyZWN0aW9uLlVQO1xuICAgIH0pKCk7XG5cbiAgICAvLyBVcGRhdGUgc3RhdGUsIGlmIGNoYW5nZWRcbiAgICB0aGlzLl9sYXN0U2Nyb2xsVG9wID0gY3VyclNjcm9sbFRvcDtcbiAgICBpZiAodGhpcy5fbGFzdFNjcm9sbERpcmVjdGlvbiAhPT0gY3VyclNjcm9sbERpcmVjdGlvbikge1xuICAgICAgdGhpcy5fbGFzdFNjcm9sbERpcmVjdGlvbiA9IGN1cnJTY3JvbGxEaXJlY3Rpb247XG4gICAgICB0aGlzLl9zZXRTY3JvbGxEaXJlY3Rpb24oY3VyclNjcm9sbERpcmVjdGlvbik7XG5cbiAgICAgIHRoaXMuX2xhc3RTY3JvbGxUb3BCZWZvcmVEaXJlY3Rpb25DaGFuZ2UgPSBjdXJyU2Nyb2xsVG9wO1xuICAgICAgdGhpcy5faXNTY3JvbGxUaHJlc2hvbGRSZWFjaGVkSW5EaXJlY3Rpb24gPSBudWxsO1xuICAgICAgaWYgKHRoaXMuX3NldFNjcm9sbFRocmVzaG9sZFJlYWNoZWRJbkRpcmVjdGlvbiAmJiAhdGhpcy5faXNBdFRvcCkge1xuICAgICAgICB0aGlzLl9zZXRTY3JvbGxUaHJlc2hvbGRSZWFjaGVkSW5EaXJlY3Rpb24obnVsbCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0aGlzLl9zY3JvbGxUaHJlc2hvbGQgJiYgdGhpcy5fc2V0U2Nyb2xsVGhyZXNob2xkUmVhY2hlZEluRGlyZWN0aW9uKSB7XG4gICAgICAgIGNvbnN0IHNjcm9sbGVkQW1vdW50ID0gTWF0aC5hYnModGhpcy5fbGFzdFNjcm9sbFRvcEJlZm9yZURpcmVjdGlvbkNoYW5nZSAtIGN1cnJTY3JvbGxUb3ApO1xuICAgICAgICBpZiAoc2Nyb2xsZWRBbW91bnQgPj0gdGhpcy5fc2Nyb2xsVGhyZXNob2xkKSB7XG4gICAgICAgICAgdGhpcy5faXNTY3JvbGxUaHJlc2hvbGRSZWFjaGVkSW5EaXJlY3Rpb24gPSB0aGlzLl9sYXN0U2Nyb2xsRGlyZWN0aW9uO1xuICAgICAgICAgIHRoaXMuX3NldFNjcm9sbFRocmVzaG9sZFJlYWNoZWRJbkRpcmVjdGlvbih0aGlzLl9sYXN0U2Nyb2xsRGlyZWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcbn1cbiIsImNvbnN0IERFRkFVTFRfUk9PVF9NQVJHSU4gPSAnNTBweCc7XG5jb25zdCBERUZBVUxUX1RIUkVTSE9MRCA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDEwMSB9KS5tYXAoKF8sIGkpID0+IGkgLyAxMDApO1xuXG5leHBvcnQgdHlwZSBTZXRWaXNpYmxlRW50cmllc0NhbGxiYWNrPFRFbnRyeT4gPSAoXG4gIHZpc2libGU6IE1hcDxURW50cnksIFZpc2libGVFbnRyeURldGFpbFR5cGU+XG4pID0+IHZvaWQ7XG5leHBvcnQgdHlwZSBvblZpc2libGVFbnRyaWVzQ2hhbmdlQ2FsbGJhY2s8VEVudHJ5PiA9IChhcmdzOiB7XG4gIHZpc2libGVFbnRyaWVzOiBJbnRlcnNlY3Rpb25PYnNlcnZlckVudHJ5W107XG4gIGhpZGRlbkVudHJpZXM6IEludGVyc2VjdGlvbk9ic2VydmVyRW50cnlbXTtcbiAgbGFzdEVudHJpZXM6IE1hcDxURW50cnksIFZpc2libGVFbnRyeURldGFpbFR5cGU+O1xufSkgPT4gTWFwPFRFbnRyeSwgVmlzaWJsZUVudHJ5RGV0YWlsVHlwZT47XG5cbmV4cG9ydCB0eXBlIFZpc2libGVFbnRyeURldGFpbFR5cGUgPSB7XG4gIHJhdGlvOiBudW1iZXI7XG4gIHRpbWVzdGFtcDogbnVtYmVyO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmlzaWJsZUVudHJpZXNEZXRlY3RvcjxURW50cnk+IHtcbiAgX3Jvb3Q6IEVsZW1lbnQ7XG4gIF9vYnNlcnZlcjogSW50ZXJzZWN0aW9uT2JzZXJ2ZXI7XG4gIF9sYXN0VmlzaWJsZUVudHJpZXM6IE1hcDxURW50cnksIFZpc2libGVFbnRyeURldGFpbFR5cGU+O1xuICBfc2V0VmlzaWJsZUVudHJpZXM6IFNldFZpc2libGVFbnRyaWVzQ2FsbGJhY2s8VEVudHJ5PjtcbiAgX29uVmlzaWJsZUVudHJpZXNDaGFuZ2U6IG9uVmlzaWJsZUVudHJpZXNDaGFuZ2VDYWxsYmFjazxURW50cnk+O1xuXG4gIGNvbnN0cnVjdG9yKHtcbiAgICByb290LFxuICAgIHRocmVzSG9sZCxcbiAgICBzZXRWaXNpYmxlRW50cmllcyxcbiAgICBvblZpc2libGVFbnRyaWVzQ2hhbmdlLFxuICB9OiB7XG4gICAgcm9vdDogRWxlbWVudDtcbiAgICB0aHJlc0hvbGQ/OiBudW1iZXIgfCBBcnJheTxudW1iZXI+O1xuICAgIHNldFZpc2libGVFbnRyaWVzOiBTZXRWaXNpYmxlRW50cmllc0NhbGxiYWNrPFRFbnRyeT47XG4gICAgb25WaXNpYmxlRW50cmllc0NoYW5nZTogb25WaXNpYmxlRW50cmllc0NoYW5nZUNhbGxiYWNrPFRFbnRyeT47XG4gIH0pIHtcbiAgICB0aGlzLl9yb290ID0gcm9vdDtcbiAgICB0aGlzLl9sYXN0VmlzaWJsZUVudHJpZXMgPSBuZXcgTWFwKCk7XG4gICAgdGhpcy5fc2V0VmlzaWJsZUVudHJpZXMgPSBzZXRWaXNpYmxlRW50cmllcztcbiAgICB0aGlzLl9vblZpc2libGVFbnRyaWVzQ2hhbmdlID0gb25WaXNpYmxlRW50cmllc0NoYW5nZTtcbiAgICB0aGlzLl9vYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihcbiAgICAgIGVudHJpZXMgPT4ge1xuICAgICAgICAvLyBDb2xsZWN0IHZpc2libGUgYW5kIGhpZGRlbiBlbGVtZW50c1xuICAgICAgICBjb25zdCB2aXNpYmxlRW50cmllcyA9IGVudHJpZXMuZmlsdGVyKGVudHJ5ID0+IGVudHJ5LmlzSW50ZXJzZWN0aW5nKTtcbiAgICAgICAgY29uc3QgaGlkZGVuRW50cmllcyA9IGVudHJpZXMuZmlsdGVyKGVudHJ5ID0+ICFlbnRyeS5pc0ludGVyc2VjdGluZyk7XG5cbiAgICAgICAgLy8gRGV0ZXJtaW5lIHdoYXQgbmVlZHMgc2F2ZWRcbiAgICAgICAgY29uc3QgbmV3VmlzaWJsZUVudHJpZXMgPSB0aGlzLl9vblZpc2libGVFbnRyaWVzQ2hhbmdlKHtcbiAgICAgICAgICB2aXNpYmxlRW50cmllcyxcbiAgICAgICAgICBoaWRkZW5FbnRyaWVzLFxuICAgICAgICAgIGxhc3RFbnRyaWVzOiB0aGlzLl9sYXN0VmlzaWJsZUVudHJpZXMsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IGZyb3plbkVudHJpZXMgPSBuZXcgTWFwKG5ld1Zpc2libGVFbnRyaWVzKTtcbiAgICAgICAgT2JqZWN0LmZyZWV6ZShmcm96ZW5FbnRyaWVzKTtcbiAgICAgICAgdGhpcy5fbGFzdFZpc2libGVFbnRyaWVzID0gZnJvemVuRW50cmllcztcbiAgICAgICAgdGhpcy5fc2V0VmlzaWJsZUVudHJpZXMoZnJvemVuRW50cmllcyk7XG4gICAgICB9LFxuXG4gICAgICAvLyBEZWZhdWx0IHNldHRpbmcgZm9yIGludGVyc2VjdGlvbiBvYnNlcnZlclxuICAgICAge1xuICAgICAgICByb290OiB0aGlzLl9yb290LnRhZ05hbWU/LnRvTG93ZXJDYXNlKCkgPT09ICdodG1sJyA/IG51bGwgOiB0aGlzLl9yb290LFxuICAgICAgICByb290TWFyZ2luOiBERUZBVUxUX1JPT1RfTUFSR0lOLFxuICAgICAgICB0aHJlc2hvbGQ6IHRocmVzSG9sZCA/IHRocmVzSG9sZCA6IERFRkFVTFRfVEhSRVNIT0xELFxuICAgICAgfVxuICAgICk7XG4gIH1cblxuICBvYnNlcnZlTm9kZXMoc2VsZWN0b3I6IHN0cmluZyk6IHZvaWQge1xuICAgIGZvciAoY29uc3Qgbm9kZSBvZiB0aGlzLl9yb290LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpKSB7XG4gICAgICB0aGlzLl9vYnNlcnZlci5vYnNlcnZlKG5vZGUpO1xuICAgIH1cbiAgfVxuXG4gIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgdGhpcy5fb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICB9XG59XG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IE5vZGVEZXN0aW5hdGlvbiB9IGZyb20gJy4uL2NvbXBvbmVudHMvdHlwZXMvb3V0bGluZSc7XG5pbXBvcnQgeyBQYWdlTnVtYmVyIH0gZnJvbSAnLi4vY29tcG9uZW50cy90eXBlcy9wYWdlJztcbmltcG9ydCB7IE51bGxhYmxlIH0gZnJvbSAnLi4vY29tcG9uZW50cy90eXBlcy91dGlscyc7XG5pbXBvcnQgeyBsb2dQcm92aWRlcldhcm5pbmcgfSBmcm9tICcuLi91dGlscy9wcm92aWRlcic7XG5pbXBvcnQgeyBnZW5lcmF0ZVBhZ2VJZEZyb21JbmRleCB9IGZyb20gJy4uL3V0aWxzL3Njcm9sbCc7XG5pbXBvcnQgU2Nyb2xsRGV0ZWN0b3IsIHsgU2Nyb2xsRGlyZWN0aW9uIH0gZnJvbSAnLi4vdXRpbHMvU2Nyb2xsRGlyZWN0aW9uRGV0ZWN0b3InO1xuaW1wb3J0IFZpc2libGVFbnRyaWVzRGV0ZWN0b3IsIHsgVmlzaWJsZUVudHJ5RGV0YWlsVHlwZSB9IGZyb20gJy4uL3V0aWxzL1Zpc2libGVFbnRyaWVzRGV0ZWN0b3InO1xuXG5jb25zdCBPVVRMSU5FX0FUVFJJQlVURSA9ICdkYXRhLW91dGxpbmUtdGFyZ2V0LWRlc3QnO1xuXG5jb25zdCBPVVRMSU5FX1NFTEVDVE9SID0gJy5wZGYtcmVhZGVyX19wYWdlX19vdXRsaW5lLXRhcmdldCc7XG5cbmNvbnN0IFBBR0VfTlVNQkVSX0FUVFJJQlVURSA9ICdkYXRhLXBhZ2UtbnVtYmVyJztcblxuY29uc3QgUEFHRV9OVU1CRVJfU0VMRUNUT1IgPSBgLnBkZi1yZWFkZXJfX3BhZ2VbJHtQQUdFX05VTUJFUl9BVFRSSUJVVEV9XWA7XG5cbmNvbnN0IERFRkFVTFRfUEFHRV9TQ1JPTExFRF9JTlRPX1ZJRVdfVEhSRVNIT0xEID0gMC4xO1xuXG5jb25zdCBFTVBUWV9OVU1CRVJfVE9fVklTSUJMRV9FTlRSWV9ERVRBSUxfTUFQID0gT2JqZWN0LmZyZWV6ZShcbiAgbmV3IE1hcDxudW1iZXIsIFZpc2libGVFbnRyeURldGFpbFR5cGU+KClcbik7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVNjcm9sbENvbnRleHQge1xuICBpc091dGxpbmVUYXJnZXRWaXNpYmxlOiAoZGVzdDogTm9kZURlc3RpbmF0aW9uKSA9PiBib29sZWFuO1xuICBpc1BhZ2VWaXNpYmxlOiAocGFnZU51bWJlcjogUGFnZU51bWJlcikgPT4gYm9vbGVhbjtcbiAgc2Nyb2xsRGlyZWN0aW9uOiBOdWxsYWJsZTxTY3JvbGxEaXJlY3Rpb24+O1xuICB2aXNpYmxlT3V0bGluZVRhcmdldHM6IE1hcDxOb2RlRGVzdGluYXRpb24sIFZpc2libGVFbnRyeURldGFpbFR5cGU+OyAvLyBtYXBwaW5nIG5vZGUgZGVzdGluYXRpb24gd2l0aCB0aGVpciBpbnRlcnNlY3Rpb24gcmF0aW9cbiAgdmlzaWJsZVBhZ2VSYXRpb3M6IE1hcDxudW1iZXIsIFZpc2libGVFbnRyeURldGFpbFR5cGU+OyAvLyBtYXBwaW5nIHBhZ2UgbnVtYmVyIHdpdGggdGhlaXIgaW50ZXJzZWN0aW9uIHJhdGlvXG4gIHJlc2V0U2Nyb2xsT2JzZXJ2ZXJzOiAoKSA9PiB2b2lkO1xuICBzY3JvbGxSb290OiBOdWxsYWJsZTxIVE1MRWxlbWVudD47XG4gIHNldFNjcm9sbFJvb3Q6IChyb290OiBOdWxsYWJsZTxIVE1MRWxlbWVudD4pID0+IHZvaWQ7XG4gIHNjcm9sbFRvT3V0bGluZVRhcmdldDogKGRlc3Q6IE5vZGVEZXN0aW5hdGlvbikgPT4gdm9pZDtcbiAgc2V0U2Nyb2xsVGhyZXNob2xkOiAoc2Nyb2xsVGhyZXNob2xkOiBOdWxsYWJsZTxudW1iZXI+KSA9PiB2b2lkO1xuICBzY3JvbGxUb1BhZ2U6IChwYWdlTnVtYmVyOiBQYWdlTnVtYmVyKSA9PiB2b2lkO1xuICB1cGRhdGVTY3JvbGxQb3NpdGlvbjogKHpvb21NdWx0aXBsaWVyOiBudW1iZXIpID0+IHZvaWQ7XG4gIHNldElzT3V0bGluZUNsaWNrZWQ6IChpc091dGxpbmVHZXRDbGlja2VkOiBib29sZWFuKSA9PiB2b2lkO1xuICBzY3JvbGxUaHJlc2hvbGRSZWFjaGVkSW5EaXJlY3Rpb246IE51bGxhYmxlPFNjcm9sbERpcmVjdGlvbj47XG4gIGlzQXRUb3A6IE51bGxhYmxlPGJvb2xlYW4+O1xuICBpc091dGxpbmVDbGlja2VkOiBOdWxsYWJsZTxib29sZWFuPjtcbiAgcGFnZXNTY3JvbGxlZEludG9WaWV3OiBNYXA8bnVtYmVyLCBWaXNpYmxlRW50cnlEZXRhaWxUeXBlPjsgLy8gbWFwcGluZyBwYWdlIG51bWJlciB3aXRoIHRoZWlyIGludGVyc2VjdGlvbiByYXRpb1xuICBzZXRQYWdlU2Nyb2xsZWRJbnRvVmlld1RocmVzaG9sZDogKHRocmVzaG9sZDogbnVtYmVyKSA9PiB2b2lkO1xufVxuXG5jb25zdCBERUZBVUxUX0NPTlRFWFQ6IElTY3JvbGxDb250ZXh0ID0ge1xuICBzY3JvbGxEaXJlY3Rpb246IG51bGwsXG4gIHZpc2libGVPdXRsaW5lVGFyZ2V0czogbmV3IE1hcCgpLFxuICB2aXNpYmxlUGFnZVJhdGlvczogbmV3IE1hcCgpLFxuICBpc091dGxpbmVUYXJnZXRWaXNpYmxlOiBvcHRzID0+IHtcbiAgICBsb2dQcm92aWRlcldhcm5pbmcoYGlzT3V0bGluZVRhcmdldFZpc2libGUoJHtKU09OLnN0cmluZ2lmeShvcHRzKX0pYCwgJ1Njcm9sbENvbnRleHQnKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIGlzUGFnZVZpc2libGU6IG9wdHMgPT4ge1xuICAgIGxvZ1Byb3ZpZGVyV2FybmluZyhgaXNQYWdlVmlzaWJsZSgke0pTT04uc3RyaW5naWZ5KG9wdHMpfSlgLCAnU2Nyb2xsQ29udGV4dCcpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgcmVzZXRTY3JvbGxPYnNlcnZlcnM6ICgpID0+IHtcbiAgICBsb2dQcm92aWRlcldhcm5pbmcoYHJlc2V0U2Nyb2xsT2JzZXJ2ZXJzKClgLCAnU2Nyb2xsQ29udGV4dCcpO1xuICB9LFxuICBzY3JvbGxSb290OiA8SFRNTEVsZW1lbnQ+e30sXG4gIHNldFNjcm9sbFJvb3Q6IChfZWw6IE51bGxhYmxlPEhUTUxFbGVtZW50PikgPT4ge1xuICAgIGxvZ1Byb3ZpZGVyV2FybmluZyhgc2V0U2Nyb2xsUm9vdCguLi4pYCwgJ1Njcm9sbENvbnRleHQnKTtcbiAgfSxcbiAgc2Nyb2xsVG9PdXRsaW5lVGFyZ2V0OiBkZXN0ID0+IHtcbiAgICBsb2dQcm92aWRlcldhcm5pbmcoYHNjcm9sbFRvT3V0bGluZVRhcmdldCgke2Rlc3R9KWAsICdTY3JvbGxDb250ZXh0Jyk7XG4gIH0sXG4gIHNldFNjcm9sbFRocmVzaG9sZDogKHNjcm9sbFRocmVzaG9sZDogTnVsbGFibGU8bnVtYmVyPikgPT4ge1xuICAgIGxvZ1Byb3ZpZGVyV2FybmluZyhgc2V0U2Nyb2xsVGhyZXNob2xkKCR7c2Nyb2xsVGhyZXNob2xkfSlgLCAnU2Nyb2xsQ29udGV4dCcpO1xuICB9LFxuICBzY3JvbGxUb1BhZ2U6IG9wdHMgPT4ge1xuICAgIGxvZ1Byb3ZpZGVyV2FybmluZyhgc2Nyb2xsVG9QYWdlKCR7SlNPTi5zdHJpbmdpZnkob3B0cyl9KWAsICdTY3JvbGxDb250ZXh0Jyk7XG4gIH0sXG4gIHVwZGF0ZVNjcm9sbFBvc2l0aW9uOiB6b29tTXVsdGlwbGllciA9PiB7XG4gICAgbG9nUHJvdmlkZXJXYXJuaW5nKGB1cGRhdGVTY3JvbGxQb3NpdGlvbigke0pTT04uc3RyaW5naWZ5KHpvb21NdWx0aXBsaWVyKX0pYCwgJ1Njcm9sbENvbnRleHQnKTtcbiAgfSxcbiAgc2V0SXNPdXRsaW5lQ2xpY2tlZDogb3B0cyA9PiB7XG4gICAgbG9nUHJvdmlkZXJXYXJuaW5nKGBzZXRJc091dGxpbmVHZXRDbGlja2VkKCR7SlNPTi5zdHJpbmdpZnkob3B0cyl9KWAsICdTY3JvbGxDb250ZXh0Jyk7XG4gIH0sXG4gIHNjcm9sbFRocmVzaG9sZFJlYWNoZWRJbkRpcmVjdGlvbjogbnVsbCxcbiAgaXNBdFRvcDogbnVsbCxcbiAgaXNPdXRsaW5lQ2xpY2tlZDogbnVsbCxcbiAgcGFnZXNTY3JvbGxlZEludG9WaWV3OiBuZXcgTWFwKCksXG4gIHNldFBhZ2VTY3JvbGxlZEludG9WaWV3VGhyZXNob2xkOiAodGhyZXNob2xkOiBudW1iZXIpID0+IHtcbiAgICBsb2dQcm92aWRlcldhcm5pbmcoYHBhZ2VzU2Nyb2xsZWRJbnRvVmlldygke3RocmVzaG9sZH0pYCwgJ1Njcm9sbENvbnRleHQnKTtcbiAgfSxcbn07XG5cbmV4cG9ydCBjb25zdCBTY3JvbGxDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dDxJU2Nyb2xsQ29udGV4dD4oREVGQVVMVF9DT05URVhUKTtcblxuZXhwb3J0IGZ1bmN0aW9uIHVzZVNjcm9sbENvbnRleHRQcm9wcygpOiBJU2Nyb2xsQ29udGV4dCB7XG4gIC8vIE5vZGUgdXNlZCBmb3Igb2JzZXJ2aW5nIHRoZSBzY3JvbGwgcG9zaXRpb25cbiAgY29uc3QgW3Njcm9sbFJvb3QsIHNldFNjcm9sbFJvb3RdID0gUmVhY3QudXNlU3RhdGU8TnVsbGFibGU8SFRNTEVsZW1lbnQ+PihudWxsKTtcblxuICAvLyBEZXRlcm1pbmUgc2Nyb2xsIGRpcmVjdGlvblxuICBjb25zdCBbc2Nyb2xsRGlyZWN0aW9uLCBzZXRTY3JvbGxEaXJlY3Rpb25dID0gUmVhY3QudXNlU3RhdGU8TnVsbGFibGU8U2Nyb2xsRGlyZWN0aW9uPj4obnVsbCk7XG4gIGNvbnN0IFtzY3JvbGxUaHJlc2hvbGQsIHNldFNjcm9sbFRocmVzaG9sZF0gPSBSZWFjdC51c2VTdGF0ZTxOdWxsYWJsZTxudW1iZXI+PihudWxsKTtcbiAgY29uc3QgW3Njcm9sbFRocmVzaG9sZFJlYWNoZWRJbkRpcmVjdGlvbiwgc2V0U2Nyb2xsVGhyZXNob2xkUmVhY2hlZEluRGlyZWN0aW9uXSA9XG4gICAgUmVhY3QudXNlU3RhdGU8TnVsbGFibGU8U2Nyb2xsRGlyZWN0aW9uPj4obnVsbCk7XG4gIGNvbnN0IFtpc0F0VG9wLCBzZXRJc0F0VG9wXSA9IFJlYWN0LnVzZVN0YXRlPE51bGxhYmxlPGJvb2xlYW4+PihudWxsKTtcbiAgY29uc3QgW2lzT3V0bGluZUNsaWNrZWQsIHNldElzT3V0bGluZUNsaWNrZWRdID0gUmVhY3QudXNlU3RhdGU8TnVsbGFibGU8Ym9vbGVhbj4+KG51bGwpO1xuXG4gIGNvbnN0IFtwYWdlU2Nyb2xsZWRJbnRvVmlld1RocmVzaG9sZCwgc2V0UGFnZVNjcm9sbGVkSW50b1ZpZXdUaHJlc2hvbGRdID0gUmVhY3QudXNlU3RhdGUoXG4gICAgREVGQVVMVF9QQUdFX1NDUk9MTEVEX0lOVE9fVklFV19USFJFU0hPTERcbiAgKTtcblxuICBjb25zdCBbcGFnZXNTY3JvbGxlZEludG9WaWV3LCBzZXRQYWdlc1Njcm9sbGVkSW50b1ZpZXddID0gUmVhY3QudXNlU3RhdGU8XG4gICAgTWFwPG51bWJlciwgVmlzaWJsZUVudHJ5RGV0YWlsVHlwZT5cbiAgPigoKSA9PiBFTVBUWV9OVU1CRVJfVE9fVklTSUJMRV9FTlRSWV9ERVRBSUxfTUFQKTtcblxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHNjcm9sbEVsZW0gPSBzY3JvbGxSb290IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgICBpZiAoIXNjcm9sbEVsZW0pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgc2Nyb2xsRGlyZWN0aW9uRGV0ZWN0b3I6IFNjcm9sbERldGVjdG9yO1xuICAgIGlmICghc2Nyb2xsVGhyZXNob2xkKSB7XG4gICAgICAvLyBzY3JvbGwgdGhyZXNob2xkIGlzIG9wdGlvbmFsXG4gICAgICBzY3JvbGxEaXJlY3Rpb25EZXRlY3RvciA9IG5ldyBTY3JvbGxEZXRlY3RvcihzY3JvbGxFbGVtLCBzZXRTY3JvbGxEaXJlY3Rpb24sIHNldElzQXRUb3ApO1xuICAgIH0gZWxzZSB7XG4gICAgICBzY3JvbGxEaXJlY3Rpb25EZXRlY3RvciA9IG5ldyBTY3JvbGxEZXRlY3RvcihcbiAgICAgICAgc2Nyb2xsRWxlbSxcbiAgICAgICAgc2V0U2Nyb2xsRGlyZWN0aW9uLFxuICAgICAgICBzZXRJc0F0VG9wLFxuICAgICAgICBzZXRTY3JvbGxUaHJlc2hvbGRSZWFjaGVkSW5EaXJlY3Rpb24sXG4gICAgICAgIHNjcm9sbFRocmVzaG9sZFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBzY3JvbGxEaXJlY3Rpb25EZXRlY3Rvci5hdHRhY2hTY3JvbGxMaXN0ZW5lcigpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBzY3JvbGxEaXJlY3Rpb25EZXRlY3Rvci5kZXRhY2hTY3JvbGxMaXN0ZW5lcigpO1xuICAgIH07XG4gIH0sIFtzY3JvbGxSb290LCBzY3JvbGxUaHJlc2hvbGRdKTtcblxuICAvLyBDYXVzZXMgdGhlIEludGVyc2VjdGlvbk9ic2VydmVycyB0byBkaXNjb25uZWN0IGFuZCBiZSByZWNyZWF0ZWQgKHVzZWZ1bCB3aGVuIERPTSBjaGFuZ2VzKVxuICBjb25zdCBbb2JzZXJ2ZXJJbmRleCwgc2V0T2JzZXJ2ZXJJbmRleF0gPSBSZWFjdC51c2VTdGF0ZSgwKTtcbiAgY29uc3QgcmVzZXRTY3JvbGxPYnNlcnZlcnMgPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgc2V0T2JzZXJ2ZXJJbmRleChvYnNlcnZlckluZGV4ICsgMSk7XG4gIH0sIFtvYnNlcnZlckluZGV4XSk7XG5cbiAgY29uc3QgW3Zpc2libGVPdXRsaW5lVGFyZ2V0cywgc2V0VmlzaWJsZU91dGxpbmVOb2Rlc10gPSBSZWFjdC51c2VTdGF0ZTxcbiAgICBNYXA8Tm9kZURlc3RpbmF0aW9uLCBWaXNpYmxlRW50cnlEZXRhaWxUeXBlPlxuICA+KCgpID0+IHtcbiAgICBjb25zdCBtYXAgPSBuZXcgTWFwPE5vZGVEZXN0aW5hdGlvbiwgVmlzaWJsZUVudHJ5RGV0YWlsVHlwZT4oKTtcbiAgICBPYmplY3QuZnJlZXplKG1hcCk7XG4gICAgcmV0dXJuIG1hcDtcbiAgfSk7XG5cbiAgY29uc3QgW3Zpc2libGVQYWdlUmF0aW9zLCBzZXRWaXNpYmxlUGFnZVJhdGlvc10gPSBSZWFjdC51c2VTdGF0ZTxcbiAgICBNYXA8bnVtYmVyLCBWaXNpYmxlRW50cnlEZXRhaWxUeXBlPlxuICA+KCgpID0+IEVNUFRZX05VTUJFUl9UT19WSVNJQkxFX0VOVFJZX0RFVEFJTF9NQVApO1xuXG4gIGNvbnN0IGlzT3V0bGluZVRhcmdldFZpc2libGUgPSBSZWFjdC51c2VDYWxsYmFjayhcbiAgICAoZGVzdDogTm9kZURlc3RpbmF0aW9uKTogYm9vbGVhbiA9PiB7XG4gICAgICByZXR1cm4gdmlzaWJsZU91dGxpbmVUYXJnZXRzLmhhcyhkZXN0KTtcbiAgICB9LFxuICAgIFt2aXNpYmxlT3V0bGluZVRhcmdldHNdXG4gICk7XG5cbiAgY29uc3Qgc2Nyb2xsVG9PdXRsaW5lVGFyZ2V0ID0gUmVhY3QudXNlQ2FsbGJhY2soKGRlc3Q6IE5vZGVEZXN0aW5hdGlvbik6IHZvaWQgPT4ge1xuICAgIHNldElzT3V0bGluZUNsaWNrZWQodHJ1ZSk7XG4gICAgZG9jdW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1vdXRsaW5lLXRhcmdldC1kZXN0PVwiJHtkZXN0fVwiXWApXG4gICAgICA/LnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6ICdzbW9vdGgnIH0pO1xuICB9LCBbXSk7XG5cbiAgY29uc3QgaXNQYWdlVmlzaWJsZSA9IFJlYWN0LnVzZUNhbGxiYWNrKFxuICAgICh7IHBhZ2VOdW1iZXIsIHBhZ2VJbmRleCB9OiBQYWdlTnVtYmVyKTogYm9vbGVhbiA9PiB7XG4gICAgICBpZiAodHlwZW9mIHBhZ2VJbmRleCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgcGFnZU51bWJlciA9IHBhZ2VJbmRleCArIDE7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHBhZ2VOdW1iZXIgIT09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2aXNpYmxlUGFnZVJhdGlvcy5oYXMocGFnZU51bWJlcik7XG4gICAgfSxcbiAgICBbdmlzaWJsZVBhZ2VSYXRpb3NdXG4gICk7XG5cbiAgY29uc3Qgc2Nyb2xsVG9QYWdlID0gUmVhY3QudXNlQ2FsbGJhY2soKHsgcGFnZU51bWJlciwgcGFnZUluZGV4IH06IFBhZ2VOdW1iZXIpOiB2b2lkID0+IHtcbiAgICBpZiAodHlwZW9mIHBhZ2VOdW1iZXIgPT09ICdudW1iZXInKSB7XG4gICAgICBwYWdlSW5kZXggPSBwYWdlTnVtYmVyIC0gMTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBwYWdlSW5kZXggIT09ICdudW1iZXInKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGRvY3VtZW50XG4gICAgICAuZ2V0RWxlbWVudEJ5SWQoZ2VuZXJhdGVQYWdlSWRGcm9tSW5kZXgocGFnZUluZGV4KSlcbiAgICAgID8uc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogJ3Ntb290aCcgfSk7XG4gIH0sIFtdKTtcblxuICAvLyBXYXRjaCBvdXRsaW5lIG5vZGVzXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3Qgcm9vdCA9IHNjcm9sbFJvb3QgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAgIGNvbnN0IGRldGVjdG9yID0gbmV3IFZpc2libGVFbnRyaWVzRGV0ZWN0b3I8Tm9kZURlc3RpbmF0aW9uPih7XG4gICAgICByb290OiByb290LFxuICAgICAgc2V0VmlzaWJsZUVudHJpZXM6IHNldFZpc2libGVPdXRsaW5lTm9kZXMsXG4gICAgICBvblZpc2libGVFbnRyaWVzQ2hhbmdlOiAoeyB2aXNpYmxlRW50cmllcywgaGlkZGVuRW50cmllcywgbGFzdEVudHJpZXMgfSkgPT4ge1xuICAgICAgICBoaWRkZW5FbnRyaWVzLm1hcChlbnRyeSA9PlxuICAgICAgICAgIGxhc3RFbnRyaWVzLmRlbGV0ZShlbnRyeS50YXJnZXQuZ2V0QXR0cmlidXRlKE9VVExJTkVfQVRUUklCVVRFKSlcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgbmV3RW50cmllcyA9IG5ldyBNYXAobGFzdEVudHJpZXMpO1xuICAgICAgICB2aXNpYmxlRW50cmllcy5tYXAoZW50cnkgPT5cbiAgICAgICAgICBuZXdFbnRyaWVzLnNldChlbnRyeS50YXJnZXQuZ2V0QXR0cmlidXRlKE9VVExJTkVfQVRUUklCVVRFKSwge1xuICAgICAgICAgICAgcmF0aW86IGVudHJ5LmludGVyc2VjdGlvblJhdGlvLFxuICAgICAgICAgICAgdGltZXN0YW1wOiBlbnRyeS50aW1lLFxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiBuZXdFbnRyaWVzO1xuICAgICAgfSxcbiAgICB9KTtcbiAgICBkZXRlY3Rvci5vYnNlcnZlTm9kZXMoT1VUTElORV9TRUxFQ1RPUik7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGRldGVjdG9yLmRlc3Ryb3koKTtcbiAgICB9O1xuICB9LCBbc2Nyb2xsUm9vdCwgb2JzZXJ2ZXJJbmRleF0pO1xuXG4gIC8vIFdhdGNoIHBhZ2VzXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3Qgcm9vdCA9IHNjcm9sbFJvb3QgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAgIGNvbnN0IGRldGVjdG9yID0gbmV3IFZpc2libGVFbnRyaWVzRGV0ZWN0b3I8bnVtYmVyPih7XG4gICAgICByb290OiByb290LFxuICAgICAgc2V0VmlzaWJsZUVudHJpZXM6IHNldFZpc2libGVQYWdlUmF0aW9zLFxuICAgICAgb25WaXNpYmxlRW50cmllc0NoYW5nZTogKHsgdmlzaWJsZUVudHJpZXMsIGhpZGRlbkVudHJpZXMsIGxhc3RFbnRyaWVzIH0pID0+IHtcbiAgICAgICAgaWYgKGhpZGRlbkVudHJpZXMubGVuZ3RoKSB7XG4gICAgICAgICAgY29uc3QgbWF4VGltZSA9IE1hdGgubWF4KC4uLmhpZGRlbkVudHJpZXMubWFwKGUgPT4gZS50aW1lKSk7XG4gICAgICAgICAgY29uc3QgaGlkZGVuUGFnZU51bXMgPSBoaWRkZW5FbnRyaWVzLm1hcChcbiAgICAgICAgICAgIGUgPT4gZS50YXJnZXQ/LmdldEF0dHJpYnV0ZShQQUdFX05VTUJFUl9BVFRSSUJVVEUpIHx8ICcnXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIC8vIGR1ZSB0byB1cHBlciBsaW1pdCBvbiBob3cgZmFzdCB0aGUgSW50ZXJzZWN0aW9uIE9ic2VydmVyIEFQSSBjYW4gc2FtcGxlIGFuZCBob3cgZmFzdCBicm93c2VycyBjYW4gcmVuZGVyIChoYXBwZW5zIHdoZW4gdXNlcnMgc2Nyb2xsIGZhc3QpXG4gICAgICAgICAgLy8gc29tZXRpbWVzIGVudHJpZXMgd2lsbCBub3QgYmUgc2lnbmFsZWQgYXMgaGlkZGVuLCBtZWFuaW5nIHRoZXkgc2hvdWxkIGJlIHJlbW92ZWQgZnJvbSBsYXN0RW50cmllcyBidXQgd2VyZW4ndFxuICAgICAgICAgIC8vIHNvIGlmIGFuIGVudHJ5IGhhcyBhIHRpbWVzdGFtcCB0aGF0cyBvbGRlciB0aGVuIGFuIGVudHJ5IHdlIGFyZSBjdXJyZW50bHkgcmVtb3ZpbmcsIHdlIGNhbiBhc3N1bWUgaXRzIFwic3RhbGVcIiBhbmQgZGVsZXRlXG4gICAgICAgICAgLy8gbW9yZSBkZXRhaWxzIGFib3V0IHRoaXMgaXNzdWUgaGVyZTogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNjE5NTEzODAvaW50ZXJzZWN0aW9uLW9ic2VydmVyLWZhaWxzLXNvbWV0aW1lcy13aGVuLWktc2Nyb2xsLWZhc3RcblxuICAgICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIGxhc3RFbnRyaWVzLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlLnRpbWVzdGFtcCA8PSBtYXhUaW1lIHx8IGhpZGRlblBhZ2VOdW1zLmluY2x1ZGVzKFN0cmluZyhrZXkpKSkge1xuICAgICAgICAgICAgICBsYXN0RW50cmllcy5kZWxldGUoa2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmV3RW50cmllcyA9IG5ldyBNYXAobGFzdEVudHJpZXMpO1xuICAgICAgICB2aXNpYmxlRW50cmllcy5tYXAoZW50cnkgPT4ge1xuICAgICAgICAgIG5ld0VudHJpZXMuc2V0KHBhcnNlSW50KGVudHJ5LnRhcmdldD8uZ2V0QXR0cmlidXRlKFBBR0VfTlVNQkVSX0FUVFJJQlVURSkgfHwgJycsIDEwKSwge1xuICAgICAgICAgICAgcmF0aW86IGVudHJ5LmludGVyc2VjdGlvblJhdGlvLFxuICAgICAgICAgICAgdGltZXN0YW1wOiBlbnRyeS50aW1lLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG5ld0VudHJpZXM7XG4gICAgICB9LFxuICAgIH0pO1xuICAgIGRldGVjdG9yLm9ic2VydmVOb2RlcyhQQUdFX05VTUJFUl9TRUxFQ1RPUik7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGRldGVjdG9yLmRlc3Ryb3koKTtcbiAgICB9O1xuICB9LCBbc2Nyb2xsUm9vdCwgb2JzZXJ2ZXJJbmRleF0pO1xuXG4gIC8vIG1hcCBvZiBwYWdlcyBhdCB0aGUgbW9tZW50IHRoZXkgYXJlIHNjcm9sbGVkIGludG8gdmlldywgdXNlZnVsIGZvciB0cmFja2luZyBhbmFseXRpY3Mgc3VjaCBhcyBwYWdlIGltcHJlc3Npb25zXG4gIC8vIGRpZmZlcmVudCB0aGFuIHRoZSB2aXNpYmxlUGFnZVJhdGlvcyBpbiB0aGF0IGl0IG9ubHkgc2F2ZXMgdGhlIH5pbml0aWFsfiBwb2ludCBvZiB3aGVuIGEgcGFnZSBjb21lcyBpbnRvIHZpZXdcbiAgLy8gaXQgZG9lc24ndCB0cmFjayB0aGUgbGl2ZSBjaGFuZ2UgaW4gcmF0aW9zIGFzIHRoZSBwYWdlIHJlbWFpbnMgaW4gdmlldyB3aGVuIHNjcm9sbGVkXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3Qgcm9vdCA9IHNjcm9sbFJvb3QgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAgIGNvbnN0IGRldGVjdG9yID0gbmV3IFZpc2libGVFbnRyaWVzRGV0ZWN0b3I8bnVtYmVyPih7XG4gICAgICByb290OiByb290LFxuICAgICAgdGhyZXNIb2xkOiBwYWdlU2Nyb2xsZWRJbnRvVmlld1RocmVzaG9sZCxcbiAgICAgIHNldFZpc2libGVFbnRyaWVzOiBzZXRQYWdlc1Njcm9sbGVkSW50b1ZpZXcsXG4gICAgICBvblZpc2libGVFbnRyaWVzQ2hhbmdlOiAoeyB2aXNpYmxlRW50cmllcyB9KSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld0VudHJpZXMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHZpc2libGVFbnRyaWVzLm1hcChlbnRyeSA9PiB7XG4gICAgICAgICAgbmV3RW50cmllcy5zZXQoXG4gICAgICAgICAgICBwYXJzZUludChlbnRyeS50YXJnZXQ/LmdldEF0dHJpYnV0ZShQQUdFX05VTUJFUl9BVFRSSUJVVEUpIHx8ICcnLCAxMCksXG4gICAgICAgICAgICBlbnRyeS5pbnRlcnNlY3Rpb25SYXRpb1xuICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbmV3RW50cmllcztcbiAgICAgIH0sXG4gICAgfSk7XG4gICAgZGV0ZWN0b3Iub2JzZXJ2ZU5vZGVzKFBBR0VfTlVNQkVSX1NFTEVDVE9SKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgZGV0ZWN0b3IuZGVzdHJveSgpO1xuICAgIH07XG4gIH0sIFtzY3JvbGxSb290LCBvYnNlcnZlckluZGV4XSk7XG5cbiAgLy8gY2FsY3VsYXRlcyBhIG5ldyBzY3JvbGwgcG9zaXRpb24gYWZ0ZXIgem9vbWluZyBpbi9vdXQgc28gdXNlciBkb2VzbnQgbG9zZSB0aGVpciBwb3NpdGlvblxuICBjb25zdCB1cGRhdGVTY3JvbGxQb3NpdGlvbiA9IFJlYWN0LnVzZUNhbGxiYWNrKFxuICAgICh6b29tTXVsdGlwbGllcjogbnVtYmVyKTogdm9pZCA9PiB7XG4gICAgICBjb25zdCByb290ID0gc2Nyb2xsUm9vdCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICBpZiAoIXJvb3QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgbmV3U2Nyb2xsVG9wID0gTWF0aC5mbG9vcihyb290LnNjcm9sbFRvcCAqIHpvb21NdWx0aXBsaWVyKTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICByb290LnNjcm9sbFRvcCA9IG5ld1Njcm9sbFRvcDtcbiAgICAgIH0sIDApO1xuICAgIH0sXG4gICAgW3Njcm9sbFJvb3RdXG4gICk7XG5cbiAgcmV0dXJuIHtcbiAgICBpc091dGxpbmVUYXJnZXRWaXNpYmxlLFxuICAgIGlzUGFnZVZpc2libGUsXG4gICAgc2Nyb2xsRGlyZWN0aW9uLFxuICAgIHZpc2libGVPdXRsaW5lVGFyZ2V0cyxcbiAgICB2aXNpYmxlUGFnZVJhdGlvcyxcbiAgICByZXNldFNjcm9sbE9ic2VydmVycyxcbiAgICBzY3JvbGxSb290LFxuICAgIHNldFNjcm9sbFJvb3QsXG4gICAgc2Nyb2xsVG9PdXRsaW5lVGFyZ2V0LFxuICAgIHNldFNjcm9sbFRocmVzaG9sZCxcbiAgICBzY3JvbGxUb1BhZ2UsXG4gICAgdXBkYXRlU2Nyb2xsUG9zaXRpb24sXG4gICAgc2V0SXNPdXRsaW5lQ2xpY2tlZCxcbiAgICBzY3JvbGxUaHJlc2hvbGRSZWFjaGVkSW5EaXJlY3Rpb24sXG4gICAgaXNBdFRvcCxcbiAgICBpc091dGxpbmVDbGlja2VkLFxuICAgIHBhZ2VzU2Nyb2xsZWRJbnRvVmlldyxcbiAgICBzZXRQYWdlU2Nyb2xsZWRJbnRvVmlld1RocmVzaG9sZCxcbiAgfTtcbn1cbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHsgTnVsbGFibGUgfSBmcm9tICcuLi9jb21wb25lbnRzL3R5cGVzL3V0aWxzJztcbmltcG9ydCB7IGxvZ1Byb3ZpZGVyV2FybmluZyB9IGZyb20gJy4uL3V0aWxzL3Byb3ZpZGVyJztcblxuZXhwb3J0IGludGVyZmFjZSBJVWlDb250ZXh0IHtcbiAgZXJyb3JNZXNzYWdlOiBOdWxsYWJsZTxzdHJpbmc+O1xuICBpc0xvYWRpbmc6IGJvb2xlYW47XG4gIGlzU2hvd2luZ0hpZ2hsaWdodE92ZXJsYXk6IGJvb2xlYW47XG4gIGlzU2hvd2luZ091dGxpbmU6IGJvb2xlYW47XG4gIGlzU2hvd2luZ1RleHRIaWdobGlnaHQ6IGJvb2xlYW47XG4gIGlzU2hvd2luZ1RodW1ibmFpbDogYm9vbGVhbjtcbiAgc2V0RXJyb3JNZXNzYWdlOiAoZXJyb3JNZXNzYWdlOiBOdWxsYWJsZTxzdHJpbmc+KSA9PiB2b2lkO1xuICBzZXRJc0xvYWRpbmc6IChpc0xvYWRpbmc6IGJvb2xlYW4pID0+IHZvaWQ7XG4gIHNldElzU2hvd2luZ0hpZ2hsaWdodE92ZXJsYXk6IChpc1Nob3dpbmdIaWdobGlnaHRPdmVybGF5OiBib29sZWFuKSA9PiB2b2lkO1xuICBzZXRJc1Nob3dpbmdPdXRsaW5lOiAoaXNTaG93aW5nT3V0bGluZTogYm9vbGVhbikgPT4gdm9pZDtcbiAgc2V0SXNTaG93aW5nVGV4dEhpZ2hsaWdodDogKGlzU2hvd2luZ1RleHRIaWdobGlnaHQ6IGJvb2xlYW4pID0+IHZvaWQ7XG4gIHNldElzU2hvd2luZ1RodW1ibmFpbDogKGlzU2hvd2luZ1RodW1ibmFpbDogYm9vbGVhbikgPT4gdm9pZDtcbn1cblxuZXhwb3J0IGNvbnN0IFVpQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQ8SVVpQ29udGV4dD4oe1xuICBlcnJvck1lc3NhZ2U6IG51bGwsXG4gIGlzTG9hZGluZzogZmFsc2UsXG4gIGlzU2hvd2luZ0hpZ2hsaWdodE92ZXJsYXk6IGZhbHNlLFxuICBpc1Nob3dpbmdPdXRsaW5lOiBmYWxzZSxcbiAgaXNTaG93aW5nVGV4dEhpZ2hsaWdodDogZmFsc2UsXG4gIGlzU2hvd2luZ1RodW1ibmFpbDogZmFsc2UsXG4gIHNldEVycm9yTWVzc2FnZTogZXJyb3JNZXNzYWdlID0+IHtcbiAgICBsb2dQcm92aWRlcldhcm5pbmcoYHNldEVycm9yTWVzc2FnZSgke2Vycm9yTWVzc2FnZX0pYCwgJ1VpQ29udGV4dCcpO1xuICB9LFxuICBzZXRJc1Nob3dpbmdPdXRsaW5lOiBpc1Nob3dpbmdPdXRsaW5lID0+IHtcbiAgICBsb2dQcm92aWRlcldhcm5pbmcoYHNldElzU2hvd2luZ091dGxpbmUoJHtpc1Nob3dpbmdPdXRsaW5lfSlgLCAnVWlDb250ZXh0Jyk7XG4gIH0sXG4gIHNldElzTG9hZGluZzogaXNMb2FkaW5nID0+IHtcbiAgICBsb2dQcm92aWRlcldhcm5pbmcoYHNldElzTG9hZGluZygke2lzTG9hZGluZ30pYCwgJ1VpQ29udGV4dCcpO1xuICB9LFxuICBzZXRJc1Nob3dpbmdIaWdobGlnaHRPdmVybGF5OiBpc1Nob3dpbmdIaWdobGlnaHRPdmVybGF5ID0+IHtcbiAgICBsb2dQcm92aWRlcldhcm5pbmcoYHNldElzU2hvd2luZ0hpZ2hsaWdodE92ZXJsYXkoJHtpc1Nob3dpbmdIaWdobGlnaHRPdmVybGF5fSlgLCAnVWlDb250ZXh0Jyk7XG4gIH0sXG4gIHNldElzU2hvd2luZ1RleHRIaWdobGlnaHQ6IGlzU2hvd2luZ1RleHRIaWdobGlnaHQgPT4ge1xuICAgIGxvZ1Byb3ZpZGVyV2FybmluZyhgc2V0SXNTaG93aW5nVGV4dEhpZ2hsaWdodCgke2lzU2hvd2luZ1RleHRIaWdobGlnaHR9KWAsICdVaUNvbnRleHQnKTtcbiAgfSxcbiAgc2V0SXNTaG93aW5nVGh1bWJuYWlsOiBpc1Nob3dpbmdUaHVtYm5haWwgPT4ge1xuICAgIGxvZ1Byb3ZpZGVyV2FybmluZyhgc2V0SXNTaG93aW5nVGh1bWJuYWlsKCR7aXNTaG93aW5nVGh1bWJuYWlsfSlgLCAnVWlDb250ZXh0Jyk7XG4gIH0sXG59KTtcblxuZXhwb3J0IGZ1bmN0aW9uIHVzZVVpQ29udGV4dFByb3BzKCk6IElVaUNvbnRleHQge1xuICBjb25zdCBbZXJyb3JNZXNzYWdlLCBzZXRFcnJvck1lc3NhZ2VdID0gUmVhY3QudXNlU3RhdGU8TnVsbGFibGU8c3RyaW5nPj4obnVsbCk7XG4gIGNvbnN0IFtpc0xvYWRpbmcsIHNldElzTG9hZGluZ10gPSBSZWFjdC51c2VTdGF0ZTxib29sZWFuPih0cnVlKTtcbiAgY29uc3QgW2lzU2hvd2luZ0hpZ2hsaWdodE92ZXJsYXksIHNldElzU2hvd2luZ0hpZ2hsaWdodE92ZXJsYXldID0gUmVhY3QudXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xuICBjb25zdCBbaXNTaG93aW5nT3V0bGluZSwgc2V0SXNTaG93aW5nT3V0bGluZV0gPSBSZWFjdC51c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XG4gIGNvbnN0IFtpc1Nob3dpbmdUZXh0SGlnaGxpZ2h0LCBzZXRJc1Nob3dpbmdUZXh0SGlnaGxpZ2h0XSA9IFJlYWN0LnVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKTtcbiAgY29uc3QgW2lzU2hvd2luZ1RodW1ibmFpbCwgc2V0SXNTaG93aW5nVGh1bWJuYWlsXSA9IFJlYWN0LnVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKTtcblxuICByZXR1cm4ge1xuICAgIGVycm9yTWVzc2FnZSxcbiAgICBpc0xvYWRpbmcsXG4gICAgaXNTaG93aW5nSGlnaGxpZ2h0T3ZlcmxheSxcbiAgICBpc1Nob3dpbmdPdXRsaW5lLFxuICAgIGlzU2hvd2luZ1RleHRIaWdobGlnaHQsXG4gICAgaXNTaG93aW5nVGh1bWJuYWlsLFxuICAgIHNldEVycm9yTWVzc2FnZSxcbiAgICBzZXRJc0xvYWRpbmcsXG4gICAgc2V0SXNTaG93aW5nSGlnaGxpZ2h0T3ZlcmxheSxcbiAgICBzZXRJc1Nob3dpbmdPdXRsaW5lLFxuICAgIHNldElzU2hvd2luZ1RleHRIaWdobGlnaHQsXG4gICAgc2V0SXNTaG93aW5nVGh1bWJuYWlsLFxuICB9O1xufVxuIiwiLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbmV4cG9ydCBmdW5jdGlvbiBnZXRFcnJvck1lc3NhZ2UoZXJyb3I6IGFueSk6IHN0cmluZyB7XG4gIGlmICghZXJyb3IpIHtcbiAgICByZXR1cm4gJ1Vua25vd24gZXJyb3InO1xuICB9XG4gIGlmICh0eXBlb2YgZXJyb3IgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIGVycm9yO1xuICB9XG4gIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgcmV0dXJuIGVycm9yLm1lc3NhZ2U7XG4gIH1cbiAgaWYgKHR5cGVvZiBlcnJvci5lcnJvciA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gZXJyb3IuZXJyb3I7XG4gIH1cbiAgcmV0dXJuIGVycm9yLnRvU3RyaW5nKCk7XG59XG4iLCJpbXBvcnQgeyBwZGZqcyB9IGZyb20gJ3JlYWN0LXBkZic7XG5cbi8vIFNldCBQREZqcyB3b3JrZXIgc291cmNlIG9yIGVsc2UgUERGIHdpbGwgbm90IGxvYWQgd2hlbiB0aGlzIGxpYnJhcnkgaXMgaW1wb3J0ZWQgYXMgYSBwYWNrYWdlLlxuZXhwb3J0IGZ1bmN0aW9uIGluaXRQZGZXb3JrZXIoKTogdm9pZCB7XG4gIHBkZmpzLkdsb2JhbFdvcmtlck9wdGlvbnMud29ya2VyU3JjID0gYC8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL3BkZi5qcy8ke3BkZmpzLnZlcnNpb259L3BkZi53b3JrZXIubWluLmpzYDtcbn1cbiIsImV4cG9ydCBjb25zdCBSRU5ERVJfVFlQRSA9IHtcbiAgTVVMVElfQ0FOVkFTOiAnbXVsdGktY2FudmFzJyxcbiAgU0lOR0xFX0NBTlZBUzogJ3NpbmdsZS1jYW52YXMnLFxufSBhcyBjb25zdDtcblxuZXhwb3J0IHR5cGUgUmVuZGVyVHlwZSA9IHR5cGVvZiBSRU5ERVJfVFlQRVtrZXlvZiB0eXBlb2YgUkVOREVSX1RZUEVdO1xuXG5leHBvcnQgdHlwZSBSZW5kZXJNb2RlID0gJ2NhbnZhcycgfCAnbm9uZSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRSZW5kZXJNb2RlKHJlbmRlclR5cGU6IFJlbmRlclR5cGUpOiBSZW5kZXJNb2RlIHtcbiAgc3dpdGNoIChyZW5kZXJUeXBlKSB7XG4gICAgY2FzZSBSRU5ERVJfVFlQRS5TSU5HTEVfQ0FOVkFTOlxuICAgICAgcmV0dXJuICdub25lJztcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuICdjYW52YXMnO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDbGFzc05hbWVTdWZmaXhGcm9tUmVuZGVyVHlwZShyZW5kZXJUeXBlOiBSZW5kZXJUeXBlKTogc3RyaW5nIHtcbiAgc3dpdGNoIChyZW5kZXJUeXBlKSB7XG4gICAgY2FzZSBSRU5ERVJfVFlQRS5TSU5HTEVfQ0FOVkFTOlxuICAgICAgcmV0dXJuICdzaW5nbGUtY2FudmFzJztcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuICdtdWx0aS1jYW52YXMnO1xuICB9XG59XG4iLCJpbXBvcnQgeyBEaW1lbnNpb25zIH0gZnJvbSAnLi4vY29tcG9uZW50cy90eXBlcy9ib3VuZGluZ0JveCc7XG5cbi8vIERhdGEgZnJvbSByZWFjdC1wZGYvcGRmanMgdGhhdCB3ZSBuZWVkIHRvIGNvbXB1dGUgdGhlIHBpeGVsIHNpemUgb2YgdGhlIFBERidzIHBhZ2UocykuXG5leHBvcnQgaW50ZXJmYWNlIElQREZQYWdlUHJveHkge1xuICB1c2VyVW5pdDogbnVtYmVyOyAvLyB0aGUgZGVmYXVsdCBzaXplIG9mIHVuaXRzIGluIDEvNzJuZHMgb2YgYW4gaW5jaFxuICB2aWV3OiBBcnJheTxudW1iZXI+OyAvLyBmb3JtYXQ6IFsgdG9wIGxlZnQgeCBjb29yZGluYXRlLCB0b3AgbGVmdCB5IGNvb3JkaW5hdGUsIGJvdHRvbSByaWdodCB4LCBib3R0b20gcmlnaHQgeV1cbn1cblxuLy8gV2UgYXNzdW1lIDk2IERQSSBmb3IgZGlzcGxheVxuLy8gVE9ETzogVGhlcmUgYXJlIG1vcmUgYWNjdXJhdGUgd2F5cyB0byBkbyB0aGlzLCBidXQgdGhpcyBpcyB3aGF0IFNjaG9sYXJQaGkgZG9lcyBub3dcbmNvbnN0IERQSSA9IDk2O1xuXG4vLyBQREYgdW5pdHMgYXJlIGluIDEvNzJuZHMgb2YgYW4gaW5jaFxuY29uc3QgVVNFUl9VTklUX0RFTk9NSU5BVE9SID0gNzI7XG5cbi8qKlxuICogR2l2ZW4gYSBQREZQYWdlUHJveHksIGNhbGN1bGF0ZXMgdGhlIHNjcmVlbiBwaXhlbCBzaXplIG9mIHRoZSBQREYgcGFnZSBhdCAxMDAlIHNjYWxlXG4gKiBAcGFyYW0gcGFnZSBUaGUgUERGUGFnZVByb3h5IHRvIGNhbGN1bGF0ZSBzaXplIGZvclxuICogQHJldHVybnMgUGl4ZWwgc2l6ZSBvZiBhIHBhZ2UgYXQgMTAwJSBzY2FsZSBhc3N1bWluZyA5NkRQSSBkaXNwbGF5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlUGFnZURpbWVuc2lvbnMocGFnZTogSVBERlBhZ2VQcm94eSk6IERpbWVuc2lvbnMge1xuICBjb25zdCBbbGVmdFB4LCB0b3BQeCwgcmlnaHRQeCwgYm90dG9tUHhdID0gcGFnZS52aWV3O1xuICBjb25zdCBQUEkgPSAocGFnZS51c2VyVW5pdCAvIFVTRVJfVU5JVF9ERU5PTUlOQVRPUikgKiBEUEk7XG5cbiAgcmV0dXJuIHtcbiAgICBoZWlnaHQ6IChib3R0b21QeCAtIHRvcFB4KSAqIFBQSSxcbiAgICB3aWR0aDogKHJpZ2h0UHggLSBsZWZ0UHgpICogUFBJLFxuICB9O1xufVxuIiwiaW1wb3J0IHsgUGFnZVJlZmVyZW5jZSB9IGZyb20gJy4vcGFnZSc7XG5cbmV4cG9ydCB0eXBlIERlc3RpbmF0aW9uID0ge1xuICBkZXN0OiBzdHJpbmc7XG4gIHBhZ2VJbmRleDogbnVtYmVyO1xuICBwYWdlTnVtYmVyOiBudW1iZXI7XG59O1xuXG4vKipcbiAqIFRoaXMgY2xhc3MgaXMgdGhlIGRlZmluaXRpb24gb2YgdGhlIGZpcnN0IGl0ZW0gd2hlbiBEZXN0aW5hdGlvbiBpcyByZXR1cm5lZCBhcyBhbiBhcnJheS5cbiAqIEl0IGlzIGNyZWF0ZWQgYmFzZWQgb24gdGhlIHNhbWUgY2xhc3MgaW4gJ3JlYWN0LXBkZicgbGlicmFyeTpcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS93b2p0ZWttYWovcmVhY3QtcGRmL2Jsb2IvY2E0NDUzZjEyM2FmNTFlMmZhZWQzOWE4YTYyODAwOTAxMDMwNDU5YS9zcmMvUmVmLmpzXG4gKi9cbmV4cG9ydCBjbGFzcyBSZWYgaW1wbGVtZW50cyBQYWdlUmVmZXJlbmNlIHtcbiAgbnVtOiBudW1iZXI7XG4gIGdlbjogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKHsgbnVtLCBnZW4gfTogUGFnZVJlZmVyZW5jZSkge1xuICAgIHRoaXMubnVtID0gbnVtO1xuICAgIHRoaXMuZ2VuID0gZ2VuO1xuICB9XG5cbiAgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5nZW4gIT09IDAgPyBgJHt0aGlzLm51bX1SJHt0aGlzLmdlbn1gIDogYCR7dGhpcy5udW19UmA7XG4gIH1cbn1cbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IERvY3VtZW50LCBEb2N1bWVudFByb3BzLCBwZGZqcyB9IGZyb20gJ3JlYWN0LXBkZic7XG5cbmltcG9ydCB7IERvY3VtZW50Q29udGV4dCB9IGZyb20gJy4uL2NvbnRleHQvRG9jdW1lbnRDb250ZXh0JztcbmltcG9ydCB7IFNjcm9sbENvbnRleHQgfSBmcm9tICcuLi9jb250ZXh0L1Njcm9sbENvbnRleHQnO1xuaW1wb3J0IHsgVHJhbnNmb3JtQ29udGV4dCB9IGZyb20gJy4uL2NvbnRleHQvVHJhbnNmb3JtQ29udGV4dCc7XG5pbXBvcnQgeyBVaUNvbnRleHQgfSBmcm9tICcuLi9jb250ZXh0L1VpQ29udGV4dCc7XG5pbXBvcnQgeyBnZXRFcnJvck1lc3NhZ2UgfSBmcm9tICcuLi91dGlscy9lcnJvck1lc3NhZ2UnO1xuaW1wb3J0IHsgaW5pdFBkZldvcmtlciB9IGZyb20gJy4uL3V0aWxzL3BkZldvcmtlcic7XG5pbXBvcnQgeyBnZXRSZW5kZXJNb2RlLCBSZW5kZXJUeXBlIH0gZnJvbSAnLi4vdXRpbHMvcmVhZGVyLXV0aWxzJztcbmltcG9ydCB7IGNvbXB1dGVQYWdlRGltZW5zaW9ucywgSVBERlBhZ2VQcm94eSB9IGZyb20gJy4uL3V0aWxzL3NjYWxlJztcbmltcG9ydCB7IHNjcm9sbFRvUG9zaXRpb24gfSBmcm9tICcuLi91dGlscy9zY3JvbGwnO1xuaW1wb3J0IHsgRGVzdGluYXRpb24sIFJlZiB9IGZyb20gJy4vdHlwZXMvZGVzdGluYXRpb24nO1xuXG5leHBvcnQgdHlwZSBQcm9wcyA9IHtcbiAgY2hpbGRyZW4/OiBSZWFjdC5SZWFjdE5vZGU7XG4gIHJlbmRlclR5cGU6IFJlbmRlclR5cGU7XG59ICYgRG9jdW1lbnRQcm9wcztcblxuZXhwb3J0IGNvbnN0IERvY3VtZW50V3JhcHBlcjogUmVhY3QuRnVuY3Rpb25Db21wb25lbnQ8UHJvcHM+ID0gKHtcbiAgY2hpbGRyZW4sXG4gIHJlbmRlclR5cGUsXG4gIC4uLmV4dHJhUHJvcHNcbn06IFByb3BzKSA9PiB7XG4gIGluaXRQZGZXb3JrZXIoKTtcblxuICBjb25zdCB7IHBkZkRvY1Byb3h5LCBzZXROdW1QYWdlcywgc2V0TnVtUGFnZXNMb2FkZWQsIHNldFBhZ2VEaW1lbnNpb25zLCBzZXRQZGZEb2NQcm94eSB9ID1cbiAgICBSZWFjdC51c2VDb250ZXh0KERvY3VtZW50Q29udGV4dCk7XG4gIGNvbnN0IHsgcmVzZXRTY3JvbGxPYnNlcnZlcnMsIHVwZGF0ZVNjcm9sbFBvc2l0aW9uIH0gPSBSZWFjdC51c2VDb250ZXh0KFNjcm9sbENvbnRleHQpO1xuICBjb25zdCB7IHJvdGF0aW9uLCBzY2FsZSB9ID0gUmVhY3QudXNlQ29udGV4dChUcmFuc2Zvcm1Db250ZXh0KTtcbiAgY29uc3QgeyBzZXRFcnJvck1lc3NhZ2UsIHNldElzTG9hZGluZyB9ID0gUmVhY3QudXNlQ29udGV4dChVaUNvbnRleHQpO1xuICBjb25zdCBbbGFzdFNjYWxlLCBzZXRMYXN0U2NhbGVdID0gUmVhY3QudXNlU3RhdGUoMSk7IC8vIGFzc3VtaW5nIHRoZSBzY2FsZSBkZWZhdWx0cyB0byAxMDAlXG5cbiAgZnVuY3Rpb24gZ2V0Rmlyc3RQYWdlKHBkZkRvYzogcGRmanMuUERGRG9jdW1lbnRQcm94eSk6IFByb21pc2U8SVBERlBhZ2VQcm94eT4ge1xuICAgIC8vIGdldFBhZ2UgdXNlcyAxLWluZGV4ZWQgcGFnZU51bWJlciwgbm90IDAtaW5kZXhlZCBwYWdlSW5kZXhcbiAgICByZXR1cm4gcGRmRG9jLmdldFBhZ2UoMSk7XG4gIH1cblxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIHJlc2V0U2Nyb2xsT2JzZXJ2ZXJzKCk7XG4gIH0sIFtdKTtcblxuICAvLyBhZnRlciBzY2FsZSBjaGFuZ2VzLCB1cGRhdGUgc2Nyb2xsIHBvc2l0aW9uIHNvIHRoZSB1c2VyIHN0YXlzIGxvb2tpbmcgYXQgdGhlIHNhbWUgcG9zaXRpb24gb2YgdGhlIHBhcGVyXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHNjYWxlID09PSBsYXN0U2NhbGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgem9vbU11bHRpcGxpZXIgPSBzY2FsZSAvIGxhc3RTY2FsZTtcbiAgICB1cGRhdGVTY3JvbGxQb3NpdGlvbih6b29tTXVsdGlwbGllcik7XG4gICAgc2V0TGFzdFNjYWxlKHNjYWxlKTtcbiAgfSwgW3NjYWxlLCB1cGRhdGVTY3JvbGxQb3NpdGlvbl0pO1xuXG4gIGNvbnN0IG9uUGRmTG9hZFN1Y2Nlc3MgPSBSZWFjdC51c2VDYWxsYmFjaygocGRmRG9jOiBwZGZqcy5QREZEb2N1bWVudFByb3h5KTogdm9pZCA9PiB7XG4gICAgc2V0TnVtUGFnZXNMb2FkZWQoMCk7XG4gICAgc2V0TnVtUGFnZXMocGRmRG9jLm51bVBhZ2VzKTtcbiAgICBnZXRGaXJzdFBhZ2UocGRmRG9jKVxuICAgICAgLnRoZW4ocGFnZSA9PiB7XG4gICAgICAgIHNldFBhZ2VEaW1lbnNpb25zKGNvbXB1dGVQYWdlRGltZW5zaW9ucyhwYWdlKSk7XG4gICAgICAgIHNldEVycm9yTWVzc2FnZShudWxsKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICBzZXRFcnJvck1lc3NhZ2UoZ2V0RXJyb3JNZXNzYWdlKGVycm9yKSk7XG4gICAgICB9KVxuICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgICAgfSk7XG5cbiAgICBpZiAoIXBkZkRvY1Byb3h5KSB7XG4gICAgICBzZXRQZGZEb2NQcm94eShwZGZEb2MpO1xuICAgIH1cbiAgfSwgW10pO1xuXG4gIGNvbnN0IG9uU291cmNlRXJyb3IgPSBSZWFjdC51c2VDYWxsYmFjaygoZXJyb3I6IHVua25vd24pOiB2b2lkID0+IHtcbiAgICBzZXRFcnJvck1lc3NhZ2UoZ2V0RXJyb3JNZXNzYWdlKGVycm9yKSk7XG4gICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgfSwgW10pO1xuXG4gIGNvbnN0IG9uUGRmTG9hZEVycm9yID0gUmVhY3QudXNlQ2FsbGJhY2soKGVycm9yOiB1bmtub3duKTogdm9pZCA9PiB7XG4gICAgc2V0RXJyb3JNZXNzYWdlKGdldEVycm9yTWVzc2FnZShlcnJvcikpO1xuICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gIH0sIFtdKTtcblxuICBjb25zdCBvbkl0ZW1DbGlja2VkID0gKHBhcmFtOiBEZXN0aW5hdGlvbik6IHZvaWQgPT4ge1xuICAgIGlmICghcGRmRG9jUHJveHkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBTY3JvbGwgdG8gdGhlIGRlc3RpbmF0aW9uIG9mIHRoZSBpdGVtXG4gICAgcGRmRG9jUHJveHkuZ2V0RGVzdGluYXRpb24ocGFyYW0uZGVzdCkudGhlbihkZXN0QXJyYXkgPT4ge1xuICAgICAgaWYgKCFkZXN0QXJyYXkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBbcmVmLCAsICwgYm90dG9tUG9pbnRzXSA9IGRlc3RBcnJheTtcbiAgICAgIHBkZkRvY1Byb3h5LmdldFBhZ2VJbmRleChuZXcgUmVmKHJlZikpLnRoZW4ocmVmSW5mbyA9PiB7XG4gICAgICAgIHNjcm9sbFRvUG9zaXRpb24ocGFyc2VJbnQocmVmSW5mby50b1N0cmluZygpKSwgMCwgYm90dG9tUG9pbnRzLCByb3RhdGlvbik7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxEb2N1bWVudFxuICAgICAgb3B0aW9ucz17eyBjTWFwVXJsOiAnY21hcHMvJywgY01hcFBhY2tlZDogdHJ1ZSB9fVxuICAgICAgb25Tb3VyY2VFcnJvcj17b25Tb3VyY2VFcnJvcn1cbiAgICAgIG9uTG9hZEVycm9yPXtvblBkZkxvYWRFcnJvcn1cbiAgICAgIG9uTG9hZFN1Y2Nlc3M9e29uUGRmTG9hZFN1Y2Nlc3N9XG4gICAgICBleHRlcm5hbExpbmtUYXJnZXQ9XCJfYmxhbmtcIlxuICAgICAgcmVuZGVyTW9kZT17Z2V0UmVuZGVyTW9kZShyZW5kZXJUeXBlKX1cbiAgICAgIC8vIEB0cy1pZ25vcmU6IHRoZSBhcmd1bWVudHMgc2hvdWxkIGJlIHsgZGVzdCwgcGFnZUluZGV4LCBwYWdlTnVtYmVyIH1cbiAgICAgIC8vIEB0eXBlcy9yZWFjdC1wZGYgaGFzbid0IHVwZGF0ZWQgdGhlIGZ1bmN0aW9uIHNpZ25hdHVyZVxuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL0RlZmluaXRlbHlUeXBlZC9EZWZpbml0ZWx5VHlwZWQvYmxvYi9kNzNlYjY1MmUwYmE4Zjg5Mzk1YTBlZjJiYTY5Y2YxZTY0MGNlNWJlL3R5cGVzL3JlYWN0LXBkZi9kaXN0L0RvY3VtZW50LmQudHMjTDcyXG4gICAgICBvbkl0ZW1DbGljaz17b25JdGVtQ2xpY2tlZH1cbiAgICAgIHsuLi5leHRyYVByb3BzfT5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L0RvY3VtZW50PlxuICApO1xufTtcbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IHR5cGUgUHJvcHMgPSB7XG4gIGNsYXNzTmFtZT86IHN0cmluZztcbiAgY2hpbGRyZW4/OiBSZWFjdC5SZWFjdE5vZGU7XG4gIHBkZlVybDogc3RyaW5nO1xufTtcblxuLyoqXG4gKiBIVE1MIGFuY2hvciB0YWcgYWxsb3dzIHlvdSB0byBkb3dubG9hZCBhIGZpbGUgZnJvbSB0aGUgc2FtZSBvcmlnaW4uXG4gKiBUaGlzIGlzIGEgd29ya2Fyb3VuZCB0byBkb3dubG9hZCBhIGZpbGUgc2VydmVkIGZyb20gYSBkaWZmZXJlbnQgb3JpZ2luXG4gKi9cbmV4cG9ydCBjb25zdCBEb3dubG9hZEJ1dHRvbjogUmVhY3QuRnVuY3Rpb25Db21wb25lbnQ8UHJvcHM+ID0gKHtcbiAgcGRmVXJsLFxuICBjaGlsZHJlbixcbiAgY2xhc3NOYW1lLFxuICAuLi5leHRyYVByb3BzXG59OiBQcm9wcykgPT4ge1xuICBjb25zdCBbZmV0Y2hpbmcsIHNldEZldGNoaW5nXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTtcblxuICBjb25zdCBkb3dubG9hZCA9ICgpID0+IHtcbiAgICBzZXRGZXRjaGluZyh0cnVlKTtcblxuICAgIGZldGNoKHBkZlVybClcbiAgICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmJsb2IoKSlcbiAgICAgIC50aGVuKGJsb2IgPT4ge1xuICAgICAgICBzZXRGZXRjaGluZyhmYWxzZSk7XG4gICAgICAgIGNvbnN0IGJsb2JVUkwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgICAgICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgICBhLmhyZWYgPSBibG9iVVJMO1xuICAgICAgICBhLmRvd25sb2FkID0gcGRmVXJsLnNwbGl0KCcvJykucG9wKCkgfHwgcGRmVXJsO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGEpO1xuICAgICAgICBhLmNsaWNrKCk7XG4gICAgICB9KTtcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxidXR0b25cbiAgICAgIGRpc2FibGVkPXtmZXRjaGluZ31cbiAgICAgIG9uQ2xpY2s9eygpID0+IGRvd25sb2FkKCl9XG4gICAgICBhcmlhLWxhYmVsPVwiRG93bmxvYWQgUERGXCJcbiAgICAgIGNsYXNzTmFtZT17YHBkZi1yZWFkZXJfX2Rvd25sb2FkLWJ0biAke2NsYXNzTmFtZX1gfVxuICAgICAgey4uLmV4dHJhUHJvcHN9PlxuICAgICAge2NoaWxkcmVuID8gY2hpbGRyZW4gOiAnRG93bmxvYWQnfVxuICAgIDwvYnV0dG9uPlxuICApO1xufTtcbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHsgRG9jdW1lbnRDb250ZXh0IH0gZnJvbSAnLi4vY29udGV4dC9Eb2N1bWVudENvbnRleHQnO1xuaW1wb3J0IHsgVHJhbnNmb3JtQ29udGV4dCB9IGZyb20gJy4uL2NvbnRleHQvVHJhbnNmb3JtQ29udGV4dCc7XG5pbXBvcnQgeyBjb21wdXRlQm91bmRpbmdCb3hTdHlsZSwgY29tcHV0ZVBhZ2VTdHlsZSB9IGZyb20gJy4uL3V0aWxzL3N0eWxlJztcbmltcG9ydCB7IFByb3BzIGFzIEJvdW5kaW5nQm94UHJvcHMgfSBmcm9tICcuL0JvdW5kaW5nQm94JztcblxuZXhwb3J0IHR5cGUgUHJvcHMgPSB7XG4gIGNoaWxkcmVuPzogUmVhY3QuUmVhY3RFbGVtZW50PEJvdW5kaW5nQm94UHJvcHM+IHwgQXJyYXk8UmVhY3QuUmVhY3RFbGVtZW50PEJvdW5kaW5nQm94UHJvcHM+PjtcbiAgcGFnZUluZGV4OiBudW1iZXI7XG59O1xuXG5leHBvcnQgY29uc3QgSGlnaGxpZ2h0T3ZlcmxheTogUmVhY3QuRnVuY3Rpb25Db21wb25lbnQ8UHJvcHM+ID0gKHtcbiAgY2hpbGRyZW4sXG4gIHBhZ2VJbmRleCxcbiAgLi4uZXh0cmFQcm9wc1xufTogUHJvcHMpID0+IHtcbiAgY29uc3QgeyBwYWdlRGltZW5zaW9ucyB9ID0gUmVhY3QudXNlQ29udGV4dChEb2N1bWVudENvbnRleHQpO1xuICBjb25zdCB7IHJvdGF0aW9uLCBzY2FsZSB9ID0gUmVhY3QudXNlQ29udGV4dChUcmFuc2Zvcm1Db250ZXh0KTtcbiAgY29uc3QgbWFza0lkID0gYGhpZ2hsaWdodC1vdmVybGF5LW1hc2stJHtwYWdlSW5kZXh9YDtcblxuICBjb25zdCBnZXRQYWdlU3R5bGUgPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgcmV0dXJuIGNvbXB1dGVQYWdlU3R5bGUocGFnZURpbWVuc2lvbnMsIHJvdGF0aW9uLCBzY2FsZSk7XG4gIH0sIFtwYWdlRGltZW5zaW9ucywgcm90YXRpb24sIHNjYWxlXSk7XG5cbiAgY29uc3QgZ2V0VW5tYXNrZWRBcmVhID0gUmVhY3QudXNlQ2FsbGJhY2soXG4gICAgKFxuICAgICAgYm91bmRpbmdCb3hlczpcbiAgICAgICAgfCBSZWFjdC5SZWFjdEVsZW1lbnQ8Qm91bmRpbmdCb3hQcm9wcz5cbiAgICAgICAgfCBBcnJheTxSZWFjdC5SZWFjdEVsZW1lbnQ8Qm91bmRpbmdCb3hQcm9wcz4+XG4gICAgKSA9PiB7XG4gICAgICBjb25zdCBib3hlcyA9IEFycmF5LmlzQXJyYXkoYm91bmRpbmdCb3hlcykgPyBib3VuZGluZ0JveGVzIDogW2JvdW5kaW5nQm94ZXNdO1xuICAgICAgcmV0dXJuIGJveGVzLm1hcCgoYm94LCBpKSA9PiB7XG4gICAgICAgIGNvbnN0IGJveFN0eWxlID0gY29tcHV0ZUJvdW5kaW5nQm94U3R5bGUoYm94LnByb3BzLCBwYWdlRGltZW5zaW9ucywgcm90YXRpb24sIHNjYWxlKTtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8cmVjdCBzdHlsZT17Ym94U3R5bGV9IHg9e2JveFN0eWxlLmxlZnR9IHk9e2JveFN0eWxlLnRvcH0ga2V5PXtpfSBmaWxsPVwiYmxhY2tcIj48L3JlY3Q+XG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIFtwYWdlRGltZW5zaW9ucywgcm90YXRpb24sIHNjYWxlXVxuICApO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwZGYtcmVhZGVyX19wYWdlLWhpZ2hsaWdodC1vdmVybGF5XCIgc3R5bGU9e2dldFBhZ2VTdHlsZSgpfSB7Li4uZXh0cmFQcm9wc30+XG4gICAgICA8c3ZnIGNsYXNzTmFtZT1cInBhZ2UtbWFza1wiIHN0eWxlPXtnZXRQYWdlU3R5bGUoKX0+XG4gICAgICAgIDxtYXNrIGlkPXttYXNrSWR9PlxuICAgICAgICAgIDxyZWN0IHN0eWxlPXtnZXRQYWdlU3R5bGUoKX0gZmlsbD1cIndoaXRlXCI+PC9yZWN0PlxuICAgICAgICAgIHtjaGlsZHJlbiAmJiBnZXRVbm1hc2tlZEFyZWEoY2hpbGRyZW4pfVxuICAgICAgICA8L21hc2s+XG4gICAgICAgIDxyZWN0IHN0eWxlPXtnZXRQYWdlU3R5bGUoKX0gZmlsbD1cIndoaXRlXCIgb3BhY2l0eT1cIjAuNlwiIG1hc2s9e2B1cmwoIyR7bWFza0lkfSlgfT48L3JlY3Q+XG4gICAgICA8L3N2Zz5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG4iLCJpbXBvcnQgY2xhc3NuYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHsgRG9jdW1lbnRDb250ZXh0IH0gZnJvbSAnLi4vLi4vY29udGV4dC9Eb2N1bWVudENvbnRleHQnO1xuaW1wb3J0IHsgVHJhbnNmb3JtQ29udGV4dCB9IGZyb20gJy4uLy4uL2NvbnRleHQvVHJhbnNmb3JtQ29udGV4dCc7XG5pbXBvcnQgeyBjb21wdXRlQm91bmRpbmdCb3hTdHlsZSB9IGZyb20gJy4uLy4uL3V0aWxzL3N0eWxlJztcbmltcG9ydCB7IEljb25GbGFnIH0gZnJvbSAnLi4vaWNvbi9JY29uRmxhZyc7XG5pbXBvcnQgeyBTaXplIH0gZnJvbSAnLi4vdHlwZXMvYm91bmRpbmdCb3gnO1xuXG5leHBvcnQgY29uc3QgUE9TSVRJT04gPSB7XG4gIExFRlQ6ICdMRUZUJyxcbiAgUklHSFQ6ICdSSUdIVCcsXG59IGFzIGNvbnN0O1xuXG5leHBvcnQgdHlwZSBQb3NpdGlvblR5cGUgPSB0eXBlb2YgUE9TSVRJT05ba2V5b2YgdHlwZW9mIFBPU0lUSU9OXTtcblxudHlwZSBQcm9wcyA9IHtcbiAgY2xhc3NOYW1lPzogc3RyaW5nO1xuICBmbGFnV2lkdGg/OiBudW1iZXI7IC8vIGluIHB4XG4gIGxhYmVsPzogc3RyaW5nO1xuICBvcmlnaW5Ub3A/OiBudW1iZXI7IC8vIGluIHB4XG4gIHBvc2l0aW9uPzogUG9zaXRpb25UeXBlO1xuICB0YWlsTGVuZ3RoPzogbnVtYmVyOyAvLyBpbiBweFxuICB0YWlsV2lkZ3RoPzogbnVtYmVyOyAvLyBpbiBweFxufTtcblxuY29uc3QgREVGQVVMVF9PUklHSU5fVE9QX1BYID0gMDtcbmNvbnN0IERFRkFVTFRfRkxBR19XSURUSF9QWCA9IDYyO1xuY29uc3QgREVGQVVMVF9GTEFHX0hFSUdIVF9QWCA9IDIwO1xuY29uc3QgREVGQVVMVF9UQUlMX0xFTkdUSF9QWCA9IDQwO1xuY29uc3QgREVGQVVMVF9UQUlMX1dJRFRIX1BYID0gNztcblxuZXhwb3J0IGNvbnN0IEFycm93RmxhZ0Jhc2U6IFJlYWN0LkZ1bmN0aW9uQ29tcG9uZW50PFByb3BzPiA9ICh7XG4gIGNsYXNzTmFtZSxcbiAgbGFiZWwsXG4gIGZsYWdXaWR0aCxcbiAgb3JpZ2luVG9wLFxuICBwb3NpdGlvbiA9IFBPU0lUSU9OLkxFRlQsXG4gIHRhaWxMZW5ndGgsXG4gIHRhaWxXaWRndGgsXG4gIC4uLmV4dHJhUHJvcHNcbn06IFByb3BzKSA9PiB7XG4gIGNvbnN0IHsgcGFnZURpbWVuc2lvbnMgfSA9IFJlYWN0LnVzZUNvbnRleHQoRG9jdW1lbnRDb250ZXh0KTtcbiAgY29uc3QgeyByb3RhdGlvbiwgc2NhbGUgfSA9IFJlYWN0LnVzZUNvbnRleHQoVHJhbnNmb3JtQ29udGV4dCk7XG4gIC8vIGZ1bmN0aW9uIGZvciBzY2FsaW5nIGJvdW5kaW5nIGJveGVzIGJhc2VkIG9uIGN1cnJlbnQgZG9jdW1lbnQgc3RhdGVzXG4gIGNvbnN0IGNvbXB1dGVTaXplID0gUmVhY3QudXNlQ2FsbGJhY2soXG4gICAgKGJveDogU2l6ZSk6IFNpemUgPT4gY29tcHV0ZUJvdW5kaW5nQm94U3R5bGUoYm94LCBwYWdlRGltZW5zaW9ucywgcm90YXRpb24sIHNjYWxlKSxcbiAgICBbcGFnZURpbWVuc2lvbnMsIHJvdGF0aW9uLCBzY2FsZSwgb3JpZ2luVG9wXVxuICApO1xuXG4gIC8vIGJvdW5kaW5nIGJveCBvZiB0aGUgZmxhZ1xuICBjb25zdCBmbGFnU2l6ZSA9IHtcbiAgICB0b3A6IG9yaWdpblRvcCB8fCBERUZBVUxUX09SSUdJTl9UT1BfUFgsXG4gICAgbGVmdDogMCxcbiAgICBoZWlnaHQ6IERFRkFVTFRfRkxBR19IRUlHSFRfUFgsXG4gICAgd2lkdGg6IGZsYWdXaWR0aCB8fCBERUZBVUxUX0ZMQUdfV0lEVEhfUFgsXG4gIH07XG4gIC8vIGJvdW5kaW5nIGJveCBvZiB0aGUgdGFpbFxuICBjb25zdCB0YWlsU2l6ZSA9IHtcbiAgICB0b3A6IG9yaWdpblRvcCB8fCBERUZBVUxUX09SSUdJTl9UT1BfUFgsXG4gICAgbGVmdDogMCxcbiAgICBoZWlnaHQ6IHRhaWxMZW5ndGggfHwgREVGQVVMVF9UQUlMX0xFTkdUSF9QWCxcbiAgICB3aWR0aDogdGFpbFdpZGd0aCB8fCBERUZBVUxUX1RBSUxfV0lEVEhfUFgsXG4gIH07XG5cbiAgY29uc3QgY29tcHV0ZWRGbGFnU2l6ZSA9IGNvbXB1dGVTaXplKGZsYWdTaXplKTtcbiAgY29uc3QgY29tcHV0ZWRUYWlsU2l6ZSA9IGNvbXB1dGVTaXplKHRhaWxTaXplKTtcblxuICBjb25zdCB0YWlsUG9zaXRpb24gPSB7XG4gICAgdG9wOiBjb21wdXRlZFRhaWxTaXplLnRvcCxcbiAgICBsZWZ0OiBwb3NpdGlvbiA9PT0gUE9TSVRJT04uTEVGVCA/IC1jb21wdXRlZFRhaWxTaXplLndpZHRoIDogcGFnZURpbWVuc2lvbnMud2lkdGggKiBzY2FsZSxcbiAgICBoZWlnaHQ6IGNvbXB1dGVkVGFpbFNpemUuaGVpZ2h0LFxuICAgIHdpZHRoOiBjb21wdXRlZFRhaWxTaXplLndpZHRoLFxuICB9O1xuXG4gIGNvbnN0IHJlbmRlckZsYWcgPSAoKSA9PiB7XG4gICAgY29uc3QgeyB0b3AsIHdpZHRoLCBoZWlnaHQgfSA9IGNvbXB1dGVkRmxhZ1NpemU7XG4gICAgY29uc3QgZmxhZ1Bvc2l0aW9uID0ge1xuICAgICAgdG9wLFxuICAgICAgaGVpZ2h0LFxuICAgICAgd2lkdGgsXG4gICAgICBsZWZ0OlxuICAgICAgICBwb3NpdGlvbiA9PT0gUE9TSVRJT04uTEVGVFxuICAgICAgICAgID8gLWNvbXB1dGVkVGFpbFNpemUud2lkdGhcbiAgICAgICAgICA6IHRhaWxQb3NpdGlvbi5sZWZ0ICsgdGFpbFBvc2l0aW9uLndpZHRoIC0gd2lkdGggKyAxLFxuICAgIH07XG4gICAgY29uc3QgbGFiZWxQb3NpdGlvbiA9IHBvc2l0aW9uID09PSBQT1NJVElPTi5MRUZUID8gJzQ3JScgOiAnNTMlJztcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBkZi1yZWFkZXJfX2Fycm93LWZsYWctYmFzZV9fZmxhZ1wiIHN0eWxlPXtmbGFnUG9zaXRpb259PlxuICAgICAgICA8SWNvbkZsYWcgY2xhc3NOYW1lPVwicGRmLXJlYWRlcl9fYXJyb3ctZmxhZy1iYXNlX19mbGFnLWljb25cIiBoZWFkZXJQb3NpdGlvbj17cG9zaXRpb259PlxuICAgICAgICAgIDx0ZXh0XG4gICAgICAgICAgICB4PXtsYWJlbFBvc2l0aW9ufVxuICAgICAgICAgICAgeT1cIjU0JVwiXG4gICAgICAgICAgICBkb21pbmFudEJhc2VsaW5lPVwibWlkZGxlXCJcbiAgICAgICAgICAgIHRleHRBbmNob3I9XCJtaWRkbGVcIlxuICAgICAgICAgICAgY2xhc3NOYW1lPVwicGRmLXJlYWRlcl9fYXJyb3ctZmxhZy1iYXNlX19mbGFnLWxhYmVsXCI+XG4gICAgICAgICAgICB7bGFiZWx9XG4gICAgICAgICAgPC90ZXh0PlxuICAgICAgICA8L0ljb25GbGFnPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc25hbWVzKCdwZGYtcmVhZGVyX19hcnJvdy1mbGFnLWJhc2UnLCBjbGFzc05hbWUpfSB7Li4uZXh0cmFQcm9wc30+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBkZi1yZWFkZXJfX2Fycm93LWZsYWctYmFzZV9fdGFpbFwiIHN0eWxlPXt0YWlsUG9zaXRpb259IC8+XG4gICAgICB7bGFiZWwgJiYgcmVuZGVyRmxhZygpfVxuICAgIDwvZGl2PlxuICApO1xufTtcbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHsgUE9TSVRJT04sIFBvc2l0aW9uVHlwZSB9IGZyb20gJy4uL21hcmtlci9BcnJvd0ZsYWdCYXNlJztcblxudHlwZSBQcm9wcyA9IHtcbiAgY2hpbGRyZW4/OiBSZWFjdC5SZWFjdE5vZGU7XG4gIGNsYXNzTmFtZT86IHN0cmluZztcbiAgaGVhZGVyUG9zaXRpb24/OiBQb3NpdGlvblR5cGU7XG59O1xuXG5leHBvcnQgY29uc3QgSWNvbkZsYWc6IFJlYWN0LkZ1bmN0aW9uQ29tcG9uZW50PFByb3BzPiA9ICh7XG4gIGNoaWxkcmVuLFxuICBjbGFzc05hbWUsXG4gIGhlYWRlclBvc2l0aW9uID0gUE9TSVRJT04uTEVGVCxcbn06IFByb3BzKSA9PiB7XG4gIGlmIChoZWFkZXJQb3NpdGlvbiA9PSBQT1NJVElPTi5MRUZUKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxzdmcgdmlld0JveD1cIjAgMCA2MiAyMlwiIGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cbiAgICAgICAgPHBhdGggZD1cIk01Mi4wMTA4IDIwLjgzMTVMNTIuMDEwNSAyMC44MzE4QzUxLjU1MjUgMjEuMjUyNSA1MC45NTI3IDIxLjQ5MSA1MC4zMjY1IDIxLjVIMy4wMjgyOEMyLjM1NjIzIDIxLjUgMS43MTI2NCAyMS4yMzU1IDEuMjM4ODUgMjAuNzY2MUMwLjc2NTIyIDIwLjI5NjkgMC41IDE5LjY2MTUgMC41IDE5VjNDMC41IDIuMzM4NDggMC43NjUyMjEgMS43MDMwOSAxLjIzODg1IDEuMjMzODlDMS43MTI2NCAwLjc2NDUxOSAyLjM1NjIzIDAuNSAzLjAyODI4IDAuNUg1MC4yNDU3QzUwLjg3MTkgMC41MDkwMiA1MS40NzE4IDAuNzQ3NDY2IDUxLjkyOTggMS4xNjgyMUw1MS45MyAxLjE2ODQ2TDYwLjY1MTUgOS4xNjg0Nkw2MC42NTE0IDkuMTY4NTJMNjAuNjU4IDkuMTc0MzlDNjAuOTE3NSA5LjQwNDA4IDYxLjEyNiA5LjY4NDEyIDYxLjI3MDcgOS45OTY3OUM2MS40MTU0IDEwLjMwOTUgNjEuNDkzMyAxMC42NDgyIDYxLjQ5OTYgMTAuOTkxN0M2MS41MDU5IDExLjMzNTMgNjEuNDQwNSAxMS42NzY1IDYxLjMwNzQgMTEuOTk0MUM2MS4xNzQ5IDEyLjMxMDQgNjAuOTc3OSAxMi41OTY2IDYwLjcyODYgMTIuODM0OEw1Mi4wMTA4IDIwLjgzMTVaXCIgLz5cbiAgICAgICAge2NoaWxkcmVufVxuICAgICAgPC9zdmc+XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPHN2ZyB2aWV3Qm94PVwiMCAwIDYyIDIyXCIgY2xhc3NOYW1lPXtjbGFzc05hbWV9PlxuICAgICAgPHBhdGggZD1cIk05Ljk4OTIyIDEuMTY4NDZMOS45ODk1IDEuMTY4MjFDMTAuNDQ3NSAwLjc0NzQ3MiAxMS4wNDczIDAuNTA5MDI5IDExLjY3MzUgMC40OTk5OTlMNTguOTcxNyAwLjUwMDAwNEM1OS42NDM4IDAuNTAwMDA0IDYwLjI4NzQgMC43NjQ1MjIgNjAuNzYxMSAxLjIzMzg5QzYxLjIzNDggMS43MDMxIDYxLjUgMi4zMzg0OCA2MS41IDNMNjEuNSAxOUM2MS41IDE5LjY2MTUgNjEuMjM0OCAyMC4yOTY5IDYwLjc2MTEgMjAuNzY2MUM2MC4yODc0IDIxLjIzNTUgNTkuNjQzOCAyMS41IDU4Ljk3MTcgMjEuNUwxMS43NTQzIDIxLjVDMTEuMTI4MSAyMS40OTEgMTAuNTI4MiAyMS4yNTI1IDEwLjA3MDIgMjAuODMxOEwxMC4wNyAyMC44MzE1TDEuMzQ4NTQgMTIuODMxNUwxLjM0ODYgMTIuODMxNUwxLjM0MTk2IDEyLjgyNTZDMS4wODI0OCAxMi41OTU5IDAuODczOTkgMTIuMzE1OSAwLjcyOTI4MyAxMi4wMDMyQzAuNTg0NTg0IDExLjY5MDUgMC41MDY3MTkgMTEuMzUxOCAwLjUwMDQxNyAxMS4wMDgzQzAuNDk0MTExIDEwLjY2NDcgMC41NTk0OTUgMTAuMzIzNSAwLjY5MjYwNSAxMC4wMDU5QzAuODI1MTQzIDkuNjg5NjEgMS4wMjIwNiA5LjQwMzQxIDEuMjcxMzYgOS4xNjUxOUw5Ljk4OTIyIDEuMTY4NDZaXCIgLz5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L3N2Zz5cbiAgKTtcbn07XG4iLCIvLyBIZWlnaHQgYW5kIHdpZHRoIGFyZSBpbiBzY3JlZW4gcGl4ZWwgdW5pdHMgYXQgMTAwJSBzY2FsaW5nIG9mIHRoZSBwYWdlXG5leHBvcnQgdHlwZSBEaW1lbnNpb25zID0ge1xuICBoZWlnaHQ6IG51bWJlcjtcbiAgd2lkdGg6IG51bWJlcjtcbn07XG5cbi8vIFRvcCBhbmQgbGVmdCBhcmUgaW4gc2NyZWVuIHBpeGVsIHVuaXRzIGF0IDEwMCUgc2NhbGluZyBvZiB0aGUgcGFnZVxuZXhwb3J0IHR5cGUgT3JpZ2luID0ge1xuICB0b3A6IG51bWJlcjtcbiAgbGVmdDogbnVtYmVyO1xufTtcblxuZXhwb3J0IHR5cGUgU2l6ZSA9IERpbWVuc2lvbnMgJiBPcmlnaW47XG5cbmV4cG9ydCB0eXBlIEJvdW5kaW5nQm94ID0ge1xuICBwYWdlOiBudW1iZXI7XG59ICYgU2l6ZTtcblxuLy8gUmF3IEJvdW5kaW5nQm94ZXMgdG9wLCBsZWZ0LCBoZWlnaHQsIGFuZCB3aWR0aCBhdHRyaWJ1dGVzIGFyZSBleHByZXNzZWQgYXMgYSByYXRpbyBvZiB0aGVcbi8vIHBhZ2UgaGVpZ2h0L3dpZHRoIGFuZCBuZWVkIHRvIGJlIHNjYWxlZCBhY2NvcmRpbmcgdG8gcGFnZSBzaXplIGJlZm9yZSB0aGV5IGNhbiBiZSByZW5kZXJlZFxuZXhwb3J0IHR5cGUgUmF3Qm91bmRpbmdCb3ggPSBCb3VuZGluZ0JveDtcblxuLy8gQ2FsY3VsYXRlIGEgYm91bmRpbmcgYm94J3MgcGl4ZWwgY29vcmRpbmF0ZXMgZnJvbSB0aGUgcmF3IGJvdW5kaW5nIGJveCdzIGNvb3JkaXRhdGUgcmF0aW9zIHNjYWxlZCB0byB0aGUgcGFnZSBzaXplXG5leHBvcnQgZnVuY3Rpb24gc2NhbGVSYXdCb3VuZGluZ0JveChcbiAgYm91bmRpbmdCb3hSYXc6IFJhd0JvdW5kaW5nQm94LFxuICBwYWdlSGVpZ2h0OiBudW1iZXIsXG4gIHBhZ2VXaWR0aDogbnVtYmVyXG4pOiBCb3VuZGluZ0JveCB7XG4gIGNvbnN0IGJveFNjYWxlZDogQm91bmRpbmdCb3ggPSB7XG4gICAgcGFnZTogYm91bmRpbmdCb3hSYXcucGFnZSxcbiAgICB0b3A6IGJvdW5kaW5nQm94UmF3LnRvcCAqIHBhZ2VIZWlnaHQsXG4gICAgbGVmdDogYm91bmRpbmdCb3hSYXcubGVmdCAqIHBhZ2VXaWR0aCxcbiAgICBoZWlnaHQ6IGJvdW5kaW5nQm94UmF3LmhlaWdodCAqIHBhZ2VIZWlnaHQsXG4gICAgd2lkdGg6IGJvdW5kaW5nQm94UmF3LndpZHRoICogcGFnZVdpZHRoLFxuICB9O1xuXG4gIHJldHVybiBib3hTY2FsZWQ7XG59XG4iLCJpbXBvcnQgY2xhc3NuYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHsgRG9jdW1lbnRDb250ZXh0IH0gZnJvbSAnLi4vLi4vY29udGV4dC9Eb2N1bWVudENvbnRleHQnO1xuaW1wb3J0IHsgQm91bmRpbmdCb3ggYXMgQm91bmRpbmdCb3hUeXBlLCBzY2FsZVJhd0JvdW5kaW5nQm94IH0gZnJvbSAnLi4vdHlwZXMvYm91bmRpbmdCb3gnO1xuaW1wb3J0IHsgQXJyb3dGbGFnQmFzZSwgUE9TSVRJT04sIFBvc2l0aW9uVHlwZSB9IGZyb20gJy4vQXJyb3dGbGFnQmFzZSc7XG5cbnR5cGUgUHJvcHMgPSB7XG4gIGJvdW5kaW5nQm94ZXM6IEFycmF5PEJvdW5kaW5nQm94VHlwZT47IC8vIGFsbCBib3VuZGluZyBib3hlcyBhcmUgZXhwZWN0ZWQgdG8gYmUgb24gdGhlIHNhbWUgcGFnZVxuICBjbGFzc05hbWU/OiBzdHJpbmc7XG4gIGxhYmVsPzogc3RyaW5nO1xufTtcblxuY29uc3QgQ0VOVEVSX0xJTkUgPSAwLjU7XG5jb25zdCBMSU5FX0hFSUdIVF9NVUxUSVBMSUVSID0gMS41O1xuXG5leHBvcnQgY29uc3QgQXJyb3dGbGFnOiBSZWFjdC5GdW5jdGlvbkNvbXBvbmVudDxQcm9wcz4gPSAoe1xuICBib3VuZGluZ0JveGVzLFxuICBjbGFzc05hbWUsXG4gIGxhYmVsLFxuICAuLi5leHRyYVByb3BzXG59OiBQcm9wcykgPT4ge1xuICBjb25zdCB7IHBhZ2VEaW1lbnNpb25zIH0gPSBSZWFjdC51c2VDb250ZXh0KERvY3VtZW50Q29udGV4dCk7XG4gIGNvbnN0IGNvbnZlcnRSYXRpb1RvUHggPSBSZWFjdC51c2VDYWxsYmFjayhcbiAgICAocmF3Qm91bmRpbmdCb3g6IEJvdW5kaW5nQm94VHlwZSk6IEJvdW5kaW5nQm94VHlwZSA9PlxuICAgICAgc2NhbGVSYXdCb3VuZGluZ0JveChyYXdCb3VuZGluZ0JveCwgcGFnZURpbWVuc2lvbnMuaGVpZ2h0LCBwYWdlRGltZW5zaW9ucy53aWR0aCksXG4gICAgW3BhZ2VEaW1lbnNpb25zXVxuICApO1xuXG4gIGlmIChib3VuZGluZ0JveGVzLmxlbmd0aCA9PSAwKSByZXR1cm4gbnVsbDtcblxuICAvLyBJZiBhbnkgYm91bmRpbmcgYm94ZXMgc3BhbiBvdmVyIHRoZSBjZW50ZXIgbGluZSwgd2Uga25vdyB0aGF0IGVpdGhlciB0aGUgcGFwZXIgaXNcbiAgLy8gc2luZ2xlLWNvbHVtbiBvciBhIG1peCBvZiBzaW5nbGUtY29sdW1uIGFuZCB0d28tY29sdW1uLiBJbiBzdWNoIGNhc2UsIGJvdW5kaW5nXG4gIC8vIGJveGVzIHdpbGwgbm90IGJlIGRpdmlkZWQgc28gYXMgdG8gZ3VhcmFudGVlIG9ubHkgMSBmbGFnIGlzIHJlbmRlcmVkIG9uIHRoZSBsZWZ0IHNpZGUuXG4gIGNvbnN0IGhhc1dpZGVCb3ggPSBib3VuZGluZ0JveGVzLnNvbWUoXG4gICAgKHsgbGVmdCwgd2lkdGggfSkgPT4gbGVmdCA8IENFTlRFUl9MSU5FICYmIGxlZnQgKyB3aWR0aCA+PSBDRU5URVJfTElORVxuICApO1xuXG4gIGxldCBsZWZ0Qm91bmRpbmdCb3hlcyA9IGJvdW5kaW5nQm94ZXMsXG4gICAgcmlnaHRCb3VuZGluZ0JveGVzOiBCb3VuZGluZ0JveFR5cGVbXSA9IFtdO1xuICBpZiAoIWhhc1dpZGVCb3gpIHtcbiAgICBsZWZ0Qm91bmRpbmdCb3hlcyA9IGJvdW5kaW5nQm94ZXMuZmlsdGVyKCh7IGxlZnQgfSkgPT4gbGVmdCA8IENFTlRFUl9MSU5FKTtcbiAgICByaWdodEJvdW5kaW5nQm94ZXMgPSBib3VuZGluZ0JveGVzLmZpbHRlcigoeyBsZWZ0IH0pID0+IGxlZnQgPj0gQ0VOVEVSX0xJTkUpO1xuICB9XG5cbiAgLy8gVG8gaGFuZGxlIGEgc3BlY2lhbCBjYXNlIHdoZXJlIHRoZSBwcmV2aW91cyBib3VuZGluZyBib3ggaXMgb24gdGhlIHJpZ2h0IHdoaWxlXG4gIC8vIHRoZSBsYXRlciBpcyBvbiB0aGUgbGVmdC4gSW4gc3VjaCBjYXNlLCB0aGVyZSBhcmUgb25seSAyIGJvdW5kaW5nIGJveGVzLlxuICAvLyBUaGUgdmVydGljYWwgZGlzdGFuY2UgYmV0d2VlbiB0aGUgdHdvIGJveGVzIGlzIHVzZWQgdG8gZGlmZmVyZW50aWF0ZSB3aGV0aGVyIHRoaXMgY2FzZVxuICAvLyBoYXBwZW5zIG9uIGEgc2luZ2xlLWNvbHVtbiBwYXBlciBvciBhIHR3by1jb2x1bW4gcGFwZXIuIElmIGl0J3MgdGhlIHByZXZpb3VzLCB0aGVuXG4gIC8vIHRoZSB3aG9sZSBmbGFnIHNob3VsZCBhcHBlYXIgb24gdGhlIGxlZnQuIEJvdGggYm91bmRpbmcgYm94ZXMgd2lsbCBiZSBjYXRlZ29yaXplZFxuICAvLyBhcyBsZWZ0Qm91bmRpbmdCb3hlcy4gT3RoZXJ3aXNlLCB0aGUgdGFpbCB3cmFwcGluZyBzdGlsbCBhcHBsaWVzLlxuICBpZiAobGVmdEJvdW5kaW5nQm94ZXMubGVuZ3RoID09PSAxICYmIHJpZ2h0Qm91bmRpbmdCb3hlcy5sZW5ndGggPT09IDEpIHtcbiAgICAvLyBJZiB0aGUgdmVydGljYWwgZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZSB0d28gYm94ZXMgaXMgc21hbGxlciB0aGVuIDEuNSB0aW1lcyBsaW5lIGhlaWdodCxcbiAgICAvLyB0aGUgcGFwZXIgaXMgY2F0ZWdvcml6ZWQgYXMgc2luZ2xlLWNvbHVtbi4gQm90aCBib3VuZGluZyBib3hlcyBhcmUgc2V0IHRvIGxlZnRCb3VuZGluZ0JveGVzLlxuICAgIC8vIEFycm93RmxhZyB3aWxsIGFwcGVhciBvbiB0aGUgbGVmdFxuICAgIGlmIChcbiAgICAgIE1hdGguYWJzKHJpZ2h0Qm91bmRpbmdCb3hlc1swXS50b3AgLSBsZWZ0Qm91bmRpbmdCb3hlc1swXS50b3ApIDxcbiAgICAgIExJTkVfSEVJR0hUX01VTFRJUExJRVIgKiByaWdodEJvdW5kaW5nQm94ZXNbMF0uaGVpZ2h0XG4gICAgKSB7XG4gICAgICBsZWZ0Qm91bmRpbmdCb3hlcyA9IGJvdW5kaW5nQm94ZXM7XG4gICAgICByaWdodEJvdW5kaW5nQm94ZXMgPSBbXTtcbiAgICB9XG4gIH1cblxuICAvLyBTb3J0IGJvdW5kaW5nIGJveGVzIGJ5IHRoZWlyIHRvcCBwb3NpdGlvbnNcbiAgbGVmdEJvdW5kaW5nQm94ZXMuc29ydCgoZmlyc3QsIHNlY29uZCkgPT4gZmlyc3QudG9wIC0gc2Vjb25kLnRvcCk7XG4gIHJpZ2h0Qm91bmRpbmdCb3hlcy5zb3J0KChmaXJzdCwgc2Vjb25kKSA9PiBmaXJzdC50b3AgLSBzZWNvbmQudG9wKTtcblxuICBjb25zdCByZW5kZXJBcnJvd0ZsYWdCYXNlID0gKFxuICAgIGJveGVzOiBCb3VuZGluZ0JveFR5cGVbXSxcbiAgICBwb3NpdGlvbjogUG9zaXRpb25UeXBlLFxuICAgIHNob3dMYWJlbDogYm9vbGVhblxuICApID0+IHtcbiAgICBpZiAoYm94ZXMubGVuZ3RoID09IDApIHJldHVybiBudWxsO1xuXG4gICAgY29uc3QgZmlyc3RCb3ggPSBjb252ZXJ0UmF0aW9Ub1B4KGJveGVzWzBdKSxcbiAgICAgIGxhc3RCb3ggPSBjb252ZXJ0UmF0aW9Ub1B4KGJveGVzW2JveGVzLmxlbmd0aCAtIDFdKTtcbiAgICBjb25zdCBwcm9wcyA9IHtcbiAgICAgIGxhYmVsOiBzaG93TGFiZWwgPyBsYWJlbCA6IHVuZGVmaW5lZCxcbiAgICAgIHRhaWxMZW5ndGg6IGxhc3RCb3gudG9wICsgbGFzdEJveC5oZWlnaHQgLSBmaXJzdEJveC50b3AsXG4gICAgICBvcmlnaW5Ub3A6IGZpcnN0Qm94LnRvcCxcbiAgICAgIHBvc2l0aW9uLFxuICAgIH07XG5cbiAgICByZXR1cm4gPEFycm93RmxhZ0Jhc2Ugey4uLnByb3BzfSAvPjtcbiAgfTtcblxuICBjb25zdCBoYXNMZWZ0RmxhZyA9IGxlZnRCb3VuZGluZ0JveGVzLmxlbmd0aCA+IDA7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NuYW1lcygncGRmLXJlYWRlcl9fYXJyb3ctZmxhZycsIGNsYXNzTmFtZSl9IHsuLi5leHRyYVByb3BzfT5cbiAgICAgIHtyZW5kZXJBcnJvd0ZsYWdCYXNlKGxlZnRCb3VuZGluZ0JveGVzLCBQT1NJVElPTi5MRUZULCBoYXNMZWZ0RmxhZyl9XG4gICAgICB7cmVuZGVyQXJyb3dGbGFnQmFzZShyaWdodEJvdW5kaW5nQm94ZXMsIFBPU0lUSU9OLlJJR0hULCAhaGFzTGVmdEZsYWcpfVxuICAgIDwvZGl2PlxuICApO1xufTtcbiIsImltcG9ydCBjbGFzc25hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgeyBTY3JvbGxDb250ZXh0IH0gZnJvbSAnLi4vLi4vY29udGV4dC9TY3JvbGxDb250ZXh0JztcbmltcG9ydCB7IE5vZGVEZXN0aW5hdGlvbiwgT3V0bGluZU5vZGUgfSBmcm9tICcuLi90eXBlcy9vdXRsaW5lJztcblxudHlwZSBQcm9wcyA9IHtcbiAgaXRlbXM/OiBBcnJheTxPdXRsaW5lTm9kZT47XG4gIG9uQ2xpY2s/OiAoZGVzdDogTm9kZURlc3RpbmF0aW9uKSA9PiB2b2lkO1xufTtcblxuZXhwb3J0IGNvbnN0IE91dGxpbmVJdGVtOiBSZWFjdC5GdW5jdGlvbkNvbXBvbmVudDxQcm9wcz4gPSAoeyBpdGVtcywgb25DbGljayB9OiBQcm9wcykgPT4ge1xuICBjb25zdCB7IGlzT3V0bGluZVRhcmdldFZpc2libGUgfSA9IFJlYWN0LnVzZUNvbnRleHQoU2Nyb2xsQ29udGV4dCk7XG5cbiAgaWYgKCFpdGVtcyB8fCAhaXRlbXMubGVuZ3RoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiByZW5kZXJJdGVtKGl0ZW06IE91dGxpbmVOb2RlKSB7XG4gICAgY29uc3QgY2xpY2tIYW5kbGVyID0gKGV2ZW50OiBhbnkpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAob25DbGljaykge1xuICAgICAgICBvbkNsaWNrKGl0ZW0uZGVzdCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIElmIGFuIGl0ZW0gaGFzIHN1YiB0aXRsZXMsIHJlbmRlciA8T3V0bGluZUl0ZW0gLz5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpXG4gICAgICAgIGtleT17aXRlbS5kZXN0Py50b1N0cmluZygpIHx8IGl0ZW0udGl0bGV9XG4gICAgICAgIGNsYXNzTmFtZT17Y2xhc3NuYW1lcygncmVhZGVyX19vdXRsaW5lLWl0ZW0nLCB7XG4gICAgICAgICAgJ3JlYWRlcl9fb3V0bGluZS1pdGVtLS10YXJnZXQtdmlzaWJsZSc6IGlzT3V0bGluZVRhcmdldFZpc2libGUoaXRlbS5kZXN0KSxcbiAgICAgICAgfSl9PlxuICAgICAgICA8YSBocmVmPVwiI1wiIG9uQ2xpY2s9e2NsaWNrSGFuZGxlcn0gZGF0YS10ZXN0LWlkPVwicmVhZGVyLW91dGxpbmUtaXRlbVwiPlxuICAgICAgICAgIHtpdGVtLnRpdGxlfVxuICAgICAgICA8L2E+XG4gICAgICAgIDxPdXRsaW5lSXRlbSBpdGVtcz17aXRlbS5pdGVtc30gb25DbGljaz17b25DbGlja30gLz5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiA8dWwgY2xhc3NOYW1lPVwicmVhZGVyX19vdXRsaW5lLWl0ZW1zXCI+e2l0ZW1zLm1hcChpdGVtID0+IHJlbmRlckl0ZW0oaXRlbSkpfTwvdWw+O1xufTtcbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHsgYnVpbGRPdXRsaW5lUG9zaXRpb25zLCBEb2N1bWVudENvbnRleHQgfSBmcm9tICcuLi8uLi9jb250ZXh0L0RvY3VtZW50Q29udGV4dCc7XG5pbXBvcnQgeyBTY3JvbGxDb250ZXh0IH0gZnJvbSAnLi4vLi4vY29udGV4dC9TY3JvbGxDb250ZXh0JztcbmltcG9ydCB7IE5vZGVEZXN0aW5hdGlvbiwgT3V0bGluZU5vZGUgfSBmcm9tICcuLi90eXBlcy9vdXRsaW5lJztcbmltcG9ydCB7IE91dGxpbmVJdGVtIH0gZnJvbSAnLi9PdXRsaW5lSXRlbSc7XG5cbmV4cG9ydCBjb25zdCBPdXRsaW5lOiBSZWFjdC5GdW5jdGlvbkNvbXBvbmVudCA9ICh7IC4uLmV4dHJhUHJvcHMgfSkgPT4ge1xuICBjb25zdCB7IG91dGxpbmUsIHBkZkRvY1Byb3h5LCBzZXRPdXRsaW5lLCBzZXRPdXRsaW5lUG9zaXRpb25zIH0gPVxuICAgIFJlYWN0LnVzZUNvbnRleHQoRG9jdW1lbnRDb250ZXh0KTtcbiAgY29uc3QgeyBzY3JvbGxUb091dGxpbmVUYXJnZXQsIHJlc2V0U2Nyb2xsT2JzZXJ2ZXJzIH0gPSBSZWFjdC51c2VDb250ZXh0KFNjcm9sbENvbnRleHQpO1xuXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKG91dGxpbmUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIXBkZkRvY1Byb3h5KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcGRmRG9jUHJveHlcbiAgICAgIC5nZXRPdXRsaW5lKClcbiAgICAgIC50aGVuKChvdXRsaW5lQXJyYXk6IEFycmF5PE91dGxpbmVOb2RlPikgPT4ge1xuICAgICAgICBzZXRPdXRsaW5lKG91dGxpbmVBcnJheSk7XG4gICAgICAgIHJldHVybiBidWlsZE91dGxpbmVQb3NpdGlvbnMocGRmRG9jUHJveHksIG91dGxpbmVBcnJheSk7XG4gICAgICB9KVxuICAgICAgLnRoZW4ob3V0bGluZVBvc2l0aW9ucyA9PiB7XG4gICAgICAgIHNldE91dGxpbmVQb3NpdGlvbnMob3V0bGluZVBvc2l0aW9ucyk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICByZXNldFNjcm9sbE9ic2VydmVycygpO1xuICAgICAgfSk7XG4gIH0sIFtvdXRsaW5lXSk7XG5cbiAgY29uc3QgY2xpY2tIYW5kbGVyID0gUmVhY3QudXNlQ2FsbGJhY2soKGRlc3Q6IE5vZGVEZXN0aW5hdGlvbik6IHZvaWQgPT4ge1xuICAgIGlmICghZGVzdCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzY3JvbGxUb091dGxpbmVUYXJnZXQoZGVzdCk7XG4gICAgcmV0dXJuO1xuICB9LCBbXSk7XG5cbiAgaWYgKCFwZGZEb2NQcm94eSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInJlYWRlcl9fb3V0bGluZVwiIHsuLi5leHRyYVByb3BzfT5cbiAgICAgIHshIW91dGxpbmUgJiYgPE91dGxpbmVJdGVtIGl0ZW1zPXtvdXRsaW5lfSBvbkNsaWNrPXtjbGlja0hhbmRsZXJ9IC8+fVxuICAgIDwvZGl2PlxuICApO1xufTtcbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHsgRG9jdW1lbnRDb250ZXh0IH0gZnJvbSAnLi4vY29udGV4dC9Eb2N1bWVudENvbnRleHQnO1xuaW1wb3J0IHsgVHJhbnNmb3JtQ29udGV4dCB9IGZyb20gJy4uL2NvbnRleHQvVHJhbnNmb3JtQ29udGV4dCc7XG5pbXBvcnQgeyBjb21wdXRlUGFnZVN0eWxlIH0gZnJvbSAnLi4vdXRpbHMvc3R5bGUnO1xuaW1wb3J0IHsgQm91bmRpbmdCb3ggfSBmcm9tICcuL0JvdW5kaW5nQm94JztcblxuZXhwb3J0IHR5cGUgUHJvcHMgPSB7XG4gIGNoaWxkcmVuPzogUmVhY3QuUmVhY3RFbGVtZW50PHR5cGVvZiBCb3VuZGluZ0JveD4gfCBBcnJheTxSZWFjdC5SZWFjdEVsZW1lbnQ8dHlwZW9mIEJvdW5kaW5nQm94Pj47XG59O1xuXG5leHBvcnQgY29uc3QgT3ZlcmxheTogUmVhY3QuRnVuY3Rpb25Db21wb25lbnQ8UHJvcHM+ID0gKHsgY2hpbGRyZW4sIC4uLmV4dHJhUHJvcHMgfTogUHJvcHMpID0+IHtcbiAgY29uc3QgeyBwYWdlRGltZW5zaW9ucyB9ID0gUmVhY3QudXNlQ29udGV4dChEb2N1bWVudENvbnRleHQpO1xuICBjb25zdCB7IHJvdGF0aW9uLCBzY2FsZSB9ID0gUmVhY3QudXNlQ29udGV4dChUcmFuc2Zvcm1Db250ZXh0KTtcblxuICBjb25zdCBnZXRPdmVybGF5U3R5bGUgPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgcmV0dXJuIGNvbXB1dGVQYWdlU3R5bGUocGFnZURpbWVuc2lvbnMsIHJvdGF0aW9uLCBzY2FsZSk7XG4gIH0sIFtwYWdlRGltZW5zaW9ucywgcm90YXRpb24sIHNjYWxlXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBkZi1yZWFkZXJfX292ZXJsYXlcIiBzdHlsZT17Z2V0T3ZlcmxheVN0eWxlKCl9IHsuLi5leHRyYVByb3BzfT5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG4iLCJpbXBvcnQgeyBOdWxsYWJsZSB9IGZyb20gJy4uL2NvbXBvbmVudHMvdHlwZXMvdXRpbHMnO1xuaW1wb3J0IHsgVmlzaWJsZUVudHJ5RGV0YWlsVHlwZSB9IGZyb20gJy4vVmlzaWJsZUVudHJpZXNEZXRlY3Rvcic7XG5cbnR5cGUgVmlzaWJsZUVsZW1lbnQgPSBOdWxsYWJsZTxudW1iZXIgfCBzdHJpbmc+O1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TWF4VmlzaWJsZUVsZW1lbnQoXG4gIHZpc2libGVFbGVtZW50czogTWFwPFZpc2libGVFbGVtZW50LCBWaXNpYmxlRW50cnlEZXRhaWxUeXBlPlxuKTogVmlzaWJsZUVsZW1lbnQge1xuICBsZXQgbWF4VmlzaWJsZUtleSA9IG51bGw7XG4gIGxldCBtYXhSYXRpbyA9IDA7XG4gIGZvciAoY29uc3QgW3Zpc2libGVLZXksIHsgcmF0aW8gfV0gb2YgdmlzaWJsZUVsZW1lbnRzKSB7XG4gICAgaWYgKG1heFJhdGlvIDwgcmF0aW8pIHtcbiAgICAgIG1heFZpc2libGVLZXkgPSB2aXNpYmxlS2V5O1xuICAgICAgbWF4UmF0aW8gPSByYXRpbztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG1heFZpc2libGVLZXk7XG59XG4iLCJpbXBvcnQgY2xhc3NuYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHsgRG9jdW1lbnRDb250ZXh0IH0gZnJvbSAnLi4vY29udGV4dC9Eb2N1bWVudENvbnRleHQnO1xuaW1wb3J0IHsgU2Nyb2xsQ29udGV4dCB9IGZyb20gJy4uL2NvbnRleHQvU2Nyb2xsQ29udGV4dCc7XG5pbXBvcnQgeyBnZXRNYXhWaXNpYmxlRWxlbWVudCB9IGZyb20gJy4uL3V0aWxzL01heFZpc2libGVFbGVtZW50JztcblxuZXhwb3J0IHR5cGUgUHJvcHMgPSB7XG4gIGNsYXNzTmFtZT86IHN0cmluZztcbn07XG5cbnR5cGUgVE9ET19fVElNRVIgPSBhbnk7XG5cbmNvbnN0IERFTEFZX1NDUk9MTF9USU1FX09VVF9NUyA9IDEwMDA7XG5cbmV4cG9ydCBjb25zdCBQYWdlTnVtYmVyQ29udHJvbDogUmVhY3QuRnVuY3Rpb25Db21wb25lbnQ8UHJvcHM+ID0gKHsgY2xhc3NOYW1lIH06IFByb3BzKSA9PiB7XG4gIGNvbnN0IGRlbGF5VGltZXJSZWYgPSBSZWFjdC51c2VSZWY8VE9ET19fVElNRVI+KCk7XG4gIGNvbnN0IHsgbnVtUGFnZXMgfSA9IFJlYWN0LnVzZUNvbnRleHQoRG9jdW1lbnRDb250ZXh0KTtcbiAgY29uc3QgeyBzY3JvbGxUb1BhZ2UsIHZpc2libGVQYWdlUmF0aW9zIH0gPSBSZWFjdC51c2VDb250ZXh0KFNjcm9sbENvbnRleHQpO1xuICBjb25zdCBbbWluUGFnZSwgc2V0TWluUGFnZV0gPSBSZWFjdC51c2VTdGF0ZTxudW1iZXI+KDApO1xuICBjb25zdCBbdXNlcklucHV0LCBzZXRVc2VySW5wdXRdID0gUmVhY3QudXNlU3RhdGU8c3RyaW5nPignMCcpO1xuXG4gIC8vIEluaXRpYWxpemUgcGFnZSBjb250cm9sIGVsZW1lbnRcbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAobnVtUGFnZXMgIT0gMCkge1xuICAgICAgc2V0TWluUGFnZSgxKTtcbiAgICB9XG4gIH0sIFtudW1QYWdlc10pO1xuXG4gIC8vIEV2ZXJ5dGltZSB3ZSBzY3JvbGwgdGhyb3VnaCB0aGUgcGFnZSB0aGlzIHVzZUVmZmVjdFxuICAvLyB3aWxsIHRyaWdnZXIgYW5kIHNldCBjdXJyZW50IHBhZ2UgYmFzZWQgb24gb3VyIGN1cnJlbnRcbiAgLy8gc2Nyb2xsIHBvc2l0aW9uXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHZpc2libGVQYWdlUmF0aW9zLnNpemUgIT09IDApIHtcbiAgICAgIGNvbnN0IG1heFZpc2libGVQYWdlTnVtYmVyID0gZ2V0TWF4VmlzaWJsZUVsZW1lbnQodmlzaWJsZVBhZ2VSYXRpb3MpO1xuICAgICAgaWYgKG1heFZpc2libGVQYWdlTnVtYmVyKSB7XG4gICAgICAgIHNldFVzZXJJbnB1dChtYXhWaXNpYmxlUGFnZU51bWJlci50b1N0cmluZygpKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIFt2aXNpYmxlUGFnZVJhdGlvc10pO1xuXG4gIGNvbnN0IG9uUGFnZU51bWJlckNoYW5nZSA9IFJlYWN0LnVzZUNhbGxiYWNrKFxuICAgIChldmVudDogUmVhY3QuQ2hhbmdlRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pID0+IHtcbiAgICAgIGNvbnN0IHsgdmFsdWUgfSA9IGV2ZW50LmN1cnJlbnRUYXJnZXQ7XG4gICAgICAvLyBEZWNpbWFsIGNhc2VcbiAgICAgIGlmICghTnVtYmVyLmlzSW50ZWdlcih2YWx1ZSkpIHtcbiAgICAgICAgc2V0VXNlcklucHV0KHBhcnNlSW50KHZhbHVlLCAxMCkudG9TdHJpbmcoKSk7XG4gICAgICB9XG5cbiAgICAgIHNldFVzZXJJbnB1dCh2YWx1ZSk7XG4gICAgICBpZiAoZGVsYXlUaW1lclJlZi5jdXJyZW50KSB7XG4gICAgICAgIGNsZWFyVGltZW91dChkZWxheVRpbWVyUmVmLmN1cnJlbnQpO1xuICAgICAgfVxuXG4gICAgICAvLyBBZnRlciB1c2VyIGlucHV0IHRoZSBwYWdlIHRoYXQgdGhleSB3YW50IHRvIHNjcm9sbCB0b1xuICAgICAgLy8gb3VyIHJlZiB3aWxsIHN0YXJ0IHNldHRpbmcgYSBkZWxheSBhcm91bmQgMXMgYmVmb3JlIHNjcm9sbFxuICAgICAgLy8gdG8gdGhlIHBvc2l0aW9uIHRoYXQgdXNlciBkZXNpcmVcbiAgICAgIGNvbnN0IG5ld1BhZ2VOdW1iZXIgPSBwYXJzZUludCh2YWx1ZSwgMTApO1xuICAgICAgaWYgKG5ld1BhZ2VOdW1iZXIgPj0gbWluUGFnZSAmJiBuZXdQYWdlTnVtYmVyIDw9IG51bVBhZ2VzKSB7XG4gICAgICAgIGRlbGF5VGltZXJSZWYuY3VycmVudCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHNjcm9sbFRvUGFnZSh7IHBhZ2VOdW1iZXI6IG5ld1BhZ2VOdW1iZXIgfSk7XG4gICAgICAgIH0sIERFTEFZX1NDUk9MTF9USU1FX09VVF9NUyk7XG4gICAgICB9XG4gICAgfSxcbiAgICBbbWluUGFnZSwgbnVtUGFnZXMsIHNjcm9sbFRvUGFnZV1cbiAgKTtcblxuICBjb25zdCBoYW5kbGVCbHVyID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGlmIChkZWxheVRpbWVyUmVmLmN1cnJlbnQpIHtcbiAgICAgIGNsZWFyVGltZW91dChkZWxheVRpbWVyUmVmLmN1cnJlbnQpO1xuICAgIH1cbiAgICBjb25zdCBwYWdlTnVtYmVyID0gcGFyc2VJbnQodXNlcklucHV0LCAxMCk7XG4gICAgaWYgKE51bWJlci5pc05hTihwYWdlTnVtYmVyKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGRlbGF5VGltZXJSZWYuY3VycmVudCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgc2Nyb2xsVG9QYWdlKHsgcGFnZU51bWJlcjogcGFnZU51bWJlciB9KTtcbiAgICB9LCBERUxBWV9TQ1JPTExfVElNRV9PVVRfTVMpO1xuICB9LCBbdXNlcklucHV0LCBzY3JvbGxUb1BhZ2VdKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc25hbWVzKCdwZGYtcmVhZGVyX19wYWdlLW51bWJlci1jb250cm9sJywgY2xhc3NOYW1lKX0+XG4gICAgICA8aW5wdXRcbiAgICAgICAgYXJpYS1sYWJlbD1cIkN1cnJlbnQgUGFnZVwiXG4gICAgICAgIGNsYXNzTmFtZT1cInBkZi1yZWFkZXJfX3BhZ2UtbnVtYmVyLWNvbnRyb2xfX2N1cnJlbnQtcGFnZVwiXG4gICAgICAgIHR5cGU9XCJudW1iZXJcIlxuICAgICAgICBuYW1lPVwiY3VycmVudFBhZ2VcIlxuICAgICAgICB2YWx1ZT17dXNlcklucHV0fVxuICAgICAgICBvbkNoYW5nZT17b25QYWdlTnVtYmVyQ2hhbmdlfVxuICAgICAgICBvbkJsdXI9e2hhbmRsZUJsdXJ9XG4gICAgICAvPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwicGRmLXJlYWRlcl9fcGFnZS1udW1iZXItY29udHJvbF9fc2VwYXJhdG9yIFwiPi88L3NwYW4+XG4gICAgICA8c3BhbiBhcmlhLWxhYmVsPVwiVG90YWwgUGFnZXNcIiBjbGFzc05hbWU9XCJwZGYtcmVhZGVyX19wYWdlLW51bWJlci1jb250cm9sX190b3RhbC1wYWdlc1wiPlxuICAgICAgICB7bnVtUGFnZXN9XG4gICAgICA8L3NwYW4+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgcGRmanMgfSBmcm9tICdyZWFjdC1wZGYnO1xuXG5pbXBvcnQgeyBQYWdlTnVtYmVyIH0gZnJvbSAnLi4vY29tcG9uZW50cy90eXBlcy9wYWdlJztcbmltcG9ydCB7IE51bGxhYmxlIH0gZnJvbSAnLi4vY29tcG9uZW50cy90eXBlcy91dGlscyc7XG5pbXBvcnQgeyBsb2dQcm92aWRlcldhcm5pbmcgfSBmcm9tICcuLi91dGlscy9wcm92aWRlcic7XG5pbXBvcnQgeyBWaXNpYmxlRW50cnlEZXRhaWxUeXBlIH0gZnJvbSAnLi4vdXRpbHMvVmlzaWJsZUVudHJpZXNEZXRlY3Rvcic7XG5cbmV4cG9ydCB0eXBlIFJlbmRlclN0YXRlID0ge1xuICBwcm9taXNlOiBQcm9taXNlPHN0cmluZz47XG4gIG9iamVjdFVSTDogTnVsbGFibGU8c3RyaW5nPjtcbn07XG5cbmV4cG9ydCB0eXBlIFBhZ2VOdW1iZXJUb1JlbmRlclN0YXRlTWFwID0gTWFwPG51bWJlciwgUmVuZGVyU3RhdGU+O1xuXG5leHBvcnQgaW50ZXJmYWNlIElQYWdlUmVuZGVyQ29udGV4dCB7XG4gIHBhZ2VSZW5kZXJTdGF0ZXM6IFBhZ2VOdW1iZXJUb1JlbmRlclN0YXRlTWFwO1xuICBnZXRPYmplY3RVUkxGb3JQYWdlOiAocGFnZU51bWJlcjogUGFnZU51bWJlcikgPT4gTnVsbGFibGU8c3RyaW5nPjtcbiAgaXNCdWlsZGluZ09iamVjdFVSTEZvclBhZ2U6IChwYWdlTnVtYmVyOiBQYWdlTnVtYmVyKSA9PiBib29sZWFuO1xuICBpc0ZpbmlzaGVkQnVpbGRpbmdBbGxQYWdlc09iamVjdFVSTHM6ICgpID0+IGJvb2xlYW47XG4gIGJ1aWxkT2JqZWN0VVJMRm9yUGFnZTogKHBhZ2VOdW1iZXI6IFBhZ2VOdW1iZXIpID0+IFByb21pc2U8c3RyaW5nPjtcbn1cblxuZXhwb3J0IGNvbnN0IFBhZ2VSZW5kZXJDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dDxJUGFnZVJlbmRlckNvbnRleHQ+KHtcbiAgcGFnZVJlbmRlclN0YXRlczogbmV3IE1hcCgpLFxuICBnZXRPYmplY3RVUkxGb3JQYWdlOiBhcmdzID0+IHtcbiAgICBsb2dQcm92aWRlcldhcm5pbmcoYGdldE9iamVjdFVSTEZvclBhZ2UoJHtKU09OLnN0cmluZ2lmeShhcmdzKX0pYCwgJ1BhZ2VSZW5kZXJDb250ZXh0Jyk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH0sXG4gIGlzQnVpbGRpbmdPYmplY3RVUkxGb3JQYWdlOiBhcmdzID0+IHtcbiAgICBsb2dQcm92aWRlcldhcm5pbmcoYGlzQnVpbGRpbmdPYmplY3RVUkxGb3JQYWdlKCR7SlNPTi5zdHJpbmdpZnkoYXJncyl9KWAsICdQYWdlUmVuZGVyQ29udGV4dCcpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgaXNGaW5pc2hlZEJ1aWxkaW5nQWxsUGFnZXNPYmplY3RVUkxzOiAoKSA9PiB7XG4gICAgbG9nUHJvdmlkZXJXYXJuaW5nKGBpc0ZpbmlzaGVkQnVpbGRpbmdBbGxQYWdlc09iamVjdFVSTHMoKWAsICdQYWdlUmVuZGVyQ29udGV4dCcpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgYnVpbGRPYmplY3RVUkxGb3JQYWdlOiBhcmdzID0+IHtcbiAgICBsb2dQcm92aWRlcldhcm5pbmcoYGJ1aWxkT2JqZWN0VVJMRm9yUGFnZSgke0pTT04uc3RyaW5naWZ5KGFyZ3MpfSlgLCAnUGFnZVJlbmRlckNvbnRleHQnKTtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCcnKTtcbiAgfSxcbn0pO1xuXG5leHBvcnQgZnVuY3Rpb24gdXNlUGFnZVJlbmRlckNvbnRleHRQcm9wcyh7XG4gIHBkZkRvY1Byb3h5LFxuICBwaXhlbFJhdGlvLFxuICBzY2FsZSxcbiAgdmlzaWJsZVBhZ2VSYXRpb3MsXG59OiB7XG4gIHBkZkRvY1Byb3h5PzogcGRmanMuUERGRG9jdW1lbnRQcm94eTtcbiAgcGl4ZWxSYXRpbzogbnVtYmVyO1xuICBzY2FsZTogbnVtYmVyO1xuICB2aXNpYmxlUGFnZVJhdGlvczogTWFwPG51bWJlciwgVmlzaWJsZUVudHJ5RGV0YWlsVHlwZT47XG59KTogSVBhZ2VSZW5kZXJDb250ZXh0IHtcbiAgY29uc3QgW3BhZ2VSZW5kZXJTdGF0ZXMsIF9zZXRQYWdlUmVuZGVyU3RhdGVzXSA9IFJlYWN0LnVzZVN0YXRlPFBhZ2VOdW1iZXJUb1JlbmRlclN0YXRlTWFwPihcbiAgICAoKSA9PiB7XG4gICAgICBjb25zdCBtYXAgPSBuZXcgTWFwKCk7XG4gICAgICBPYmplY3QuZnJlZXplKG1hcCk7XG4gICAgICByZXR1cm4gbWFwO1xuICAgIH1cbiAgKTtcblxuICAvLyBCZWNhdXNlIHJlbmRlcmluZyBhIHBhZ2UgaXMgYXN5bmMsIHdlIHdpbGwgbG9zZSB0aGUgY3VycmVudCBwYWdlUmVuZGVyU3RhdGVzXG4gIC8vIFRoaXMgcmVmIHRyaWNrIGFsbG93cyB0aGUgbGF0ZXN0IHRvIGJlIGFjY2Vzc2libGUgd2hlbiB0aGUgb2JqZWN0VVJMIGlzIHJlYWR5XG4gIGNvbnN0IHBhZ2VSZW5kZXJTdGF0ZXNSZWYgPSBSZWFjdC51c2VSZWYocGFnZVJlbmRlclN0YXRlcyk7XG4gIGNvbnN0IHNldFBhZ2VSZW5kZXJTdGF0ZXMgPSBSZWFjdC51c2VDYWxsYmFjayhcbiAgICAocGFnZVJlbmRlclN0YXRlczogUGFnZU51bWJlclRvUmVuZGVyU3RhdGVNYXApID0+IHtcbiAgICAgIHBhZ2VSZW5kZXJTdGF0ZXNSZWYuY3VycmVudCA9IHBhZ2VSZW5kZXJTdGF0ZXM7XG4gICAgICBfc2V0UGFnZVJlbmRlclN0YXRlcyhwYWdlUmVuZGVyU3RhdGVzKTtcbiAgICB9LFxuICAgIFtwYWdlUmVuZGVyU3RhdGVzUmVmXVxuICApO1xuXG4gIGNvbnN0IGlzQnVpbGRpbmdPYmplY3RVUkxGb3JQYWdlID0gUmVhY3QudXNlQ2FsbGJhY2soXG4gICAgKHsgcGFnZU51bWJlciwgcGFnZUluZGV4IH06IFBhZ2VOdW1iZXIpOiBib29sZWFuID0+IHtcbiAgICAgIGlmICh0eXBlb2YgcGFnZUluZGV4ID09PSAnbnVtYmVyJykge1xuICAgICAgICBwYWdlTnVtYmVyID0gcGFnZUluZGV4ICsgMTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgcGFnZU51bWJlciAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgY29uc3Qgc3RhdGUgPSBwYWdlUmVuZGVyU3RhdGVzLmdldChwYWdlTnVtYmVyKTtcbiAgICAgIGlmICghc3RhdGUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuICFzdGF0ZS5vYmplY3RVUkw7XG4gICAgfSxcbiAgICBbcGFnZVJlbmRlclN0YXRlc11cbiAgKTtcblxuICBjb25zdCBpc0ZpbmlzaGVkQnVpbGRpbmdBbGxQYWdlc09iamVjdFVSTHMgPSBSZWFjdC51c2VDYWxsYmFjaygoKTogYm9vbGVhbiA9PiB7XG4gICAgaWYgKCFwZGZEb2NQcm94eSkgcmV0dXJuIGZhbHNlO1xuICAgIGZvciAobGV0IHBhZ2VOdW1iZXIgPSAxOyBwYWdlTnVtYmVyIDw9IHBkZkRvY1Byb3h5Lm51bVBhZ2VzOyBwYWdlTnVtYmVyKyspIHtcbiAgICAgIGlmICghcGFnZVJlbmRlclN0YXRlcy5nZXQocGFnZU51bWJlcik/Lm9iamVjdFVSTCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9LCBbcGRmRG9jUHJveHksIHBhZ2VSZW5kZXJTdGF0ZXNdKTtcblxuICBjb25zdCBnZXRPYmplY3RVUkxGb3JQYWdlID0gUmVhY3QudXNlQ2FsbGJhY2soXG4gICAgKHsgcGFnZU51bWJlciwgcGFnZUluZGV4IH06IFBhZ2VOdW1iZXIpOiBOdWxsYWJsZTxzdHJpbmc+ID0+IHtcbiAgICAgIGlmICh0eXBlb2YgcGFnZUluZGV4ID09PSAnbnVtYmVyJykge1xuICAgICAgICBwYWdlTnVtYmVyID0gcGFnZUluZGV4ICsgMTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgcGFnZU51bWJlciAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4gcGFnZVJlbmRlclN0YXRlcy5nZXQocGFnZU51bWJlcik/Lm9iamVjdFVSTCB8fCBudWxsO1xuICAgIH0sXG4gICAgW3BhZ2VSZW5kZXJTdGF0ZXNdXG4gICk7XG5cbiAgY29uc3QgYnVpbGRPYmplY3RVUkxGb3JQYWdlID0gUmVhY3QudXNlQ2FsbGJhY2soXG4gICAgKHsgcGFnZU51bWJlciwgcGFnZUluZGV4IH06IFBhZ2VOdW1iZXIpOiBQcm9taXNlPHN0cmluZz4gPT4ge1xuICAgICAgaWYgKHR5cGVvZiBwYWdlSW5kZXggPT09ICdudW1iZXInKSB7XG4gICAgICAgIHBhZ2VOdW1iZXIgPSBwYWdlSW5kZXggKyAxO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBwYWdlTnVtYmVyICE9PSAnbnVtYmVyJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb3AgXCJwYWdlTnVtYmVyXCIgaXMgbm90IGEgbnVtYmVyJyk7XG4gICAgICB9XG4gICAgICBpZiAoIXBkZkRvY1Byb3h5KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignY2Fubm90IGJ1aWxkIGEgcGFnZSB1bnRpbCBhIFwicGRmRG9jUHJveHlcIiBpcyBzZXQgb24gRG9jdW1lbnRDb250ZXh0Jyk7XG4gICAgICB9XG5cbiAgICAgIC8vIERvbid0IG5lZWQgdG8gc3RhcnQgYW5vdGhlciB0YXNrIGlmIGFscmVhZHkgcmVuZGVyZWRcbiAgICAgIGNvbnN0IGV4aXN0aW5nUHJvbWlzZSA9IHBhZ2VSZW5kZXJTdGF0ZXMuZ2V0KHBhZ2VOdW1iZXIpPy5wcm9taXNlO1xuICAgICAgaWYgKGV4aXN0aW5nUHJvbWlzZSkge1xuICAgICAgICByZXR1cm4gZXhpc3RpbmdQcm9taXNlO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBwcm9taXNlID0gYnVpbGRQYWdlT2JqZWN0VVJMKHtcbiAgICAgICAgcGFnZU51bWJlcixcbiAgICAgICAgcGRmRG9jUHJveHksXG4gICAgICAgIHBpeGVsUmF0aW8sXG4gICAgICAgIHNjYWxlLFxuICAgICAgICBwcm9taXNlVGltZXN0YW1wOiBmbHVzaFRpbWVzdGFtcCxcbiAgICAgIH0pO1xuICAgICAgY29uc3QgcmVuZGVyU3RhdGU6IFJlbmRlclN0YXRlID0ge1xuICAgICAgICBwcm9taXNlLFxuICAgICAgICBvYmplY3RVUkw6IG51bGwsXG4gICAgICB9O1xuICAgICAgcHJvbWlzZS50aGVuKG9iamVjdFVSTCA9PiB7XG4gICAgICAgIGlmICghb2JqZWN0VVJMKSByZXR1cm47XG4gICAgICAgIHJlbmRlclN0YXRlLm9iamVjdFVSTCA9IG9iamVjdFVSTDtcbiAgICAgICAgY29uc3QgbmV3UGFnZVJlbmRlclN0YXRlcyA9IG5ldyBNYXAocGFnZVJlbmRlclN0YXRlc1JlZi5jdXJyZW50KTtcbiAgICAgICAgT2JqZWN0LmZyZWV6ZShuZXdQYWdlUmVuZGVyU3RhdGVzKTtcbiAgICAgICAgc2V0UGFnZVJlbmRlclN0YXRlcyhuZXdQYWdlUmVuZGVyU3RhdGVzKTtcbiAgICAgIH0pO1xuICAgICAgY29uc3QgbmV3UGFnZVJlbmRlclN0YXRlcyA9IG5ldyBNYXAocGFnZVJlbmRlclN0YXRlc1JlZi5jdXJyZW50KTtcbiAgICAgIG5ld1BhZ2VSZW5kZXJTdGF0ZXMuc2V0KHBhZ2VOdW1iZXIsIHJlbmRlclN0YXRlKTtcbiAgICAgIE9iamVjdC5mcmVlemUobmV3UGFnZVJlbmRlclN0YXRlcyk7XG4gICAgICBzZXRQYWdlUmVuZGVyU3RhdGVzKG5ld1BhZ2VSZW5kZXJTdGF0ZXMpO1xuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfSxcbiAgICBbcGFnZVJlbmRlclN0YXRlcywgcGRmRG9jUHJveHksIHNjYWxlXVxuICApO1xuXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgdmlzaWJsZVBhZ2VzID0gWy4uLnZpc2libGVQYWdlUmF0aW9zLmtleXMoKV07XG4gICAgaWYgKCFwZGZEb2NQcm94eSB8fCBbLi4ucGFnZVJlbmRlclN0YXRlcy5rZXlzKCldLmxlbmd0aCA9PT0gcGRmRG9jUHJveHkubnVtUGFnZXMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBwcmlvcml0eVF1ZXVlID0gZ2V0UHJpb3JpdHlRdWV1ZSh2aXNpYmxlUGFnZXMsIHBkZkRvY1Byb3h5Lm51bVBhZ2VzKTtcbiAgICBmb3IgKGNvbnN0IHBhZ2VOdW1iZXIgb2YgcHJpb3JpdHlRdWV1ZSkge1xuICAgICAgYnVpbGRPYmplY3RVUkxGb3JQYWdlKHsgcGFnZU51bWJlciB9KTtcbiAgICB9XG4gIH0sIFtwYWdlUmVuZGVyU3RhdGVzLCBwZGZEb2NQcm94eSwgdmlzaWJsZVBhZ2VSYXRpb3NdKTtcblxuICAvLyBGbHVzaCBwYWdlIHJlbmRlciBzdGF0ZXMgd2hlbiBzY2FsZSBjaGFuZ2VzXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gQ2xlYW4gbWVtb3J5IG9mIG9sZCBnZW5lcmF0ZWQgaW1hZ2VzXG4gICAgZm9yIChjb25zdCBbLCByZW5kZXJTdGF0ZV0gb2YgcGFnZVJlbmRlclN0YXRlc1JlZi5jdXJyZW50KSB7XG4gICAgICBpZiAocmVuZGVyU3RhdGUub2JqZWN0VVJMKSB7XG4gICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwocmVuZGVyU3RhdGUub2JqZWN0VVJMKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBpZiBjdXJyZW50IGFzeW5jIHByb21pc2VzIGRvbnQgaGF2ZSB0aGlzIHRpbWVzdGFtcCwgdGhlbiB3ZSBmbHVzaCB0aGVtXG4gICAgZmx1c2hUaW1lc3RhbXAgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblxuICAgIC8vIENsZWFyIGFsbCBwYWdlIHJlbmRlciBzdGF0ZXMsIHNvIHBhZ2VzIGNhbiByZWJ1aWxkIGltYWdlc1xuICAgIGNvbnN0IG5ld1BhZ2VSZW5kZXJTdGF0ZXMgPSBuZXcgTWFwKCk7XG4gICAgT2JqZWN0LmZyZWV6ZShuZXdQYWdlUmVuZGVyU3RhdGVzKTtcbiAgICBzZXRQYWdlUmVuZGVyU3RhdGVzKG5ld1BhZ2VSZW5kZXJTdGF0ZXMpO1xuICB9LCBbc2NhbGUsIHBpeGVsUmF0aW9dKTtcblxuICByZXR1cm4ge1xuICAgIHBhZ2VSZW5kZXJTdGF0ZXMsXG4gICAgZ2V0T2JqZWN0VVJMRm9yUGFnZSxcbiAgICBpc0J1aWxkaW5nT2JqZWN0VVJMRm9yUGFnZSxcbiAgICBpc0ZpbmlzaGVkQnVpbGRpbmdBbGxQYWdlc09iamVjdFVSTHMsXG4gICAgYnVpbGRPYmplY3RVUkxGb3JQYWdlLFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TmVpZ2hib3JpbmdQYWdlcyhwYWdlczogbnVtYmVyW10sIG51bVRvdGFsUGFnZXM6IG51bWJlcik6IG51bWJlcltdIHtcbiAgcmV0dXJuIHBhZ2VzLmxlbmd0aCA9PT0gMFxuICAgID8gW11cbiAgICA6IFtNYXRoLm1heCgxLCBwYWdlc1swXSAtIDEpLCBNYXRoLm1pbihudW1Ub3RhbFBhZ2VzLCBwYWdlc1twYWdlcy5sZW5ndGggLSAxXSArIDEpXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFByaW9yaXR5UXVldWUodmlzaWJsZVBhZ2VzOiBudW1iZXJbXSwgbnVtUGFnZXM6IG51bWJlcik6IG51bWJlcltdIHtcbiAgY29uc3QgdmlzaWJsZVBhZ2VzTmVpZ2hib3JzID0gZ2V0TmVpZ2hib3JpbmdQYWdlcyh2aXNpYmxlUGFnZXMsIG51bVBhZ2VzKTtcbiAgY29uc3QgYWxsUGFnZXMgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiBudW1QYWdlcyB9LCAoXywgaSkgPT4gaSArIDEpO1xuICBjb25zdCBwcmlvcml0eVF1ZXVlID0gbmV3IFNldChbLi4udmlzaWJsZVBhZ2VzLCAuLi52aXNpYmxlUGFnZXNOZWlnaGJvcnMsIC4uLmFsbFBhZ2VzXSk7IC8vIHB1dCBpbnRvIHNldCB0byByZW1vdmUgZHVwbGljYXRzXG4gIHJldHVybiBBcnJheS5mcm9tKHByaW9yaXR5UXVldWUpOyAvLyBjb252ZXJ0IHNldCB0byBhcnJheVxufVxuXG4vLyBUaGlzIGJvb3N0IGNhdXNlcyB0aGUgcmVuZGVyZWQgaW1hZ2UgdG8gYmUgc2NhbGVkIHVwIGJ5IHRoaXMgYW1vdW50XG5jb25zdCBTQ0FMRV9CT09TVCA9IDI7XG5cbi8vIEdlbmVyYXRlIGFuIG9iamVjdCB1cmwgZm9yIGEgZ2l2ZW4gcGFnZSwgcmVuZGVyZWQgaW4gYSBzaGFyZWQgY2FudmFzXG5hc3luYyBmdW5jdGlvbiBidWlsZFBhZ2VPYmplY3RVUkwoe1xuICBwYWdlTnVtYmVyLFxuICBwZGZEb2NQcm94eSxcbiAgcGl4ZWxSYXRpbyA9ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIDogbnVsbCkgfHwgMCxcbiAgc2NhbGUgPSAxLFxuICBpbWFnZVR5cGUgPSAnaW1hZ2UvcG5nJyxcbiAgaW1hZ2VRdWFsaXR5ID0gMS4wLFxuICBwcm9taXNlVGltZXN0YW1wLFxufToge1xuICBwYWdlTnVtYmVyOiBudW1iZXI7XG4gIHBkZkRvY1Byb3h5OiBwZGZqcy5QREZEb2N1bWVudFByb3h5O1xuICBwaXhlbFJhdGlvPzogbnVtYmVyO1xuICBzY2FsZT86IG51bWJlcjtcbiAgaW1hZ2VUeXBlPzogc3RyaW5nO1xuICBpbWFnZVF1YWxpdHk/OiBudW1iZXI7XG4gIHByb21pc2VUaW1lc3RhbXA6IG51bWJlcjtcbn0pOiBQcm9taXNlPHN0cmluZz4ge1xuICBjb25zdCBwYWdlUHJveHkgPSBhd2FpdCBwZGZEb2NQcm94eS5nZXRQYWdlKHBhZ2VOdW1iZXIpO1xuXG4gIGNvbnN0IGJsb2I6IE51bGxhYmxlPEJsb2I+IHwgbnVtYmVyID0gYXdhaXQgdXNlUmVuZGVyQ2FudmFzKGFzeW5jIGNhbnZhcyA9PiB7XG4gICAgaWYgKHByb21pc2VUaW1lc3RhbXAgIT09IGZsdXNoVGltZXN0YW1wKSB7XG4gICAgICByZXR1cm4gcHJvbWlzZVRpbWVzdGFtcDsgLy8gZmx1c2ggc3RhbGUgcHJvbWlzZVxuICAgIH1cbiAgICAvLyBSZW5kZXIgcGFnZSBpbiBhIGNhbnZhc1xuICAgIGNvbnN0IHZpZXdwb3J0ID0gcGFnZVByb3h5LmdldFZpZXdwb3J0KHsgc2NhbGU6IHNjYWxlICogcGl4ZWxSYXRpbyAqIFNDQUxFX0JPT1NUIH0pO1xuICAgIGNhbnZhcy5oZWlnaHQgPSB2aWV3cG9ydC5oZWlnaHQ7XG4gICAgY2FudmFzLndpZHRoID0gdmlld3BvcnQud2lkdGg7XG4gICAgY29uc3QgY2FudmFzQ29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIGlmICghY2FudmFzQ29udGV4dCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdjYW52YXMgd2FzIHVuYWJsZSB0byBnZXQgYSBjb250ZXh0Jyk7XG4gICAgfVxuXG4gICAgY29uc3QgcmVuZGVyVGFzayA9IHBhZ2VQcm94eS5yZW5kZXIoe1xuICAgICAgY2FudmFzQ29udGV4dCxcbiAgICAgIHZpZXdwb3J0LFxuICAgICAgaW50ZW50OiAncHJpbnQnLCAvLyBpbW1lZGlhdGVseSByZW5kZXIgcGFnZXMgb24gaW5hY3RpdmUgcGFnZXNcbiAgICB9KTtcbiAgICBhd2FpdCByZW5kZXJUYXNrLnByb21pc2U7XG5cbiAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTYpKTtcblxuICAgIC8vIEZldGNoIGEgYmxvYiBmb3IgYW4gaW1hZ2Ugb2YgdGhlIGNhbnZhc1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjYW52YXMudG9CbG9iKGJsb2IgPT4gcmVzb2x2ZShibG9iKSwgaW1hZ2VUeXBlLCBpbWFnZVF1YWxpdHkpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG5cbiAgaWYgKHR5cGVvZiBibG9iID09PSAnbnVtYmVyJykge1xuICAgIHJldHVybiAnJztcbiAgfVxuICAvLyBDb252ZXJ0IGJsb2IgaW1hZ2UgdG8gb2JqZWN0IHVybFxuICBpZiAoIWJsb2IpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3VuYWJsZSB0byBjcmVhdGUgaW1hZ2UgZnJvbSBwYWdlJyk7XG4gIH1cbiAgcmV0dXJuIFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG59XG5cbmxldCByZW5kZXJDYW52YXM6IE51bGxhYmxlPEhUTUxDYW52YXNFbGVtZW50PiA9IG51bGw7XG5cbi8vIEdldCBvciBjcmVhdGUgYSBzaGFyZWQgY2FudmFzIGZvciByZW5kZXJpbmcgcGFnZXMgaW5cbmZ1bmN0aW9uIGdldFJlbmRlckNhbnZhcygpOiBIVE1MQ2FudmFzRWxlbWVudCB7XG4gIGlmICghcmVuZGVyQ2FudmFzKSB7XG4gICAgcmVuZGVyQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gIH1cbiAgcmV0dXJuIHJlbmRlckNhbnZhcztcbn1cblxubGV0IGZsdXNoVGltZXN0YW1wID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG5sZXQgbmV4dENhbnZhc1VzZTogUHJvbWlzZTxhbnk+ID0gUHJvbWlzZS5yZXNvbHZlKCk7XG5cbi8vIFVzZSB0aGUgc2hhcmVkIGNhbnZhcyB0byByZW5kZXIgYSBwYWdlLCB1c2luZyBwcm9taXNlcyB0byBjcmVhdGUgYSBxdWV1ZVxuYXN5bmMgZnVuY3Rpb24gdXNlUmVuZGVyQ2FudmFzPFQ+KGNhbGxiYWNrOiAoY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCkgPT4gUHJvbWlzZTxUPik6IFByb21pc2U8VD4ge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWVtcHR5LWZ1bmN0aW9uXG4gIGxldCByZXNvbHZlID0gKF92YWx1ZTogVCB8IFByb21pc2VMaWtlPFQ+KSA9PiB7fTtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1lbXB0eS1mdW5jdGlvblxuICBsZXQgcmVqZWN0ID0gKF9yZWFzb246IGFueSkgPT4ge307XG4gIGNvbnN0IHByb20gPSBuZXcgUHJvbWlzZTxUPigoX3Jlc29sdmUsIF9yZWplY3QpID0+IHtcbiAgICByZXNvbHZlID0gX3Jlc29sdmU7XG4gICAgcmVqZWN0ID0gX3JlamVjdDtcbiAgfSk7XG4gIG5leHRDYW52YXNVc2UgPSBuZXh0Q2FudmFzVXNlLnRoZW4oKCkgPT4gY2FsbGJhY2soZ2V0UmVuZGVyQ2FudmFzKCkpLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KSk7XG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHByb207XG4gIGF3YWl0IG5ldyBQcm9taXNlKHJlcyA9PiBzZXRUaW1lb3V0KHJlcywgMTYpKTsgLy8gR2l2ZSBzb21lIHRpbWUgYmV0d2VlbiByZW5kZXJzXG4gIHJldHVybiByZXN1bHQ7XG59XG4iLCJpbXBvcnQgY2xhc3NuYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFBhZ2UgfSBmcm9tICdyZWFjdC1wZGYnO1xuXG5pbXBvcnQgeyBEb2N1bWVudENvbnRleHQgfSBmcm9tICcuLi9jb250ZXh0L0RvY3VtZW50Q29udGV4dCc7XG5pbXBvcnQgeyBQYWdlUmVuZGVyQ29udGV4dCB9IGZyb20gJy4uL2NvbnRleHQvUGFnZVJlbmRlckNvbnRleHQnO1xuaW1wb3J0IHsgVHJhbnNmb3JtQ29udGV4dCB9IGZyb20gJy4uL2NvbnRleHQvVHJhbnNmb3JtQ29udGV4dCc7XG5pbXBvcnQgeyBVaUNvbnRleHQgfSBmcm9tICcuLi9jb250ZXh0L1VpQ29udGV4dCc7XG5pbXBvcnQgeyBnZXRDbGFzc05hbWVTdWZmaXhGcm9tUmVuZGVyVHlwZSwgUmVuZGVyVHlwZSB9IGZyb20gJy4uL3V0aWxzL3JlYWRlci11dGlscyc7XG5pbXBvcnQgeyBnZW5lcmF0ZVBhZ2VJZEZyb21JbmRleCB9IGZyb20gJy4uL3V0aWxzL3Njcm9sbCc7XG5pbXBvcnQgeyBjb21wdXRlUGFnZVN0eWxlLCBnZXRQYWdlV2lkdGggfSBmcm9tICcuLi91dGlscy9zdHlsZSc7XG5pbXBvcnQgeyBIaWdobGlnaHRPdmVybGF5IH0gZnJvbSAnLi9IaWdobGlnaHRPdmVybGF5JztcbmltcG9ydCB7IE92ZXJsYXkgfSBmcm9tICcuL092ZXJsYXknO1xuXG50eXBlIFJlbmRlckZ1bmN0aW9uID0gKHByb3BzOiBhbnkpID0+IFJlYWN0LlJlYWN0Tm9kZTtcblxuLyoqXG4gKiBBIHN1YnNldCBvZiByZWFjdC1wZGYncyBQYWdlIGNvbXBvbmVudCBwcm9wcyBleHBvc2VkIGJ5IHRoaXMgd3JhcHBlclxuICovXG5leHBvcnQgdHlwZSBQYWdlUHJvcHMgPSB7XG4gIGVycm9yPzogc3RyaW5nIHwgUmVhY3QuUmVhY3RFbGVtZW50IHwgUmVuZGVyRnVuY3Rpb247XG4gIGxvYWRpbmc/OiBzdHJpbmcgfCBSZWFjdC5SZWFjdEVsZW1lbnQgfCBSZW5kZXJGdW5jdGlvbjtcbiAgbm9EYXRhPzogc3RyaW5nIHwgUmVhY3QuUmVhY3RFbGVtZW50IHwgUmVuZGVyRnVuY3Rpb247XG4gIHBhZ2VJbmRleDogbnVtYmVyO1xufTtcblxuZXhwb3J0IHR5cGUgUHJvcHMgPSB7XG4gIGNsYXNzTmFtZT86IHN0cmluZztcbiAgbG9hZGluZ0NvbnRlbnRGb3JCdWlsZGluZ0ltYWdlPzogUmVhY3QuUmVhY3RFbGVtZW50O1xuICBjaGlsZHJlbj86IFJlYWN0LlJlYWN0RWxlbWVudDx0eXBlb2YgSGlnaGxpZ2h0T3ZlcmxheSB8IHR5cGVvZiBPdmVybGF5PjtcbiAgcmVuZGVyVHlwZTogUmVuZGVyVHlwZTtcbn0gJiBQYWdlUHJvcHM7XG5cbmV4cG9ydCBjb25zdCBQYWdlV3JhcHBlcjogUmVhY3QuRnVuY3Rpb25Db21wb25lbnQ8UHJvcHM+ID0gKHtcbiAgY2hpbGRyZW4sXG4gIGVycm9yLFxuICBsb2FkaW5nLFxuICBsb2FkaW5nQ29udGVudEZvckJ1aWxkaW5nSW1hZ2UsXG4gIG5vRGF0YSxcbiAgcGFnZUluZGV4LFxuICByZW5kZXJUeXBlLFxuICAuLi5leHRyYVByb3BzXG59OiBQcm9wcykgPT4ge1xuICBjb25zdCB7IHJvdGF0aW9uLCBzY2FsZSB9ID0gUmVhY3QudXNlQ29udGV4dChUcmFuc2Zvcm1Db250ZXh0KTtcbiAgY29uc3QgeyBwYWdlRGltZW5zaW9ucywgZ2V0T3V0bGluZVRhcmdldHMsIHNldE51bVBhZ2VzTG9hZGVkIH0gPVxuICAgIFJlYWN0LnVzZUNvbnRleHQoRG9jdW1lbnRDb250ZXh0KTtcbiAgY29uc3QgeyBnZXRPYmplY3RVUkxGb3JQYWdlLCBpc0J1aWxkaW5nT2JqZWN0VVJMRm9yUGFnZSB9ID0gUmVhY3QudXNlQ29udGV4dChQYWdlUmVuZGVyQ29udGV4dCk7XG4gIGNvbnN0IHsgaXNMb2FkaW5nIH0gPSBSZWFjdC51c2VDb250ZXh0KFVpQ29udGV4dCk7XG5cbiAgY29uc3Qgb2JqZWN0VVJMRm9yUGFnZSA9IGdldE9iamVjdFVSTEZvclBhZ2UoeyBwYWdlSW5kZXggfSk7XG4gIGNvbnN0IGlzQnVpbGRpbmdQYWdlSW1hZ2UgPSBpc0J1aWxkaW5nT2JqZWN0VVJMRm9yUGFnZSh7IHBhZ2VJbmRleCB9KTtcblxuICAvLyBEb24ndCBkaXNwbGF5IHVudGlsIHdlIGhhdmUgcGFnZSBzaXplIGRhdGFcbiAgLy8gVE9ETzogSGFuZGxlIHRoaXMgbmljZXIgc28gd2UgZGlzcGxheSBlaXRoZXIgdGhlIGxvYWRpbmcgb3IgZXJyb3IgdHJlYXRtZW50XG4gIGlmICghcGFnZURpbWVuc2lvbnMpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGNvbnN0IGdldFBhZ2VTdHlsZSA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBjb25zdCBzdHlsZXM6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0gY29tcHV0ZVBhZ2VTdHlsZShwYWdlRGltZW5zaW9ucywgcm90YXRpb24sIHNjYWxlKTtcbiAgICBpZiAob2JqZWN0VVJMRm9yUGFnZSkge1xuICAgICAgc3R5bGVzLmJhY2tncm91bmRJbWFnZSA9IGB1cmwoJHtvYmplY3RVUkxGb3JQYWdlfSlgO1xuICAgIH1cbiAgICByZXR1cm4gc3R5bGVzO1xuICB9LCBbcGFnZURpbWVuc2lvbnMsIHJvdGF0aW9uLCBzY2FsZSwgb2JqZWN0VVJMRm9yUGFnZV0pO1xuXG4gIGNvbnN0IGdldFdpZHRoID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHJldHVybiBnZXRQYWdlV2lkdGgocGFnZURpbWVuc2lvbnMsIHJvdGF0aW9uKTtcbiAgfSwgW3BhZ2VEaW1lbnNpb25zLCByb3RhdGlvbl0pO1xuXG4gIGNvbnN0IG91dGxpbmVUYXJnZXRzID0gZ2V0T3V0bGluZVRhcmdldHMoe1xuICAgIHBhZ2VJbmRleCxcbiAgICBzY2FsZSxcbiAgICByb3RhdGlvbixcbiAgICBwYWdlRGltZW5zaW9ucyxcbiAgfSk7XG5cbiAgY29uc3QgbWFya1BhZ2VBc0xvYWRlZCA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBzZXROdW1QYWdlc0xvYWRlZChwcmV2TnVtUGFnZXNMb2FkZWQgPT4gcHJldk51bVBhZ2VzTG9hZGVkICsgMSk7XG4gIH0sIFtdKTtcblxuICAvLyBXaWR0aCBuZWVkcyB0byBiZSBzZXQgdG8gcHJldmVudCB0aGUgb3V0ZXJtb3N0IFBhZ2UgZGl2IGZyb20gZXh0ZW5kaW5nIHRvIGZpdCB0aGUgcGFyZW50LFxuICAvLyBhbmQgbWlzLWFsaWduaW5nIHRoZSB0ZXh0IGxheWVyLlxuICAvLyBUT0RPOiBDYW4gd2UgQ1NTIHRoaXMgdG8gYXV0by1zaHJpbms/XG4gIHJldHVybiAoXG4gICAgPGRpdlxuICAgICAgaWQ9e2dlbmVyYXRlUGFnZUlkRnJvbUluZGV4KHBhZ2VJbmRleCl9XG4gICAgICBjbGFzc05hbWU9e2NsYXNzbmFtZXMoXG4gICAgICAgICdwZGYtcmVhZGVyX19wYWdlJyxcbiAgICAgICAgeyAncGRmLXJlYWRlcl9fcGFnZS0taGFzLXBhZ2UtaW1hZ2UnOiBvYmplY3RVUkxGb3JQYWdlIH0sXG4gICAgICAgIHsgJ3BkZi1yZWFkZXJfX3BhZ2UtLW5vLXBhZ2UtaW1hZ2UnOiAhb2JqZWN0VVJMRm9yUGFnZSB9LFxuICAgICAgICBgcGRmLXJlYWRlcl9fcGFnZS0tcmVuZGVyLXR5cGUtJHtnZXRDbGFzc05hbWVTdWZmaXhGcm9tUmVuZGVyVHlwZShyZW5kZXJUeXBlKX1gLFxuICAgICAgICB7ICdwZGYtcmVhZGVyX19pcy1idWlsZGluZy1wYWdlLWltYWdlJzogaXNCdWlsZGluZ1BhZ2VJbWFnZSB9XG4gICAgICApfVxuICAgICAgZGF0YS1wYWdlLW51bWJlcj17cGFnZUluZGV4ICsgMX1cbiAgICAgIHN0eWxlPXtnZXRQYWdlU3R5bGUoKX1cbiAgICAgIHsuLi5leHRyYVByb3BzfT5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICAgIHtpc0J1aWxkaW5nUGFnZUltYWdlICYmICFpc0xvYWRpbmcgJiYgKFxuICAgICAgICA8ZGl2XG4gICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc25hbWVzKCdwZGYtcmVhZGVyX19wYWdlJywge1xuICAgICAgICAgICAgJ3BkZi1yZWFkZXJfX3BhZ2UtLWlzLWxvYWRpbmctaW1hZ2UnOiBpc0J1aWxkaW5nUGFnZUltYWdlLFxuICAgICAgICAgIH0pfT5cbiAgICAgICAgICB7bG9hZGluZ0NvbnRlbnRGb3JCdWlsZGluZ0ltYWdlfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgICA8UGFnZVxuICAgICAgICB3aWR0aD17Z2V0V2lkdGgoKX1cbiAgICAgICAgZXJyb3I9e2Vycm9yfVxuICAgICAgICBsb2FkaW5nPXtsb2FkaW5nfVxuICAgICAgICBub0RhdGE9e25vRGF0YX1cbiAgICAgICAgcGFnZUluZGV4PXtwYWdlSW5kZXh9XG4gICAgICAgIHNjYWxlPXtzY2FsZX1cbiAgICAgICAgcm90YXRlPXtyb3RhdGlvbn1cbiAgICAgICAgcmVuZGVyQW5ub3RhdGlvbkxheWVyPXt0cnVlfVxuICAgICAgICBvbkdldFRleHRTdWNjZXNzPXttYXJrUGFnZUFzTG9hZGVkfVxuICAgICAgLz5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGRmLXJlYWRlcl9fcGFnZV9fb3V0bGluZS10YXJnZXRzXCI+XG4gICAgICAgIHtvdXRsaW5lVGFyZ2V0cy5tYXAoKHsgZGVzdCwgbGVmdFB4LCB0b3BQeCB9KSA9PiAoXG4gICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgIGtleT17ZGVzdH1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInBkZi1yZWFkZXJfX3BhZ2VfX291dGxpbmUtdGFyZ2V0XCJcbiAgICAgICAgICAgIGRhdGEtb3V0bGluZS10YXJnZXQtZGVzdD17ZGVzdH1cbiAgICAgICAgICAgIGRhdGEtdGVzdC1pZD1cInBkZi1yZWFkZXJfX3BhZ2VfX291dGxpbmUtdGFyZ2V0XCJcbiAgICAgICAgICAgIHN0eWxlPXt7IGxlZnQ6IGxlZnRQeCArICdweCcsIHRvcDogdG9wUHggKyAncHgnIH19XG4gICAgICAgICAgLz5cbiAgICAgICAgKSl9XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCB0eXBlIFByb3BzID0ge1xuICBjbGFzc05hbWU/OiBzdHJpbmc7XG4gIGNoaWxkcmVuPzogUmVhY3QuUmVhY3ROb2RlO1xufTtcblxuLyoqXG4gKiBIVE1MIGFuY2hvciB0YWcgYWxsb3dzIHlvdSB0byBkb3dubG9hZCBhIGZpbGUgZnJvbSB0aGUgc2FtZSBvcmlnaW4uXG4gKiBUaGlzIGlzIGEgd29ya2Fyb3VuZCB0byBkb3dubG9hZCBhIGZpbGUgc2VydmVkIGZyb20gYSBkaWZmZXJlbnQgb3JpZ2luXG4gKi9cbmV4cG9ydCBjb25zdCBQcmludEJ1dHRvbjogUmVhY3QuRnVuY3Rpb25Db21wb25lbnQ8UHJvcHM+ID0gKHtcbiAgY2hpbGRyZW4sXG4gIGNsYXNzTmFtZSxcbiAgLi4uZXh0cmFQcm9wc1xufTogUHJvcHMpID0+IHtcbiAgcmV0dXJuIChcbiAgICA8YnV0dG9uXG4gICAgICBvbkNsaWNrPXsoKSA9PiBvbkNsaWNrUHJpbnQoKX1cbiAgICAgIGFyaWEtbGFiZWw9XCJQcmludCBQREZcIlxuICAgICAgY2xhc3NOYW1lPXtgcGRmLXJlYWRlcl9fcHJpbnQtYnRuICR7Y2xhc3NOYW1lfWB9XG4gICAgICB7Li4uZXh0cmFQcm9wc30+XG4gICAgICB7Y2hpbGRyZW4gPyBjaGlsZHJlbiA6ICdQcmludCd9XG4gICAgPC9idXR0b24+XG4gICk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gb25DbGlja1ByaW50KCk6IHZvaWQge1xuICB3aW5kb3cucHJpbnQoKTtcbn1cbiIsIi8vIFRoaXMgZnVuY3Rpb24gcmV0dXJucyBtaW4gb3IgbWF4IGlmIHZhbHVlIGV4Y2VlZHMgdGhlIHJhbmdlLCBvdGhlcndpc2Vcbi8vIHRoZSBvcmlnaW5hbCB2YWx1ZSBpcyByZXR1cm5lZFxuZXhwb3J0IGNvbnN0IGJhbmRQYXNzRmlsdGVyID0gKHZhbHVlOiBudW1iZXIsIG1pbjogbnVtYmVyLCBtYXg6IG51bWJlcik6IG51bWJlciA9PiB7XG4gIHJldHVybiBNYXRoLm1pbihNYXRoLm1heCh2YWx1ZSwgbWluKSwgbWF4KTtcbn07XG4iLCJpbXBvcnQgY2xhc3NuYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHsgYmFuZFBhc3NGaWx0ZXIgfSBmcm9tICcuLi91dGlscy91dGlsJztcblxuY29uc3QgREVGQVVMVF9NSU5fV0lEVEhfUFggPSAzMDA7XG5jb25zdCBERUZBVUxUX01BWF9XSURUSF9QWCA9IDcwMDtcblxuZXhwb3J0IHR5cGUgUHJvcHMgPSB7XG4gIG1pbldpZHRoUHg/OiBudW1iZXI7XG4gIG1heFdpZHRoUHg/OiBudW1iZXI7XG4gIGNsYXNzTmFtZT86IHN0cmluZztcbiAgY2hpbGRyZW4/OiBSZWFjdC5SZWFjdE5vZGU7XG4gIGhlYWRlcj86IHN0cmluZyB8IFJlYWN0LlJlYWN0RWxlbWVudDtcbiAgY29udGVudD86IHN0cmluZyB8IFJlYWN0LlJlYWN0RWxlbWVudDtcbiAgZm9vdGVyPzogc3RyaW5nIHwgUmVhY3QuUmVhY3RFbGVtZW50O1xuICBpc1Zpc2libGU/OiBib29sZWFuO1xuICBkcmFnSGFuZGxlUG9zaXRpb24/OiBzdHJpbmc7XG4gIGNsb3NlQnV0dG9uPzogYm9vbGVhbiB8IFJlYWN0LlJlYWN0RWxlbWVudDtcbiAgb25DbG9zZT86ICgpID0+IHZvaWQ7XG59O1xuXG5leHBvcnQgY29uc3QgU2lkZVBhbmVsOiBSZWFjdC5GdW5jdGlvbkNvbXBvbmVudDxQcm9wcz4gPSAoe1xuICBtaW5XaWR0aFB4ID0gREVGQVVMVF9NSU5fV0lEVEhfUFgsXG4gIG1heFdpZHRoUHggPSBERUZBVUxUX01BWF9XSURUSF9QWCxcbiAgY2xhc3NOYW1lLFxuICBjaGlsZHJlbixcbiAgaGVhZGVyLFxuICBjb250ZW50LFxuICBmb290ZXIsXG4gIGRyYWdIYW5kbGVQb3NpdGlvbixcbiAgY2xvc2VCdXR0b24sXG4gIGlzVmlzaWJsZSA9IHRydWUsXG4gIG9uQ2xvc2UsXG4gIC4uLmV4dHJhUHJvcHNcbn06IFByb3BzKSA9PiB7XG4gIC8vIFRoZSBvdmVybGF5IGlzIHVzZWQgdG8gY2F0Y2ggbW91c2UgdXAgZXZlbnRzIG92ZXIgaWZyYW1lIGNvbnRlbnRzXG4gIC8vIHNvIHRoZSBtb3VzZXVwIGV2ZW50cyB3aWxsIG5vdCBiZSBtaXNzZWQgaWYgdGhlIGNsaWNrIGlzIHJlbGVhc2VkIG92ZXJcbiAgLy8gdGhlIGlmcmFtZSBhbmQgdGhlIGV2ZW50IGxpc3RlbmVycyB3aWxsIGZhaWwgdG8gYmUgcmVtb3ZlZFxuICBjb25zdCBbaXNPdmVybGF5VmlzaWJsZSwgc2V0SXNPdmVybGF5VmlzaWJsZV0gPSBSZWFjdC51c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XG4gIGNvbnN0IFtwYW5lbFdpZHRoLCBzZXRQYW5lbFdpZHRoXSA9IFJlYWN0LnVzZVN0YXRlPG51bWJlcj4obWluV2lkdGhQeCk7XG4gIGNvbnN0IHNpZGVQYW5lbFJlZiA9IFJlYWN0LnVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7XG4gIGNvbnN0IGRyYWdIYW5kbGVSZWYgPSBSZWFjdC51c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xuXG4gIGNvbnN0IHJlbmRlckNsb3NlQnV0dG9uID0gKCkgPT4ge1xuICAgIGlmICh0eXBlb2YgY2xvc2VCdXR0b24gPT09ICdib29sZWFuJykge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJwZGYtcmVhZGVyX19zaWRlLXBhbmVsLWNsb3NlLWJ1dHRvblwiIG9uQ2xpY2s9e29uQ2xvc2V9PlxuICAgICAgICAgIHhcbiAgICAgICAgPC9idXR0b24+XG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gY2xvc2VCdXR0b247XG4gIH07XG5cbiAgY29uc3QgcmVuZGVyRHJhZ0hhbmRsZSA9ICgpID0+IHtcbiAgICBjb25zdCBpc0RyYWdIYW5kbGVPbkxlZnQgPSBkcmFnSGFuZGxlUG9zaXRpb24gPT09ICdsZWZ0JztcbiAgICBjb25zdCBpc0RyYWdIYW5kbGVPblJpZ2h0ID0gZHJhZ0hhbmRsZVBvc2l0aW9uID09PSAncmlnaHQnO1xuICAgIGlmICghaXNEcmFnSGFuZGxlT25MZWZ0ICYmICFpc0RyYWdIYW5kbGVPblJpZ2h0KSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBjb25zdCBvbk1vdXNlTW92ZSA9IChtb3VzZU1vdmVFdmVudDogTW91c2VFdmVudCk6IHZvaWQgPT4ge1xuICAgICAgaWYgKCFzaWRlUGFuZWxSZWYgfHwgIXNpZGVQYW5lbFJlZi5jdXJyZW50KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgbmV3V2lkdGggPVxuICAgICAgICBkcmFnSGFuZGxlUG9zaXRpb24gPT09ICdsZWZ0J1xuICAgICAgICAgID8gc2lkZVBhbmVsUmVmLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkucmlnaHQgLSBtb3VzZU1vdmVFdmVudC5wYWdlWFxuICAgICAgICAgIDogbW91c2VNb3ZlRXZlbnQucGFnZVggLSBzaWRlUGFuZWxSZWYuY3VycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0O1xuXG4gICAgICBzZXRQYW5lbFdpZHRoKGJhbmRQYXNzRmlsdGVyKG5ld1dpZHRoLCBtaW5XaWR0aFB4LCBtYXhXaWR0aFB4KSk7XG4gICAgfTtcblxuICAgIGNvbnN0IG9uTW91c2VVcCA9ICgpOiB2b2lkID0+IHtcbiAgICAgIC8vIGRyb3Agb3BhY2l0eSBzdHlsaW5nIG9uIGRyYWcgaGFuZGxlXG4gICAgICBpZiAoZHJhZ0hhbmRsZVJlZiAmJiBkcmFnSGFuZGxlUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgZHJhZ0hhbmRsZVJlZi5jdXJyZW50LnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcbiAgICAgIH1cbiAgICAgIHNldElzT3ZlcmxheVZpc2libGUoZmFsc2UpO1xuICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBvbk1vdXNlTW92ZSk7XG4gICAgfTtcblxuICAgIGNvbnN0IG9uRHJhZ2dpbmdIYW5kbGUgPSAoKTogdm9pZCA9PiB7XG4gICAgICAvLyBwcmV2ZW50IGZsYXNoaW5nIHdoZW4gdGhlIG1vdXNlIGhvdmVycyBvdXRzaWRlIHRoZSByZXNpemUgem9uZVxuICAgICAgaWYgKGRyYWdIYW5kbGVSZWYgJiYgZHJhZ0hhbmRsZVJlZi5jdXJyZW50KSB7XG4gICAgICAgIGRyYWdIYW5kbGVSZWYuY3VycmVudC5zdHlsZS5vcGFjaXR5ID0gJzEnO1xuICAgICAgfVxuXG4gICAgICBzZXRJc092ZXJsYXlWaXNpYmxlKHRydWUpO1xuICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBvbk1vdXNlTW92ZSk7XG4gICAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBvbk1vdXNlVXAsIHsgb25jZTogdHJ1ZSB9KTtcbiAgICB9O1xuXG4gICAgY29uc3Qgb25DaGFuZ2VQYW5lbFdpZHRoID0gKGV2ZW50OiBSZWFjdC5DaGFuZ2VFdmVudDxIVE1MSW5wdXRFbGVtZW50Pik6IHZvaWQgPT4ge1xuICAgICAgY29uc3QgbmV3V2lkdGggPSBwYXJzZUludChldmVudC5jdXJyZW50VGFyZ2V0LnZhbHVlKTtcbiAgICAgIHNldFBhbmVsV2lkdGgoYmFuZFBhc3NGaWx0ZXIobmV3V2lkdGgsIG1pbldpZHRoUHgsIG1heFdpZHRoUHgpKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXZcbiAgICAgICAgY2xhc3NOYW1lPXtjbGFzc25hbWVzKCdwZGYtcmVhZGVyX19yZXNpemUtem9uZScsIHtcbiAgICAgICAgICAncGRmLXJlYWRlcl9fcmVzaXplLXpvbmUtLWxlZnQnOiBpc0RyYWdIYW5kbGVPbkxlZnQsXG4gICAgICAgICAgJ3BkZi1yZWFkZXJfX3Jlc2l6ZS16b25lLS1yaWdodCc6IGlzRHJhZ0hhbmRsZU9uUmlnaHQsXG4gICAgICAgIH0pfT5cbiAgICAgICAgPGlucHV0XG4gICAgICAgICAgY2xhc3NOYW1lPVwicGRmLXJlYWRlcl9fZHJhZy1oYW5kbGVfX2Fzc2lzdGl2ZS1pbnB1dFwiXG4gICAgICAgICAgdHlwZT1cInJhbmdlXCJcbiAgICAgICAgICBtaW49e21pbldpZHRoUHh9XG4gICAgICAgICAgbWF4PXttYXhXaWR0aFB4fVxuICAgICAgICAgIHN0ZXA9XCI1XCJcbiAgICAgICAgICB2YWx1ZT17cGFuZWxXaWR0aH1cbiAgICAgICAgICBvbkNoYW5nZT17b25DaGFuZ2VQYW5lbFdpZHRofVxuICAgICAgICAvPlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgcmVmPXtkcmFnSGFuZGxlUmVmfVxuICAgICAgICAgIHJvbGU9XCJzbGlkZXJcIlxuICAgICAgICAgIGFyaWEtdmFsdWVub3c9e3BhbmVsV2lkdGh9XG4gICAgICAgICAgdGFiSW5kZXg9ey0xfVxuICAgICAgICAgIG9uTW91c2VEb3duPXtvbkRyYWdnaW5nSGFuZGxlfVxuICAgICAgICAgIGNsYXNzTmFtZT1cInBkZi1yZWFkZXJfX2RyYWctaGFuZGxlXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwZGYtcmVhZGVyX19kcmFnLWhhbmRsZV9faW5uZXJcIiAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2XG4gICAgICByZWY9e3NpZGVQYW5lbFJlZn1cbiAgICAgIHN0eWxlPXt7IHdpZHRoOiBwYW5lbFdpZHRoIH19XG4gICAgICBjbGFzc05hbWU9e2NsYXNzbmFtZXMoXG4gICAgICAgICdwZGYtcmVhZGVyX19zaWRlLXBhbmVsJyxcbiAgICAgICAgeyAncGRmLXJlYWRlcl9fc2lkZS1wYW5lbC0taGlkZGVuJzogIWlzVmlzaWJsZSB9LFxuICAgICAgICBjbGFzc05hbWVcbiAgICAgICl9XG4gICAgICB7Li4uZXh0cmFQcm9wc30+XG4gICAgICB7cmVuZGVyRHJhZ0hhbmRsZSgpfVxuICAgICAge2Nsb3NlQnV0dG9uICYmIHJlbmRlckNsb3NlQnV0dG9uKCl9XG4gICAgICB7aGVhZGVyICYmIDxoMiBjbGFzc05hbWU9XCJwZGYtcmVhZGVyX19zaWRlLXBhbmVsLXRpdGxlXCI+e2hlYWRlcn08L2gyPn1cbiAgICAgIHtjb250ZW50ICYmIDxkaXYgY2xhc3NOYW1lPVwicGRmLXJlYWRlcl9fc2lkZS1wYW5lbC1jb250ZW50XCI+e2NvbnRlbnR9PC9kaXY+fVxuICAgICAge2Zvb3RlciAmJiA8ZGl2IGNsYXNzTmFtZT1cInBkZi1yZWFkZXJfX3NpZGUtcGFuZWwtZm9vdGVyXCI+e2Zvb3Rlcn08L2Rpdj59XG4gICAgICB7Y2hpbGRyZW59XG4gICAgICB7aXNPdmVybGF5VmlzaWJsZSAmJiA8ZGl2IGNsYXNzTmFtZT1cInBkZi1yZWFkZXJfX3NpZGUtcGFuZWwtb3ZlcmxheVwiIC8+fVxuICAgIDwvZGl2PlxuICApO1xufTtcbiIsImltcG9ydCBjbGFzc25hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgeyBQYWdlUmVuZGVyQ29udGV4dCB9IGZyb20gJy4uLy4uL2NvbnRleHQvUGFnZVJlbmRlckNvbnRleHQnO1xuaW1wb3J0IHsgU2Nyb2xsQ29udGV4dCB9IGZyb20gJy4uLy4uL2NvbnRleHQvU2Nyb2xsQ29udGV4dCc7XG5pbXBvcnQgeyBnZXRNYXhWaXNpYmxlRWxlbWVudCB9IGZyb20gJy4uLy4uL3V0aWxzL01heFZpc2libGVFbGVtZW50JztcbmltcG9ydCB7IE51bGxhYmxlIH0gZnJvbSAnLi4vdHlwZXMvdXRpbHMnO1xuXG50eXBlIFByb3BzID0ge1xuICBwYWdlTnVtYmVyOiBudW1iZXI7XG59O1xuXG5leHBvcnQgY29uc3QgVGh1bWJuYWlsOiBSZWFjdC5GdW5jdGlvbkNvbXBvbmVudDxQcm9wcz4gPSAoeyBwYWdlTnVtYmVyIH06IFByb3BzKSA9PiB7XG4gIGNvbnN0IHsgZ2V0T2JqZWN0VVJMRm9yUGFnZSB9ID0gUmVhY3QudXNlQ29udGV4dChQYWdlUmVuZGVyQ29udGV4dCk7XG4gIGNvbnN0IHsgaXNQYWdlVmlzaWJsZSwgc2Nyb2xsVG9QYWdlLCB2aXNpYmxlUGFnZVJhdGlvcyB9ID0gUmVhY3QudXNlQ29udGV4dChTY3JvbGxDb250ZXh0KTtcbiAgY29uc3QgW21heFZpc2libGVQYWdlTnVtYmVyLCBzZXRNYXhWaXNpYmxlUGFnZU51bWJlcl0gPSBSZWFjdC51c2VTdGF0ZTxOdWxsYWJsZTxzdHJpbmc+PihudWxsKTtcbiAgY29uc3Qgb2JqZWN0VVJMID0gZ2V0T2JqZWN0VVJMRm9yUGFnZSh7IHBhZ2VOdW1iZXIgfSk7XG5cbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAodmlzaWJsZVBhZ2VSYXRpb3Muc2l6ZSAhPT0gMCkge1xuICAgICAgY29uc3QgbWF4ID0gZ2V0TWF4VmlzaWJsZUVsZW1lbnQodmlzaWJsZVBhZ2VSYXRpb3MpO1xuICAgICAgaWYgKG1heCkge1xuICAgICAgICBzZXRNYXhWaXNpYmxlUGFnZU51bWJlcihtYXgudG9TdHJpbmcoKSk7XG4gICAgICB9XG4gICAgfVxuICB9LCBbdmlzaWJsZVBhZ2VSYXRpb3NdKTtcblxuICBjb25zdCBpc1RodW1ibmFpbFZpc2libGUgPVxuICAgIG1heFZpc2libGVQYWdlTnVtYmVyICYmXG4gICAgcGFyc2VJbnQobWF4VmlzaWJsZVBhZ2VOdW1iZXIpID09PSBwYWdlTnVtYmVyICYmXG4gICAgaXNQYWdlVmlzaWJsZSh7IHBhZ2VOdW1iZXIgfSk7XG5cbiAgY29uc3Qgb25DbGljayA9IFJlYWN0LnVzZUNhbGxiYWNrKFxuICAgIGV2ZW50ID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBzY3JvbGxUb1BhZ2UoeyBwYWdlTnVtYmVyIH0pO1xuICAgIH0sXG4gICAgW3BhZ2VOdW1iZXIsIHNjcm9sbFRvUGFnZV1cbiAgKTtcblxuICByZXR1cm4gKFxuICAgIDxhXG4gICAgICBhcmlhLWxhYmVsPXtgc2Nyb2xsIHRvIHBhZ2UgJHtwYWdlTnVtYmVyfWB9XG4gICAgICBocmVmPXtgIyR7cGFnZU51bWJlcn1gfVxuICAgICAgb25DbGljaz17b25DbGlja31cbiAgICAgIGNsYXNzTmFtZT17Y2xhc3NuYW1lcyhcbiAgICAgICAgJ3BkZi1yZWFkZXJfX3RodW1ibmFpbCcsXG4gICAgICAgIHsgJ3BkZi1yZWFkZXJfX3RodW1ibmFpbC0tbm8taW1hZ2UnOiAhb2JqZWN0VVJMIH0sXG4gICAgICAgIHsgJ3BkZi1yZWFkZXJfX3RodW1ibmFpbC0taXMtdmlzaWJsZSc6IGlzVGh1bWJuYWlsVmlzaWJsZSB9XG4gICAgICApfVxuICAgICAgZGF0YS1wYWdlLW51bWJlcj17cGFnZU51bWJlcn1cbiAgICAgIGRhdGEtdGVzdC1pZD1cInRodW1ibmFpbC1saW5rXCI+XG4gICAgICB7ISFvYmplY3RVUkwgJiYgPGltZyBjbGFzc05hbWU9XCJwZGYtcmVhZGVyX190aHVtYm5haWwtaW1hZ2VcIiBzcmM9e29iamVjdFVSTH0gLz59XG4gICAgPC9hPlxuICApO1xufTtcbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHsgRG9jdW1lbnRDb250ZXh0IH0gZnJvbSAnLi4vLi4vY29udGV4dC9Eb2N1bWVudENvbnRleHQnO1xuaW1wb3J0IHsgVGh1bWJuYWlsIH0gZnJvbSAnLi9UaHVtYm5haWwnO1xuXG50eXBlIFByb3BzID0gYW55O1xuXG5leHBvcnQgY29uc3QgVGh1bWJuYWlsTGlzdDogUmVhY3QuRnVuY3Rpb25Db21wb25lbnQ8UHJvcHM+ID0gKCkgPT4ge1xuICBjb25zdCB7IG51bVBhZ2VzIH0gPSBSZWFjdC51c2VDb250ZXh0KERvY3VtZW50Q29udGV4dCk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBkZi1yZWFkZXJfX3RodW1ibmFpbC1saXN0LXdyYXBwZXJcIj5cbiAgICAgIDx1bCBjbGFzc05hbWU9XCJwZGYtcmVhZGVyX190aHVtYm5haWwtbGlzdFwiPlxuICAgICAgICB7QXJyYXkuZnJvbSh7IGxlbmd0aDogbnVtUGFnZXMgfSkubWFwKChfLCBwYWdlSW5kZXgpID0+IChcbiAgICAgICAgICA8bGkga2V5PXtwYWdlSW5kZXggKyAxfSBjbGFzc05hbWU9XCJwZGYtcmVhZGVyX190aHVtYm5haWwtbGlzdF9faXRlbVwiPlxuICAgICAgICAgICAgPFRodW1ibmFpbCBwYWdlTnVtYmVyPXtwYWdlSW5kZXggKyAxfSAvPlxuICAgICAgICAgIDwvbGk+XG4gICAgICAgICkpfVxuICAgICAgPC91bD5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG4iLCJleHBvcnQgY29uc3QgUGVyY2VudEZvcm1hdHRlciA9IG5ldyBJbnRsLk51bWJlckZvcm1hdCgnZW4tVVMnLCB7XG4gIHN0eWxlOiAncGVyY2VudCcsXG4gIG1heGltdW1TaWduaWZpY2FudERpZ2l0czogMyxcbn0pO1xuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgeyBUcmFuc2Zvcm1Db250ZXh0IH0gZnJvbSAnLi4vY29udGV4dC9UcmFuc2Zvcm1Db250ZXh0JztcbmltcG9ydCB7IFBlcmNlbnRGb3JtYXR0ZXIgfSBmcm9tICcuLi91dGlscy9mb3JtYXQnO1xuXG5leHBvcnQgdHlwZSBQcm9wcyA9IHtcbiAgY2xhc3NOYW1lPzogc3RyaW5nO1xuICBjaGlsZHJlbj86IFJlYWN0LlJlYWN0Tm9kZTtcbiAgb25ab29tPzogKHNjYWxlOiBudW1iZXIpID0+IHZvaWQ7XG59O1xuXG5jb25zdCBNQVhfWk9PTV9JTl9TQ0FMRSA9IDUwMDtcblxuZXhwb3J0IGNvbnN0IFpvb21JbkJ1dHRvbjogUmVhY3QuRnVuY3Rpb25Db21wb25lbnQ8UHJvcHM+ID0gKHtcbiAgY2xhc3NOYW1lLFxuICBjaGlsZHJlbixcbiAgb25ab29tLFxuICAuLi5leHRyYVByb3BzXG59OiBQcm9wcykgPT4ge1xuICBjb25zdCB7IHNjYWxlLCBzZXRTY2FsZSwgem9vbUluY3JlbWVudFZhbHVlIH0gPSBSZWFjdC51c2VDb250ZXh0KFRyYW5zZm9ybUNvbnRleHQpO1xuXG4gIGNvbnN0IGhhbmRsZVpvb21JbiA9IFJlYWN0LnVzZUNhbGxiYWNrKFxuICAgIChldmVudCk6IHZvaWQgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgY29uc3QgbmV3U2NhbGVWYWx1ZSA9IHNjYWxlICsgem9vbUluY3JlbWVudFZhbHVlO1xuICAgICAgY29uc3Qgem9vbVNjYWxlID0gTnVtYmVyKFBlcmNlbnRGb3JtYXR0ZXIuZm9ybWF0KG5ld1NjYWxlVmFsdWUpLnJlcGxhY2UoJyUnLCAnJykpO1xuXG4gICAgICBpZiAoem9vbVNjYWxlIDw9IE1BWF9aT09NX0lOX1NDQUxFKSB7XG4gICAgICAgIGlmIChvblpvb20pIHtcbiAgICAgICAgICBvblpvb20obmV3U2NhbGVWYWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBzZXRTY2FsZShuZXdTY2FsZVZhbHVlKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIFtzY2FsZV1cbiAgKTtcblxuICByZXR1cm4gKFxuICAgIDxidXR0b25cbiAgICAgIGNsYXNzTmFtZT17YHJlYWRlcl9fem9vbS1idG4gem9vbS1pbiAke2NsYXNzTmFtZX1gfVxuICAgICAgb25DbGljaz17aGFuZGxlWm9vbUlufVxuICAgICAgey4uLmV4dHJhUHJvcHN9PlxuICAgICAge2NoaWxkcmVuID8gY2hpbGRyZW4gOiAnKyd9XG4gICAgPC9idXR0b24+XG4gICk7XG59O1xuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgeyBUcmFuc2Zvcm1Db250ZXh0IH0gZnJvbSAnLi4vY29udGV4dC9UcmFuc2Zvcm1Db250ZXh0JztcbmltcG9ydCB7IFBlcmNlbnRGb3JtYXR0ZXIgfSBmcm9tICcuLi91dGlscy9mb3JtYXQnO1xuXG5leHBvcnQgdHlwZSBQcm9wcyA9IHtcbiAgY2xhc3NOYW1lPzogc3RyaW5nO1xuICBjaGlsZHJlbj86IFJlYWN0LlJlYWN0Tm9kZTtcbiAgb25ab29tPzogKHNjYWxlOiBudW1iZXIpID0+IHZvaWQ7XG59O1xuXG5jb25zdCBNSU5fWk9PTV9PVVRfU0NBTEUgPSAyMDtcblxuZXhwb3J0IGNvbnN0IFpvb21PdXRCdXR0b246IFJlYWN0LkZ1bmN0aW9uQ29tcG9uZW50ID0gKHtcbiAgY2xhc3NOYW1lLFxuICBjaGlsZHJlbixcbiAgb25ab29tLFxuICAuLi5leHRyYVByb3BzXG59OiBQcm9wcykgPT4ge1xuICBjb25zdCB7IHNjYWxlLCBzZXRTY2FsZSwgem9vbUluY3JlbWVudFZhbHVlIH0gPSBSZWFjdC51c2VDb250ZXh0KFRyYW5zZm9ybUNvbnRleHQpO1xuXG4gIGNvbnN0IGhhbmRsZVpvb21PdXQgPSBSZWFjdC51c2VDYWxsYmFjayhcbiAgICAoZXZlbnQpOiB2b2lkID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGNvbnN0IG5ld1NjYWxlVmFsdWUgPSBzY2FsZSAtIHpvb21JbmNyZW1lbnRWYWx1ZTtcbiAgICAgIGNvbnN0IHpvb21TY2FsZSA9IE51bWJlcihQZXJjZW50Rm9ybWF0dGVyLmZvcm1hdChuZXdTY2FsZVZhbHVlKS5yZXBsYWNlKCclJywgJycpKTtcblxuICAgICAgaWYgKHpvb21TY2FsZSA+PSBNSU5fWk9PTV9PVVRfU0NBTEUpIHtcbiAgICAgICAgaWYgKG9uWm9vbSkge1xuICAgICAgICAgIG9uWm9vbShuZXdTY2FsZVZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRTY2FsZShuZXdTY2FsZVZhbHVlKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIFtzY2FsZV1cbiAgKTtcblxuICByZXR1cm4gKFxuICAgIDxidXR0b25cbiAgICAgIGNsYXNzTmFtZT17YHJlYWRlcl9fem9vbS1idG4gem9vbS1vdXQgJHtjbGFzc05hbWV9YH1cbiAgICAgIG9uQ2xpY2s9e2hhbmRsZVpvb21PdXR9XG4gICAgICB7Li4uZXh0cmFQcm9wc30+XG4gICAgICB7Y2hpbGRyZW4gPyBjaGlsZHJlbiA6ICctJ31cbiAgICA8L2J1dHRvbj5cbiAgKTtcbn07XG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IERvY3VtZW50Q29udGV4dCwgdXNlRG9jdW1lbnRDb250ZXh0UHJvcHMgfSBmcm9tICcuL0RvY3VtZW50Q29udGV4dCc7XG5pbXBvcnQgeyBQYWdlUmVuZGVyQ29udGV4dCwgdXNlUGFnZVJlbmRlckNvbnRleHRQcm9wcyB9IGZyb20gJy4vUGFnZVJlbmRlckNvbnRleHQnO1xuaW1wb3J0IHsgU2Nyb2xsQ29udGV4dCwgdXNlU2Nyb2xsQ29udGV4dFByb3BzIH0gZnJvbSAnLi9TY3JvbGxDb250ZXh0JztcbmltcG9ydCB7IFRyYW5zZm9ybUNvbnRleHQsIHVzZVRyYW5zZm9ybUNvbnRleHRQcm9wcyB9IGZyb20gJy4vVHJhbnNmb3JtQ29udGV4dCc7XG5pbXBvcnQgeyBVaUNvbnRleHQsIHVzZVVpQ29udGV4dFByb3BzIH0gZnJvbSAnLi9VaUNvbnRleHQnO1xuXG5leHBvcnQgdHlwZSBQcm9wcyA9IHtcbiAgY2hpbGRyZW4/OiBSZWFjdC5SZWFjdEVsZW1lbnQgfCBBcnJheTxSZWFjdC5SZWFjdEVsZW1lbnQ+O1xufTtcblxuZXhwb3J0IGNvbnN0IENvbnRleHRQcm92aWRlcjogUmVhY3QuRnVuY3Rpb25Db21wb25lbnQ8UHJvcHM+ID0gKHsgY2hpbGRyZW4gfTogUHJvcHMpID0+IHtcbiAgY29uc3QgZG9jdW1lbnRQcm9wcyA9IHVzZURvY3VtZW50Q29udGV4dFByb3BzKCk7XG4gIGNvbnN0IHRyYW5zZm9ybVByb3BzID0gdXNlVHJhbnNmb3JtQ29udGV4dFByb3BzKCk7XG4gIGNvbnN0IHVpUHJvcHMgPSB1c2VVaUNvbnRleHRQcm9wcygpO1xuICBjb25zdCBzY3JvbGxQcm9wcyA9IHVzZVNjcm9sbENvbnRleHRQcm9wcygpO1xuICBjb25zdCBwYWdlUmVuZGVyUHJvcHMgPSB1c2VQYWdlUmVuZGVyQ29udGV4dFByb3BzKHtcbiAgICBwZGZEb2NQcm94eTogZG9jdW1lbnRQcm9wcy5wZGZEb2NQcm94eSxcbiAgICBwaXhlbFJhdGlvOiB0cmFuc2Zvcm1Qcm9wcy5waXhlbFJhdGlvLFxuICAgIHNjYWxlOiB0cmFuc2Zvcm1Qcm9wcy5zY2FsZSxcbiAgICB2aXNpYmxlUGFnZVJhdGlvczogc2Nyb2xsUHJvcHMudmlzaWJsZVBhZ2VSYXRpb3MsXG4gIH0pO1xuXG4gIHJldHVybiAoXG4gICAgPERvY3VtZW50Q29udGV4dC5Qcm92aWRlciB2YWx1ZT17ZG9jdW1lbnRQcm9wc30+XG4gICAgICA8VHJhbnNmb3JtQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17dHJhbnNmb3JtUHJvcHN9PlxuICAgICAgICA8VWlDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXt1aVByb3BzfT5cbiAgICAgICAgICA8U2Nyb2xsQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17c2Nyb2xsUHJvcHN9PlxuICAgICAgICAgICAgPFBhZ2VSZW5kZXJDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXtwYWdlUmVuZGVyUHJvcHN9PlxuICAgICAgICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgICAgICA8L1BhZ2VSZW5kZXJDb250ZXh0LlByb3ZpZGVyPlxuICAgICAgICAgIDwvU2Nyb2xsQ29udGV4dC5Qcm92aWRlcj5cbiAgICAgICAgPC9VaUNvbnRleHQuUHJvdmlkZXI+XG4gICAgICA8L1RyYW5zZm9ybUNvbnRleHQuUHJvdmlkZXI+XG4gICAgPC9Eb2N1bWVudENvbnRleHQuUHJvdmlkZXI+XG4gICk7XG59O1xuIiwiLypcbiAqIFBERiBDb21wb25lbnQgTGlicmFyeSBleHBvcnRzXG4gKi9cblxuaW1wb3J0ICcuL2xlc3MvaW5kZXgubGVzcyc7XG5cbmltcG9ydCB7IEJvdW5kaW5nQm94LCBQcm9wcyBhcyBCb3VuZGluZ0JveFByb3BzIH0gZnJvbSAnLi9zcmMvY29tcG9uZW50cy9Cb3VuZGluZ0JveCc7XG5pbXBvcnQgeyBEb2N1bWVudFdyYXBwZXIsIFByb3BzIGFzIERvY3VtZW50V3JhcHBlclByb3BzIH0gZnJvbSAnLi9zcmMvY29tcG9uZW50cy9Eb2N1bWVudFdyYXBwZXInO1xuaW1wb3J0IHsgRG93bmxvYWRCdXR0b24sIFByb3BzIGFzIERvd25sb2FkQnV0dG9uUHJvcHMgfSBmcm9tICcuL3NyYy9jb21wb25lbnRzL0Rvd25sb2FkQnV0dG9uJztcbmltcG9ydCB7XG4gIEhpZ2hsaWdodE92ZXJsYXksXG4gIFByb3BzIGFzIEhpZ2hsaWdodE92ZXJsYXlQcm9wcyxcbn0gZnJvbSAnLi9zcmMvY29tcG9uZW50cy9IaWdobGlnaHRPdmVybGF5JztcbmltcG9ydCB7IEljb25GbGFnIH0gZnJvbSAnLi9zcmMvY29tcG9uZW50cy9pY29uL0ljb25GbGFnJztcbmltcG9ydCB7IEFycm93RmxhZyB9IGZyb20gJy4vc3JjL2NvbXBvbmVudHMvbWFya2VyL0Fycm93RmxhZyc7XG5pbXBvcnQgeyBBcnJvd0ZsYWdCYXNlLCBQT1NJVElPTiwgUG9zaXRpb25UeXBlIH0gZnJvbSAnLi9zcmMvY29tcG9uZW50cy9tYXJrZXIvQXJyb3dGbGFnQmFzZSc7XG5pbXBvcnQgeyBPdXRsaW5lIH0gZnJvbSAnLi9zcmMvY29tcG9uZW50cy9vdXRsaW5lL091dGxpbmUnO1xuaW1wb3J0IHsgT3V0bGluZUl0ZW0gfSBmcm9tICcuL3NyYy9jb21wb25lbnRzL291dGxpbmUvT3V0bGluZUl0ZW0nO1xuaW1wb3J0IHsgT3ZlcmxheSwgUHJvcHMgYXMgT3ZlcmxheVByb3BzIH0gZnJvbSAnLi9zcmMvY29tcG9uZW50cy9PdmVybGF5JztcbmltcG9ydCB7IFBhZ2VOdW1iZXJDb250cm9sIH0gZnJvbSAnLi9zcmMvY29tcG9uZW50cy9QYWdlTnVtYmVyQ29udHJvbCc7XG5pbXBvcnQgeyBQYWdlUHJvcHMsIFBhZ2VXcmFwcGVyLCBQcm9wcyBhcyBQYWdlV3JhcHBlclByb3BzIH0gZnJvbSAnLi9zcmMvY29tcG9uZW50cy9QYWdlV3JhcHBlcic7XG5pbXBvcnQgeyBQcmludEJ1dHRvbiwgUHJvcHMgYXMgUHJpbnRCdXR0b25Qcm9wcyB9IGZyb20gJy4vc3JjL2NvbXBvbmVudHMvUHJpbnRCdXR0b24nO1xuaW1wb3J0IHsgUHJvcHMgYXMgU2lkZVBhbmVsUHJvcHMsIFNpZGVQYW5lbCB9IGZyb20gJy4vc3JjL2NvbXBvbmVudHMvU2lkZVBhbmVsJztcbmltcG9ydCB7IFRodW1ibmFpbCB9IGZyb20gJy4vc3JjL2NvbXBvbmVudHMvdGh1bWJuYWlscy9UaHVtYm5haWwnO1xuaW1wb3J0IHsgVGh1bWJuYWlsTGlzdCB9IGZyb20gJy4vc3JjL2NvbXBvbmVudHMvdGh1bWJuYWlscy9UaHVtYm5haWxMaXN0JztcbmltcG9ydCB7XG4gIEJvdW5kaW5nQm94IGFzIEJvdW5kaW5nQm94VHlwZSxcbiAgRGltZW5zaW9ucyxcbiAgT3JpZ2luLFxuICBSYXdCb3VuZGluZ0JveCxcbiAgc2NhbGVSYXdCb3VuZGluZ0JveCxcbiAgU2l6ZSxcbn0gZnJvbSAnLi9zcmMvY29tcG9uZW50cy90eXBlcy9ib3VuZGluZ0JveCc7XG5pbXBvcnQgeyBOb2RlRGVzdGluYXRpb24sIE91dGxpbmVOb2RlIH0gZnJvbSAnLi9zcmMvY29tcG9uZW50cy90eXBlcy9vdXRsaW5lJztcbmltcG9ydCB7IFBhZ2VQcm9wZXJ0aWVzLCBQYWdlUmVmZXJlbmNlIH0gZnJvbSAnLi9zcmMvY29tcG9uZW50cy90eXBlcy9wYWdlJztcbmltcG9ydCB7IE51bGxhYmxlIH0gZnJvbSAnLi9zcmMvY29tcG9uZW50cy90eXBlcy91dGlscyc7XG5pbXBvcnQgeyBab29tSW5CdXR0b24gfSBmcm9tICcuL3NyYy9jb21wb25lbnRzL1pvb21JbkJ1dHRvbic7XG5pbXBvcnQgeyBab29tT3V0QnV0dG9uIH0gZnJvbSAnLi9zcmMvY29tcG9uZW50cy9ab29tT3V0QnV0dG9uJztcbmltcG9ydCB7IENvbnRleHRQcm92aWRlciwgUHJvcHMgYXMgQ29udGV4dFByb3ZpZGVyUHJvcHMgfSBmcm9tICcuL3NyYy9jb250ZXh0L0NvbnRleHRQcm92aWRlcic7XG5pbXBvcnQgeyBEb2N1bWVudENvbnRleHQsIElEb2N1bWVudENvbnRleHQgfSBmcm9tICcuL3NyYy9jb250ZXh0L0RvY3VtZW50Q29udGV4dCc7XG5pbXBvcnQgeyBJUGFnZVJlbmRlckNvbnRleHQsIFBhZ2VSZW5kZXJDb250ZXh0IH0gZnJvbSAnLi9zcmMvY29udGV4dC9QYWdlUmVuZGVyQ29udGV4dCc7XG5pbXBvcnQgeyBJU2Nyb2xsQ29udGV4dCwgU2Nyb2xsQ29udGV4dCB9IGZyb20gJy4vc3JjL2NvbnRleHQvU2Nyb2xsQ29udGV4dCc7XG5pbXBvcnQge1xuICBERUZBVUxUX1pPT01fU0NBTEUsXG4gIElUcmFuc2Zvcm1Db250ZXh0LFxuICBUcmFuc2Zvcm1Db250ZXh0LFxufSBmcm9tICcuL3NyYy9jb250ZXh0L1RyYW5zZm9ybUNvbnRleHQnO1xuaW1wb3J0IHsgSVVpQ29udGV4dCwgVWlDb250ZXh0IH0gZnJvbSAnLi9zcmMvY29udGV4dC9VaUNvbnRleHQnO1xuaW1wb3J0IHsgUGVyY2VudEZvcm1hdHRlciB9IGZyb20gJy4vc3JjL3V0aWxzL2Zvcm1hdCc7XG5pbXBvcnQgeyBSRU5ERVJfVFlQRSB9IGZyb20gJy4vc3JjL3V0aWxzL3JlYWRlci11dGlscyc7XG5pbXBvcnQge1xuICBpc1NpZGV3YXlzLFxuICBQYWdlUm90YXRpb24sXG4gIHJvdGF0ZUNsb2Nrd2lzZSxcbiAgcm90YXRlQ291bnRlckNsb2Nrd2lzZSxcbn0gZnJvbSAnLi9zcmMvdXRpbHMvcm90YXRlJztcbmltcG9ydCB7IGdlbmVyYXRlUGFnZUlkRnJvbUluZGV4LCBzY3JvbGxUb0lkLCBzY3JvbGxUb1BkZlBhZ2VJbmRleCB9IGZyb20gJy4vc3JjL3V0aWxzL3Njcm9sbCc7XG5pbXBvcnQge1xuICBjb21wdXRlQm91bmRpbmdCb3hTdHlsZSxcbiAgY29tcHV0ZVBhZ2VTdHlsZSxcbiAgZ2V0UGFnZUhlaWdodCxcbiAgZ2V0UGFnZVdpZHRoLFxufSBmcm9tICcuL3NyYy91dGlscy9zdHlsZSc7XG5cbmV4cG9ydCB0eXBlIHtcbiAgQm91bmRpbmdCb3hQcm9wcyxcbiAgQm91bmRpbmdCb3hUeXBlLFxuICBDb250ZXh0UHJvdmlkZXJQcm9wcyxcbiAgRGltZW5zaW9ucyxcbiAgRG9jdW1lbnRXcmFwcGVyUHJvcHMsXG4gIERvd25sb2FkQnV0dG9uUHJvcHMsXG4gIEhpZ2hsaWdodE92ZXJsYXlQcm9wcyxcbiAgSURvY3VtZW50Q29udGV4dCxcbiAgSVBhZ2VSZW5kZXJDb250ZXh0LFxuICBJU2Nyb2xsQ29udGV4dCxcbiAgSVRyYW5zZm9ybUNvbnRleHQsXG4gIElVaUNvbnRleHQsXG4gIE5vZGVEZXN0aW5hdGlvbixcbiAgTnVsbGFibGUsXG4gIE9yaWdpbixcbiAgT3V0bGluZU5vZGUsXG4gIE92ZXJsYXlQcm9wcyxcbiAgUGFnZVByb3BlcnRpZXMsXG4gIFBhZ2VQcm9wcyxcbiAgUGFnZVJlZmVyZW5jZSxcbiAgUGFnZVJvdGF0aW9uLFxuICBQYWdlV3JhcHBlclByb3BzLFxuICBQb3NpdGlvblR5cGUsXG4gIFByaW50QnV0dG9uUHJvcHMsXG4gIFJhd0JvdW5kaW5nQm94LFxuICBTaWRlUGFuZWxQcm9wcyxcbiAgU2l6ZSxcbn07XG5cbmV4cG9ydCB7XG4gIEFycm93RmxhZyxcbiAgQXJyb3dGbGFnQmFzZSxcbiAgQm91bmRpbmdCb3gsXG4gIGNvbXB1dGVCb3VuZGluZ0JveFN0eWxlLFxuICBjb21wdXRlUGFnZVN0eWxlLFxuICBDb250ZXh0UHJvdmlkZXIsXG4gIERFRkFVTFRfWk9PTV9TQ0FMRSxcbiAgRG9jdW1lbnRDb250ZXh0LFxuICBEb2N1bWVudFdyYXBwZXIsXG4gIERvd25sb2FkQnV0dG9uLFxuICBnZW5lcmF0ZVBhZ2VJZEZyb21JbmRleCxcbiAgZ2V0UGFnZUhlaWdodCxcbiAgZ2V0UGFnZVdpZHRoLFxuICBIaWdobGlnaHRPdmVybGF5LFxuICBJY29uRmxhZyxcbiAgaXNTaWRld2F5cyxcbiAgT3V0bGluZSxcbiAgT3V0bGluZUl0ZW0sXG4gIE92ZXJsYXksXG4gIFBhZ2VOdW1iZXJDb250cm9sLFxuICBQYWdlUmVuZGVyQ29udGV4dCxcbiAgUGFnZVdyYXBwZXIsXG4gIFBlcmNlbnRGb3JtYXR0ZXIsXG4gIFBPU0lUSU9OLFxuICBQcmludEJ1dHRvbixcbiAgUkVOREVSX1RZUEUsXG4gIHJvdGF0ZUNsb2Nrd2lzZSxcbiAgcm90YXRlQ291bnRlckNsb2Nrd2lzZSxcbiAgc2NhbGVSYXdCb3VuZGluZ0JveCxcbiAgU2Nyb2xsQ29udGV4dCxcbiAgc2Nyb2xsVG9JZCxcbiAgc2Nyb2xsVG9QZGZQYWdlSW5kZXgsXG4gIFNpZGVQYW5lbCxcbiAgVGh1bWJuYWlsLFxuICBUaHVtYm5haWxMaXN0LFxuICBUcmFuc2Zvcm1Db250ZXh0LFxuICBVaUNvbnRleHQsXG4gIFpvb21JbkJ1dHRvbixcbiAgWm9vbU91dEJ1dHRvbixcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgQm91bmRpbmdCb3gsXG4gIGNvbXB1dGVCb3VuZGluZ0JveFN0eWxlLFxuICBjb21wdXRlUGFnZVN0eWxlLFxuICBDb250ZXh0UHJvdmlkZXIsXG4gIERFRkFVTFRfWk9PTV9TQ0FMRSxcbiAgRG9jdW1lbnRDb250ZXh0LFxuICBEb2N1bWVudFdyYXBwZXIsXG4gIERvd25sb2FkQnV0dG9uLFxuICBBcnJvd0ZsYWcsXG4gIEFycm93RmxhZ0Jhc2UsXG4gIFByaW50QnV0dG9uLFxuICBnZW5lcmF0ZVBhZ2VJZEZyb21JbmRleCxcbiAgZ2V0UGFnZUhlaWdodCxcbiAgZ2V0UGFnZVdpZHRoLFxuICBIaWdobGlnaHRPdmVybGF5LFxuICBJY29uRmxhZyxcbiAgaXNTaWRld2F5cyxcbiAgT3V0bGluZSxcbiAgT3V0bGluZUl0ZW0sXG4gIE92ZXJsYXksXG4gIFBhZ2VOdW1iZXJDb250cm9sLFxuICBQYWdlUmVuZGVyQ29udGV4dCxcbiAgUGFnZVJvdGF0aW9uLFxuICBQYWdlV3JhcHBlcixcbiAgUE9TSVRJT04sXG4gIFNpZGVQYW5lbCxcbiAgUGVyY2VudEZvcm1hdHRlcixcbiAgUkVOREVSX1RZUEUsXG4gIHJvdGF0ZUNsb2Nrd2lzZSxcbiAgcm90YXRlQ291bnRlckNsb2Nrd2lzZSxcbiAgc2NhbGVSYXdCb3VuZGluZ0JveCxcbiAgc2Nyb2xsVG9JZCxcbiAgc2Nyb2xsVG9QZGZQYWdlSW5kZXgsXG4gIFRodW1ibmFpbCxcbiAgVGh1bWJuYWlsTGlzdCxcbiAgU2Nyb2xsQ29udGV4dCxcbiAgVHJhbnNmb3JtQ29udGV4dCxcbiAgVWlDb250ZXh0LFxuICBab29tSW5CdXR0b24sXG4gIFpvb21PdXRCdXR0b24sXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///337\n')},485:(module,exports)=>{eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString === Object.prototype.toString) {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif ( true && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (true) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {\n\t\t\treturn classNames;\n\t\t}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t} else {}\n}());\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDg1LmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLGdCQUFnQjs7QUFFaEI7QUFDQTs7QUFFQSxrQkFBa0Isc0JBQXNCO0FBQ3hDO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsS0FBSyxLQUE2QjtBQUNsQztBQUNBO0FBQ0EsR0FBRyxTQUFTLElBQTRFO0FBQ3hGO0FBQ0EsRUFBRSxpQ0FBcUIsRUFBRSxtQ0FBRTtBQUMzQjtBQUNBLEdBQUc7QUFBQSxrR0FBQztBQUNKLEdBQUcsS0FBSyxFQUVOO0FBQ0YsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL0BhbGxlbmFpL3BkZi1jb21wb25lbnRzLy4vbm9kZV9tb2R1bGVzL2NsYXNzbmFtZXMvaW5kZXguanM/NGQyNiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAgQ29weXJpZ2h0IChjKSAyMDE4IEplZCBXYXRzb24uXG4gIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZSAoTUlUKSwgc2VlXG4gIGh0dHA6Ly9qZWR3YXRzb24uZ2l0aHViLmlvL2NsYXNzbmFtZXNcbiovXG4vKiBnbG9iYWwgZGVmaW5lICovXG5cbihmdW5jdGlvbiAoKSB7XG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgaGFzT3duID0ge30uaGFzT3duUHJvcGVydHk7XG5cblx0ZnVuY3Rpb24gY2xhc3NOYW1lcygpIHtcblx0XHR2YXIgY2xhc3NlcyA9IFtdO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBhcmcgPSBhcmd1bWVudHNbaV07XG5cdFx0XHRpZiAoIWFyZykgY29udGludWU7XG5cblx0XHRcdHZhciBhcmdUeXBlID0gdHlwZW9mIGFyZztcblxuXHRcdFx0aWYgKGFyZ1R5cGUgPT09ICdzdHJpbmcnIHx8IGFyZ1R5cGUgPT09ICdudW1iZXInKSB7XG5cdFx0XHRcdGNsYXNzZXMucHVzaChhcmcpO1xuXHRcdFx0fSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGFyZykpIHtcblx0XHRcdFx0aWYgKGFyZy5sZW5ndGgpIHtcblx0XHRcdFx0XHR2YXIgaW5uZXIgPSBjbGFzc05hbWVzLmFwcGx5KG51bGwsIGFyZyk7XG5cdFx0XHRcdFx0aWYgKGlubmVyKSB7XG5cdFx0XHRcdFx0XHRjbGFzc2VzLnB1c2goaW5uZXIpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmIChhcmdUeXBlID09PSAnb2JqZWN0Jykge1xuXHRcdFx0XHRpZiAoYXJnLnRvU3RyaW5nID09PSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nKSB7XG5cdFx0XHRcdFx0Zm9yICh2YXIga2V5IGluIGFyZykge1xuXHRcdFx0XHRcdFx0aWYgKGhhc093bi5jYWxsKGFyZywga2V5KSAmJiBhcmdba2V5XSkge1xuXHRcdFx0XHRcdFx0XHRjbGFzc2VzLnB1c2goa2V5KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGFyZy50b1N0cmluZygpKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBjbGFzc2VzLmpvaW4oJyAnKTtcblx0fVxuXG5cdGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykge1xuXHRcdGNsYXNzTmFtZXMuZGVmYXVsdCA9IGNsYXNzTmFtZXM7XG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBjbGFzc05hbWVzO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGRlZmluZS5hbWQgPT09ICdvYmplY3QnICYmIGRlZmluZS5hbWQpIHtcblx0XHQvLyByZWdpc3RlciBhcyAnY2xhc3NuYW1lcycsIGNvbnNpc3RlbnQgd2l0aCBucG0gcGFja2FnZSBuYW1lXG5cdFx0ZGVmaW5lKCdjbGFzc25hbWVzJywgW10sIGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiBjbGFzc05hbWVzO1xuXHRcdH0pO1xuXHR9IGVsc2Uge1xuXHRcdHdpbmRvdy5jbGFzc05hbWVzID0gY2xhc3NOYW1lcztcblx0fVxufSgpKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///485\n")}},__webpack_module_cache__={};function __webpack_require__(Q){var F=__webpack_module_cache__[Q];if(void 0!==F)return F.exports;var U=__webpack_module_cache__[Q]={exports:{}};return __webpack_modules__[Q](U,U.exports,__webpack_require__),U.exports}__webpack_require__.n=Q=>{var F=Q&&Q.__esModule?()=>Q.default:()=>Q;return __webpack_require__.d(F,{a:F}),F},__webpack_require__.d=(Q,F)=>{for(var U in F)__webpack_require__.o(F,U)&&!__webpack_require__.o(Q,U)&&Object.defineProperty(Q,U,{enumerable:!0,get:F[U]})},__webpack_require__.o=(Q,F)=>Object.prototype.hasOwnProperty.call(Q,F);var __webpack_exports__=__webpack_require__(337);return __webpack_exports__=__webpack_exports__.default,__webpack_exports__})()));